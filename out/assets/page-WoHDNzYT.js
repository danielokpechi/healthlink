import{n as w,r as d,j as e,l as y,e as N,m as B,o as P}from"./index-C6PY5QRv.js";import{H as S,B as f,F as $}from"./Footer-BepvwvVu.js";import{C as E}from"./Card-D3mEm6qj.js";function O(){const{user:i}=w(),[s,m]=d.useState(!1),[x,b]=d.useState(!1),[j,h]=d.useState(!1),[a,g]=d.useState({firstName:"",lastName:"",email:"",phone:"",bloodType:"",dateOfBirth:"",address:"",emergencyContact:"",emergencyPhone:"",medicalConditions:"",lastDonation:""}),v=["A+","A-","B+","B-","AB+","AB-","O+","O-"],n=r=>r?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():"";d.useEffect(()=>{(async()=>{if(!i)return;const c=y(N,"users",i.uid),o=await B(c);if(o.exists()){const t=o.data();let[u="",p=""]=(t.fullName||"").split(" ");u=n(u),p=n(p),g(C=>({...C,firstName:u,lastName:p,email:t.email||"",phone:t.phone||"",bloodType:t.bloodType||"",dateOfBirth:t.dateOfBirth||"",address:t.address||"",emergencyContact:t.emergencyContact||"",emergencyPhone:t.emergencyPhone||"",medicalConditions:t.medicalConditions||"",lastDonation:t.lastDonation||""}))}})()},[i]),d.useEffect(()=>{},[i]);const l=r=>{g({...a,[r.target.name]:r.target.value})},k=async()=>{b(!0);const r=y(N,"users",i.uid),c=n(a.firstName),o=n(a.lastName),t={...a,firstName:c,lastName:o,fullName:`${c} ${o}`,updatedAt:new Date};await P(r,t),g(t),b(!1),m(!1),h(!0),setTimeout(()=>h(!1),3e3)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(S,{}),e.jsx("section",{className:"bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 text-white pt-24",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-user-heart-line text-white text-3xl"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[n(a.firstName)," ",n(a.lastName)]}),e.jsxs("p",{className:"text-pink-100 text-lg",children:["Blood Type: ",a.bloodType||"Not specified"]}),e.jsx("div",{className:"flex items-center space-x-4 mt-2",children:e.jsx("span",{className:"text-pink-100 text-sm"})})]})]}),e.jsx("div",{className:"flex space-x-3",children:s?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(f,{onClick:()=>m(!1),className:"bg-white/20 border border-white/30 text-white hover:bg-white/30",children:"Cancel"}),e.jsxs(f,{onClick:k,disabled:x,className:"bg-white text-pink-600 hover:bg-gray-50",children:[x?e.jsx("i",{className:"ri-loader-4-line mr-2 animate-spin"}):e.jsx("i",{className:"ri-save-line mr-2"}),x?"Saving...":"Save Changes"]})]}):e.jsxs(f,{onClick:()=>m(!0),className:"bg-white text-pink-600 hover:bg-gray-50",children:[e.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Profile"]})})]})})}),j&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line text-green-500 mr-2"}),e.jsx("span",{className:"text-green-800",children:"Profile updated successfully!"})]})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(E,{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Personal Information"}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:l,disabled:!s,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:l,disabled:!s,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:l,disabled:!s,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:l,disabled:!s,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Type"}),e.jsxs("select",{name:"bloodType",value:a.bloodType,onChange:l,disabled:!s,className:`w-full px-3 py-2 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`,children:[e.jsx("option",{value:"",children:"Select blood type"}),v.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:a.dateOfBirth,onChange:l,disabled:!s,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("textarea",{name:"address",value:a.address,onChange:l,disabled:!s,rows:3,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`,placeholder:"Enter your full address"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Name"}),e.jsx("input",{type:"text",name:"emergencyContact",value:a.emergencyContact,onChange:l,disabled:!s,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Phone"}),e.jsx("input",{type:"tel",name:"emergencyPhone",value:a.emergencyPhone,onChange:l,disabled:!s,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medical Conditions / Allergies"}),e.jsx("textarea",{name:"medicalConditions",value:a.medicalConditions,onChange:l,disabled:!s,rows:3,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 ${s?"":"bg-gray-50 text-gray-600"}`,placeholder:"List any medical conditions, allergies, or medications"})]})]})]})})})})}),e.jsx($,{})]})}export{O as default};
//# sourceMappingURL=page-WoHDNzYT.js.map
