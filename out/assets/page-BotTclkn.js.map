{"version":3,"file":"page-BotTclkn.js","sources":["../../src/pages/admin/dashboard/page.tsx"],"sourcesContent":["\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../../../components/feature/Header';\nimport Footer from '../../../components/feature/Footer';\nimport Button from '../../../components/base/Button';\nimport Card from '../../../components/base/Card';\nimport Badge from '../../../components/base/Badge';\nimport { collection, getDocs, updateDoc, doc, Timestamp } from 'firebase/firestore';\nimport { db } from '../../../firebase/index';\n\nexport default function AdminDashboard() {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [timeRange, setTimeRange] = useState('7d');\n\n  const globalStats = {\n    totalBloodBanks: 0,\n    activeDonors: 8392,\n    totalRequests: 2847,\n    completedDonations: 12847,\n    totalRevenue: 2847392,\n    monthlyRevenue: 284739,\n    pendingApprovals: 0\n  };\n\n  const [bloodBanks, setBloodBanks] = useState<any[]>([]);\n  const [loadingBanks, setLoadingBanks] = useState(true);\n\n  const loadBloodBanks = async () => {\n    setLoadingBanks(true);\n    try {\n      const q = collection(db, 'blood_banks');\n      const snap = await getDocs(q);\n      const items = snap.docs.map(d => {\n        const data = d.data() as any;\n        return {\n          id: d.id,\n          name: data.name || data.organizationName || data.title || 'Unnamed',\n          contactEmail: data.contactEmail || data.contactEmail || '',\n          address: data.address || data.location || '',\n          licenseNumber: data.licenseNumber || data.license || null,\n          approved: !!data.approved,\n          status: data.status || (data.approved ? 'approved' : 'pending'),\n          createdAt: data.createdAt || data.createdAt || null,\n          updatedAt: data.updatedAt || data.approvedAt || data.updatedAt || null,\n          raw: data\n        };\n      });\n      setBloodBanks(items);\n    } catch (e) {\n      console.error('Failed to load blood banks', e);\n    } finally {\n      setLoadingBanks(false);\n    }\n  };\n\n  useEffect(() => {\n    loadBloodBanks();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const recentActivity = [\n    { type: 'donation', user: 'John Smith', bloodType: 'O+', time: '2 hours ago', location: 'City General' },\n    { type: 'request', user: 'Sarah Johnson', bloodType: 'A-', time: '3 hours ago', location: 'Regional Medical' },\n    { type: 'approval', user: 'Metro Hospital', action: 'Blood bank approved', time: '5 hours ago' },\n    { type: 'donation', user: 'Mike Brown', bloodType: 'B+', time: '6 hours ago', location: 'Community Center' }\n  ];\n\n  const topBloodBanks = [\n    { name: 'City General Blood Bank', donations: 1247, revenue: 156750, rating: 4.9 },\n    { name: 'Regional Medical Center', donations: 1089, revenue: 136125, rating: 4.8 },\n    { name: 'Metro Hospital', donations: 892, revenue: 111500, rating: 4.7 },\n    { name: 'Community Blood Services', donations: 756, revenue: 94500, rating: 4.6 }\n  ];\n\n  const inventoryOverview = [\n    { type: 'A+', total: 1247, critical: 23, percentage: 15.2 },\n    { type: 'A-', total: 892, critical: 18, percentage: 10.9 },\n    { type: 'B+', total: 1089, critical: 12, percentage: 13.3 },\n    { type: 'B-', total: 567, critical: 8, percentage: 6.9 },\n    { type: 'AB+', total: 423, critical: 15, percentage: 5.2 },\n    { type: 'AB-', total: 234, critical: 22, percentage: 2.9 },\n    { type: 'O+', total: 1876, critical: 5, percentage: 22.9 },\n    { type: 'O-', total: 892, critical: 31, percentage: 10.9 }\n  ];\n\n  const handleApproveBloodBank = async (id: string) => {\n    try {\n      // Debug log when approving a bank\n      // eslint-disable-next-line no-console\n      console.debug('[Admin] approving bank id=', id);\n      const bankRef = doc(db, 'blood_banks', id);\n      await updateDoc(bankRef, { approved: true, approvedAt: Timestamp.now(), status: 'approved', updatedAt: Timestamp.now() });\n      setBloodBanks(prev => prev.map(b => b.id === id ? { ...b, approved: true, status: 'approved', updatedAt: Timestamp.now() } : b));\n    } catch (e) {\n      console.error('Approve failed', e);\n      alert('Failed to approve');\n    }\n  };\n\n  const handleRejectBloodBank = async (id: string) => {\n    try {\n      // Debug log when rejecting a bank\n      // eslint-disable-next-line no-console\n      console.debug('[Admin] rejecting bank id=', id);\n      const bankRef = doc(db, 'blood_banks', id);\n      // mark as rejected and revoke approval so the facility cannot sign in\n      await updateDoc(bankRef, { status: 'rejected', rejectedAt: Timestamp.now(), approved: false, updatedAt: Timestamp.now() });\n      setBloodBanks(prev => prev.map(b => b.id === id ? { ...b, status: 'rejected', updatedAt: Timestamp.now() } : b));\n    } catch (e) {\n      console.error('Reject failed', e);\n      alert('Failed to reject');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-pink-50/30\">\n      <Header />\n      \n      {/* Admin Header */}\n      <section className=\"bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 text-white\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <div className=\"flex justify-between items-center mt-20\">\n            <div>\n              <h1 className=\"text-4xl font-bold mb-2\">\n                Super Admin Dashboard\n              </h1>\n              <p className=\"text-pink-100 text-lg\">\n                Global platform management and analytics\n              </p>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <select\n                value={timeRange}\n                onChange={(e) => setTimeRange(e.target.value)}\n                className=\"px-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:ring-2 focus:ring-white/50 pr-8\"\n              >\n                <option value=\"24h\">Last 24 Hours</option>\n                <option value=\"7d\">Last 7 Days</option>\n                <option value=\"30d\">Last 30 Days</option>\n                <option value=\"90d\">Last 90 Days</option>\n              </select>\n              <Button className=\"bg-white text-pink-600 hover:bg-gray-50\">\n                <i className=\"ri-download-line mr-2\"></i>\n                Export Report\n              </Button>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Navigation Tabs */}\n      <section className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex space-x-8\">\n            {[\n              { id: 'overview', label: 'Overview', icon: 'ri-dashboard-line' },\n              { id: 'bloodbanks', label: 'Blood Banks', icon: 'ri-hospital-line' },\n              { id: 'inventory', label: 'Global Inventory', icon: 'ri-drop-line' },\n              { id: 'users', label: 'Users & Donors', icon: 'ri-user-line' },\n              { id: 'analytics', label: 'Analytics', icon: 'ri-bar-chart-line' }\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`py-4 px-2 border-b-2 font-medium text-sm transition-colors duration-200 whitespace-nowrap ${\n                  activeTab === tab.id\n                    ? 'border-pink-500 text-pink-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                <i className={`${tab.icon} mr-2`}></i>\n                {tab.label}\n              </button>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Content */}\n      <section className=\"py-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          {activeTab === 'overview' && (\n            <div className=\"space-y-8\">\n              {/* Key Metrics */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                <Card className=\"bg-gradient-to-r from-pink-500 to-rose-500 text-white border-0\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-pink-100 text-sm\">Total Blood Banks</p>\n                      <p className=\"text-3xl font-bold\">{globalStats.totalBloodBanks}</p>\n                    </div>\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center\">\n                      <i className=\"ri-hospital-line text-2xl\"></i>\n                    </div>\n                  </div>\n                </Card>\n\n                <Card className=\"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-purple-100 text-sm\">Active Donors</p>\n                      <p className=\"text-3xl font-bold\">{globalStats.activeDonors.toLocaleString()}</p>\n                    </div>\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center\">\n                      <i className=\"ri-user-heart-line text-2xl\"></i>\n                    </div>\n                  </div>\n                </Card>\n\n                <Card className=\"bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-blue-100 text-sm\">Total Revenue</p>\n                      <p className=\"text-3xl font-bold\">${(globalStats.totalRevenue / 1000000).toFixed(1)}M</p>\n                    </div>\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center\">\n                      <i className=\"ri-money-dollar-circle-line text-2xl\"></i>\n                    </div>\n                  </div>\n                </Card>\n\n                <Card className=\"bg-gradient-to-r from-green-500 to-blue-500 text-white border-0\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-green-100 text-sm\">Lives Saved</p>\n                      <p className=\"text-3xl font-bold\">{globalStats.completedDonations.toLocaleString()}</p>\n                    </div>\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center\">\n                      <i className=\"ri-heart-pulse-line text-2xl\"></i>\n                    </div>\n                  </div>\n                </Card>\n              </div>\n\n              {/* Pending Approvals Alert */}\n              {globalStats.pendingApprovals > 0 && (\n                <Card className=\"border-l-4 border-l-yellow-500 bg-yellow-50\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center\">\n                      <i className=\"ri-alert-line text-yellow-500 text-xl mr-3\"></i>\n                      <div>\n                        <h3 className=\"font-semibold text-gray-900\">Pending Blood Bank Approvals</h3>\n                        <p className=\"text-gray-600\">{globalStats.pendingApprovals} blood banks awaiting approval</p>\n                      </div>\n                    </div>\n                    <Button \n                      onClick={() => setActiveTab('bloodbanks')}\n                      className=\"bg-yellow-500 hover:bg-yellow-600 text-white\"\n                    >\n                      Review Now\n                    </Button>\n                  </div>\n                </Card>\n              )}\n\n              {/* Recent Activity & Top Performers */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                <Card>\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Recent Activity</h3>\n                  <div className=\"space-y-4\">\n                    {recentActivity.map((activity, index) => (\n                      <div key={index} className=\"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg\">\n                        <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\n                          activity.type === 'donation' ? 'bg-green-100' :\n                          activity.type === 'request' ? 'bg-blue-100' : 'bg-purple-100'\n                        }`}>\n                          <i className={`${\n                            activity.type === 'donation' ? 'ri-heart-fill text-green-500' :\n                            activity.type === 'request' ? 'ri-search-line text-blue-500' : 'ri-check-line text-purple-500'\n                          }`}></i>\n                        </div>\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium text-gray-900\">{activity.user}</p>\n                          <p className=\"text-sm text-gray-600\">\n                            {activity.type === 'donation' ? `Donated ${activity.bloodType}` :\n                             activity.type === 'request' ? `Requested ${activity.bloodType}` : activity.action}\n                            {activity.location && ` at ${activity.location}`}\n                          </p>\n                        </div>\n                        <span className=\"text-xs text-gray-500\">{activity.time}</span>\n                      </div>\n                    ))}\n                  </div>\n                </Card>\n\n                <Card>\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Top Performing Blood Banks</h3>\n                  <div className=\"space-y-4\">\n                    {topBloodBanks.map((bank, index) => (\n                      <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                        <div className=\"flex items-center space-x-3\">\n                          <div className=\"w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center text-white font-bold text-sm\">\n                            {index + 1}\n                          </div>\n                          <div>\n                            <p className=\"font-medium text-gray-900\">{bank.name}</p>\n                            <p className=\"text-sm text-gray-600\">{bank.donations} donations</p>\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"font-semibold text-gray-900\">${bank.revenue.toLocaleString()}</p>\n                          <div className=\"flex items-center\">\n                            <i className=\"ri-star-fill text-yellow-400 text-sm mr-1\"></i>\n                            <span className=\"text-sm text-gray-600\">{bank.rating}</span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </Card>\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'bloodbanks' && (\n            <div className=\"space-y-8\">\n              <Card>\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Blood Banks</h3>\n                  <Badge variant=\"warning\">{bloodBanks.filter(b => b.status === 'pending').length} Pending</Badge>\n                </div>\n\n                <div className=\"space-y-4\">\n                  {loadingBanks && (\n                    <Card>\n                      <p className=\"text-gray-600\">Loading blood banks...</p>\n                    </Card>\n                  )}\n\n                  {!loadingBanks && (\n                    (() => {\n                      // pending first\n                      const pending = bloodBanks.filter(b => b.status === 'pending');\n                      const others = bloodBanks.filter(b => b.status !== 'pending')\n                        .sort((a, b) => {\n                          const aDate = a.updatedAt && a.updatedAt.toDate ? a.updatedAt.toDate().getTime() : 0;\n                          const bDate = b.updatedAt && b.updatedAt.toDate ? b.updatedAt.toDate().getTime() : 0;\n                          return bDate - aDate;\n                        });\n                      const ordered = [...pending, ...others];\n\n                      return ordered.map((application) => (\n                        <Card key={application.id} className={`border-l-4 ${application.status === 'pending' ? 'border-l-yellow-500' : application.status === 'approved' ? 'border-l-green-500' : 'border-l-red-500'}`}>\n                          <div className=\"flex justify-between items-start\">\n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center space-x-3 mb-2\">\n                                <h4 className=\"text-lg font-semibold text-gray-900\">{application.name}</h4>\n                                <Badge variant={application.status === 'pending' ? 'warning' : application.status === 'approved' ? 'success' : 'danger'}>\n                                  {application.status.toUpperCase()}\n                                </Badge>\n                              </div>\n\n                              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600\">\n                                <div>\n                                  <span className=\"font-medium\">Location:</span>\n                                  <span className=\"ml-1\">{application.address}</span>\n                                </div>\n                                <div>\n                                  <span className=\"font-medium\">License:</span>\n                                  <span className=\"ml-1\">{application.licenseNumber || '-'}</span>\n                                </div>\n                                <div>\n                                  <span className=\"font-medium\">Submitted:</span>\n                                  <span className=\"ml-1\">{application.createdAt && application.createdAt.toDate ? application.createdAt.toDate().toLocaleString() : '-'}</span>\n                                </div>\n                              </div>\n\n                              <div className=\"mt-2\">\n                                <span className=\"font-medium text-sm text-gray-600\">Contact:</span>\n                                <span className=\"ml-1 text-sm text-gray-600\">{application.contactEmail}</span>\n                              </div>\n                            </div>\n\n                            <div className=\"flex space-x-2 ml-4\">\n                              <Button \n                                size=\"sm\" \n                                variant=\"outline\"\n                                onClick={() => handleRejectBloodBank(application.id)}\n                              >\n                                <i className=\"ri-close-line mr-2\"></i>\n                                Reject\n                              </Button>\n                              <Button \n                                size=\"sm\"\n                                onClick={() => handleApproveBloodBank(application.id)}\n                                className=\"bg-green-500 hover:bg-green-600 text-white\"\n                              >\n                                <i className=\"ri-check-line mr-2\"></i>\n                                Approve\n                              </Button>\n                            </div>\n                          </div>\n                        </Card>\n                      ));\n                    })()\n                  )}\n                </div>\n              </Card>\n            </div>\n          )}\n\n          {activeTab === 'inventory' && (\n            <div className=\"space-y-8\">\n              <Card>\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Global Blood Inventory</h3>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                  {inventoryOverview.map((blood) => (\n                    <Card key={blood.type} className=\"border-2 border-gray-100\">\n                      <div className=\"text-center\">\n                        <div className=\"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                          <span className=\"text-2xl font-bold text-pink-600\">{blood.type}</span>\n                        </div>\n                        \n                        <div className=\"space-y-2\">\n                          <div>\n                            <p className=\"text-2xl font-bold text-gray-900\">{blood.total}</p>\n                            <p className=\"text-sm text-gray-600\">Total Units</p>\n                          </div>\n                          \n                          <div className={`p-2 rounded-lg ${\n                            blood.critical > 20 ? 'bg-red-50 text-red-700' :\n                            blood.critical > 10 ? 'bg-yellow-50 text-yellow-700' : 'bg-green-50 text-green-700'\n                          }`}>\n                            <p className=\"text-sm font-medium\">{blood.critical} Critical Stock</p>\n                          </div>\n                          \n                          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                            <div \n                              className=\"bg-pink-500 h-2 rounded-full\" \n                              style={{ width: `${blood.percentage}%` }}\n                            ></div>\n                          </div>\n                          <p className=\"text-xs text-gray-500\">{blood.percentage}% of total</p>\n                        </div>\n                      </div>\n                    </Card>\n                  ))}\n                </div>\n              </Card>\n            </div>\n          )}\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n}\n"],"names":["AdminDashboard","activeTab","setActiveTab","useState","timeRange","setTimeRange","globalStats","bloodBanks","setBloodBanks","loadingBanks","setLoadingBanks","loadBloodBanks","q","collection","db","items","getDocs","d","data","e","useEffect","recentActivity","topBloodBanks","inventoryOverview","handleApproveBloodBank","id","bankRef","doc","updateDoc","Timestamp","prev","b","handleRejectBloodBank","jsxs","jsx","Header","Button","tab","Card","activity","index","bank","Badge","pending","others","a","aDate","application","blood","Footer"],"mappings":"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"}