const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-eoN-7b4o.js","assets/Footer-BgyF9YbZ.js","assets/Card-BV6nY3lC.js","assets/Badge-DrLAeyKa.js","assets/page-zEFwpBlv.js","assets/page-CVzEVKGf.js","assets/page-Bm7r3mol.js","assets/page-CelyTULn.js","assets/page-9LME2Dr5.js","assets/page-D0x8EEFT.js","assets/page-BEW1gqpq.js","assets/page-BgYx1qOU.js","assets/page-mdzxi1Mh.js","assets/page-4GELJ9AM.js","assets/page-IZW6Z5He.js","assets/page-CRBBMLXg.js","assets/page-BotTclkn.js","assets/page-mAynIQ4c.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Dm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function S1(){if(oE)return Bl;oE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var lE;function A1(){return lE||(lE=1,Dm.exports=S1()),Dm.exports}var qe=A1(),Om={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function w1(){if(uE)return Ae;uE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,F={};function te(O,Y,se){this.props=O,this.context=Y,this.refs=F,this.updater=se||k}te.prototype.isReactComponent={},te.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},te.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=te.prototype;function re(O,Y,se){this.props=O,this.context=Y,this.refs=F,this.updater=se||k}var de=re.prototype=new W;de.constructor=re,K(de,te.prototype),de.isPureReactComponent=!0;var _e=Array.isArray;function Te(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,Y,se){var ae=se.ref;return{$$typeof:i,type:O,key:Y,ref:ae!==void 0?ae:null,props:se}}function M(O,Y){return R(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Y[se]})}var I=/\/+/g;function xe(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):Y.toString(36)}function ct(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Te,Te):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,se,ae,ve){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(Ie){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case i:case e:ze=!0;break;case v:return ze=O._init,G(ze(O._payload),Y,se,ae,ve)}}if(ze)return ve=ve(O),ze=ae===""?"."+xe(O,0):ae,_e(ve)?(se="",ze!=null&&(se=ze.replace(I,"$&/")+"/"),G(ve,Y,se,"",function(ws){return ws})):ve!=null&&(x(ve)&&(ve=M(ve,se+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+ze)),Y.push(ve)),1;ze=0;var xt=ae===""?".":ae+":";if(_e(O))for(var at=0;at<O.length;at++)ae=O[at],Ie=xt+xe(ae,at),ze+=G(ae,Y,se,Ie,ve);else if(at=N(O),typeof at=="function")for(O=at.call(O),at=0;!(ae=O.next()).done;)ae=ae.value,Ie=xt+xe(ae,at++),ze+=G(ae,Y,se,Ie,ve);else if(Ie==="object"){if(typeof O.then=="function")return G(ct(O),Y,se,ae,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ne(O,Y,se){if(O==null)return O;var ae=[],ve=0;return G(O,ae,"","",function(Ie){return Y.call(se,Ie,ve++)}),ae}function he(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var De=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},je={map:ne,forEach:function(O,Y,se){ne(O,function(){Y.apply(this,arguments)},se)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=T,Ae.Children=je,Ae.Component=te,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=re,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,Y,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=K({},O.props),ve=O.key;if(Y!=null)for(Ie in Y.key!==void 0&&(ve=""+Y.key),Y)!b.call(Y,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Y.ref===void 0||(ae[Ie]=Y[Ie]);var Ie=arguments.length-2;if(Ie===1)ae.children=se;else if(1<Ie){for(var ze=Array(Ie),xt=0;xt<Ie;xt++)ze[xt]=arguments[xt+2];ae.children=ze}return R(O.type,ve,ae)},Ae.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ae.createElement=function(O,Y,se){var ae,ve={},Ie=null;if(Y!=null)for(ae in Y.key!==void 0&&(Ie=""+Y.key),Y)b.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=Y[ae]);var ze=arguments.length-2;if(ze===1)ve.children=se;else if(1<ze){for(var xt=Array(ze),at=0;at<ze;at++)xt[at]=arguments[at+2];ve.children=xt}if(O&&O.defaultProps)for(ae in ze=O.defaultProps,ze)ve[ae]===void 0&&(ve[ae]=ze[ae]);return R(O,Ie,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:d,render:O}},Ae.isValidElement=x,Ae.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:he}},Ae.memo=function(O,Y){return{$$typeof:g,type:O,compare:Y===void 0?null:Y}},Ae.startTransition=function(O){var Y=C.T,se={};C.T=se;try{var ae=O(),ve=C.S;ve!==null&&ve(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Te,De)}catch(Ie){De(Ie)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),C.T=Y}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(O){return C.H.use(O)},Ae.useActionState=function(O,Y,se){return C.H.useActionState(O,Y,se)},Ae.useCallback=function(O,Y){return C.H.useCallback(O,Y)},Ae.useContext=function(O){return C.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},Ae.useEffect=function(O,Y){return C.H.useEffect(O,Y)},Ae.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(O,Y,se){return C.H.useImperativeHandle(O,Y,se)},Ae.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},Ae.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},Ae.useMemo=function(O,Y){return C.H.useMemo(O,Y)},Ae.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},Ae.useReducer=function(O,Y,se){return C.H.useReducer(O,Y,se)},Ae.useRef=function(O){return C.H.useRef(O)},Ae.useState=function(O){return C.H.useState(O)},Ae.useSyncExternalStore=function(O,Y,se){return C.H.useSyncExternalStore(O,Y,se)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.0",Ae}var cE;function Op(){return cE||(cE=1,Om.exports=w1()),Om.exports}var $=Op();const Ee=i=>typeof i=="string",jl=()=>{let i,e;const n=new Promise((s,o)=>{i=s,e=o});return n.resolve=i,n.reject=e,n},hE=i=>i==null?"":""+i,b1=(i,e,n)=>{i.forEach(s=>{e[s]&&(n[s]=e[s])})},R1=/###/g,fE=i=>i&&i.indexOf("###")>-1?i.replace(R1,"."):i,dE=i=>!i||Ee(i),Jl=(i,e,n)=>{const s=Ee(e)?e.split("."):e;let o=0;for(;o<s.length-1;){if(dE(i))return{};const u=fE(s[o]);!i[u]&&n&&(i[u]=new n),Object.prototype.hasOwnProperty.call(i,u)?i=i[u]:i={},++o}return dE(i)?{}:{obj:i,k:fE(s[o])}},mE=(i,e,n)=>{const{obj:s,k:o}=Jl(i,e,Object);if(s!==void 0||e.length===1){s[o]=n;return}let u=e[e.length-1],c=e.slice(0,e.length-1),d=Jl(i,c,Object);for(;d.obj===void 0&&c.length;)u=`${c[c.length-1]}.${u}`,c=c.slice(0,c.length-1),d=Jl(i,c,Object),d?.obj&&typeof d.obj[`${d.k}.${u}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${u}`]=n},I1=(i,e,n,s)=>{const{obj:o,k:u}=Jl(i,e,Object);o[u]=o[u]||[],o[u].push(n)},Dh=(i,e)=>{const{obj:n,k:s}=Jl(i,e);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},C1=(i,e,n)=>{const s=Dh(i,n);return s!==void 0?s:Dh(e,n)},R0=(i,e,n)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in i?Ee(i[s])||i[s]instanceof String||Ee(e[s])||e[s]instanceof String?n&&(i[s]=e[s]):R0(i[s],e[s],n):i[s]=e[s]);return i},lo=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var D1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const O1=i=>Ee(i)?i.replace(/[&<>"'\/]/g,e=>D1[e]):i;class N1{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const x1=[" ",",","?","!",";"],V1=new N1(20),M1=(i,e,n)=>{e=e||"",n=n||"";const s=x1.filter(c=>e.indexOf(c)<0&&n.indexOf(c)<0);if(s.length===0)return!0;const o=V1.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let u=!o.test(i);if(!u){const c=i.indexOf(n);c>0&&!o.test(i.substring(0,c))&&(u=!0)}return u},Wm=(i,e,n=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const s=e.split(n);let o=i;for(let u=0;u<s.length;){if(!o||typeof o!="object")return;let c,d="";for(let p=u;p<s.length;++p)if(p!==u&&(d+=n),d+=s[p],c=o[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<s.length-1)continue;u+=p-u+1;break}o=c}return o},su=i=>i?.replace("_","-"),L1={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console?.[i]?.apply?.(console,e)}};let P1=class ep{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||L1,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,s,o){return o&&!this.debug?null:(Ee(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ep(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ep(this.logger,e)}};var Mi=new P1;class tf{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(n)||0;this.observers[s].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,u])=>{for(let c=0;c<u;c++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,u])=>{for(let c=0;c<u;c++)o.apply(o,[e,...n])})}}class pE extends tf{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,s,o={}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,n],s&&(Array.isArray(s)?d.push(...s):Ee(s)&&u?d.push(...s.split(u)):d.push(s)));const p=Dh(this.data,d);return!p&&!n&&!s&&e.indexOf(".")>-1&&(e=d[0],n=d[1],s=d.slice(2).join(".")),p||!c||!Ee(s)?p:Wm(this.data?.[e]?.[n],s,u)}addResource(e,n,s,o,u={silent:!1}){const c=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let d=[e,n];s&&(d=d.concat(c?s.split(c):s)),e.indexOf(".")>-1&&(d=e.split("."),o=n,n=d[1]),this.addNamespaces(n),mE(this.data,d,o),u.silent||this.emit("added",e,n,s,o)}addResources(e,n,s,o={silent:!1}){for(const u in s)(Ee(s[u])||Array.isArray(s[u]))&&this.addResource(e,n,u,s[u],{silent:!0});o.silent||this.emit("added",e,n,s)}addResourceBundle(e,n,s,o,u,c={silent:!1,skipCopy:!1}){let d=[e,n];e.indexOf(".")>-1&&(d=e.split("."),o=s,s=n,n=d[1]),this.addNamespaces(n);let p=Dh(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?R0(p,s,u):p={...p,...s},mE(this.data,d,p),c.silent||this.emit("added",e,n,s)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var I0={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,n,s,o){return i.forEach(u=>{e=this.processors[u]?.process(e,n,s,o)??e}),e}};const C0=Symbol("i18next/PATH_KEY");function k1(){const i=[],e=Object.create(null);let n;return e.get=(s,o)=>(n?.revoke?.(),o===C0?i:(i.push(o),n=Proxy.revocable(s,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function tp(i,e){const{[C0]:n}=i(k1());return n.join(e?.keySeparator??".")}const gE={},yE=i=>!Ee(i)&&typeof i!="boolean"&&typeof i!="number";class Oh extends tf{constructor(e,n={}){super(),b1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const s={...n};return e==null?!1:this.resolve(e,s)?.res!==void 0}extractFromKey(e,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let u=n.ns||this.options.defaultNS||[];const c=s&&e.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!M1(e,s,o);if(c&&!d){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Ee(u)?[u]:u};const g=e.split(s);(s!==o||s===o&&this.options.ns.indexOf(g[0])>-1)&&(u=g.shift()),e=g.join(o)}return{key:e,namespaces:Ee(u)?[u]:u}}translate(e,n,s){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=tp(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const u=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(e[e.length-1],o),g=p[p.length-1];let v=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const T=o.lng||this.language,w=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T?.toLowerCase()==="cimode")return w?u?{res:`${g}${v}${d}`,usedKey:d,exactUsedKey:d,usedLng:T,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:`${g}${v}${d}`:u?{res:d,usedKey:d,exactUsedKey:d,usedLng:T,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:d;const N=this.resolve(e,o);let k=N?.res;const K=N?.usedKey||d,F=N?.exactUsedKey||d,te=["[object Number]","[object Function]","[object RegExp]"],W=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,re=!this.i18nFormat||this.i18nFormat.handleAsObject,de=o.count!==void 0&&!Ee(o.count),_e=Oh.hasDefaultValue(o),Te=de?this.pluralResolver.getSuffix(T,o.count,o):"",C=o.ordinal&&de?this.pluralResolver.getSuffix(T,o.count,{ordinal:!1}):"",b=de&&!o.ordinal&&o.count===0,R=b&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${Te}`]||o[`defaultValue${C}`]||o.defaultValue;let M=k;re&&!k&&_e&&(M=R);const x=yE(M),P=Object.prototype.toString.apply(M);if(re&&M&&x&&te.indexOf(P)<0&&!(Ee(W)&&Array.isArray(M))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(K,M,{...o,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return u?(N.res=I,N.usedParams=this.getUsedParamsDetails(o),N):I}if(c){const I=Array.isArray(M),xe=I?[]:{},ct=I?F:K;for(const G in M)if(Object.prototype.hasOwnProperty.call(M,G)){const ne=`${ct}${c}${G}`;_e&&!k?xe[G]=this.translate(ne,{...o,defaultValue:yE(R)?R[G]:void 0,joinArrays:!1,ns:p}):xe[G]=this.translate(ne,{...o,joinArrays:!1,ns:p}),xe[G]===ne&&(xe[G]=M[G])}k=xe}}else if(re&&Ee(W)&&Array.isArray(k))k=k.join(W),k&&(k=this.extendTranslation(k,e,o,s));else{let I=!1,xe=!1;!this.isValidLookup(k)&&_e&&(I=!0,k=R),this.isValidLookup(k)||(xe=!0,k=d);const G=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&xe?void 0:k,ne=_e&&R!==k&&this.options.updateMissing;if(xe||I||ne){if(this.logger.log(ne?"updateKey":"missingKey",T,g,d,ne?R:k),c){const O=this.resolve(d,{...o,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let he=[];const De=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&De&&De[0])for(let O=0;O<De.length;O++)he.push(De[O]);else this.options.saveMissingTo==="all"?he=this.languageUtils.toResolveHierarchy(o.lng||this.language):he.push(o.lng||this.language);const je=(O,Y,se)=>{const ae=_e&&se!==k?se:G;this.options.missingKeyHandler?this.options.missingKeyHandler(O,g,Y,ae,ne,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(O,g,Y,ae,ne,o),this.emit("missingKey",O,g,Y,k)};this.options.saveMissing&&(this.options.saveMissingPlurals&&de?he.forEach(O=>{const Y=this.pluralResolver.getSuffixes(O,o);b&&o[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(se=>{je([O],d+se,o[`defaultValue${se}`]||R)})}):je(he,d,R))}k=this.extendTranslation(k,e,o,N,s),xe&&k===d&&this.options.appendNamespaceToMissingKey&&(k=`${g}${v}${d}`),(xe||I)&&this.options.parseMissingKeyHandler&&(k=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${v}${d}`:d,I?k:void 0,o))}return u?(N.res=k,N.usedParams=this.getUsedParamsDetails(o),N):k}extendTranslation(e,n,s,o,u){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=Ee(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const T=e.match(this.interpolator.nestingRegexp);g=T&&T.length}let v=s.replace&&!Ee(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,s.lng||this.language||o.usedLng,s),p){const T=e.match(this.interpolator.nestingRegexp),w=T&&T.length;g<w&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>u?.[0]===T[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${n[0]}`),null):this.translate(...T,n),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=Ee(c)?[c]:c;return e!=null&&d?.length&&s.applyPostProcessor!==!1&&(e=I0.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,n={}){let s,o,u,c,d;return Ee(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(s))return;const g=this.extractFromKey(p,n),v=g.key;o=v;let T=g.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const w=n.count!==void 0&&!Ee(n.count),N=w&&!n.ordinal&&n.count===0,k=n.context!==void 0&&(Ee(n.context)||typeof n.context=="number")&&n.context!=="",K=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);T.forEach(F=>{this.isValidLookup(s)||(d=F,!gE[`${K[0]}-${F}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(gE[`${K[0]}-${F}`]=!0,this.logger.warn(`key "${o}" for languages "${K.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),K.forEach(te=>{if(this.isValidLookup(s))return;c=te;const W=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(W,v,te,F,n);else{let de;w&&(de=this.pluralResolver.getSuffix(te,n.count,n));const _e=`${this.options.pluralSeparator}zero`,Te=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(n.ordinal&&de.indexOf(Te)===0&&W.push(v+de.replace(Te,this.options.pluralSeparator)),W.push(v+de),N&&W.push(v+_e)),k){const C=`${v}${this.options.contextSeparator||"_"}${n.context}`;W.push(C),w&&(n.ordinal&&de.indexOf(Te)===0&&W.push(C+de.replace(Te,this.options.pluralSeparator)),W.push(C+de),N&&W.push(C+_e))}}let re;for(;re=W.pop();)this.isValidLookup(s)||(u=re,s=this.getResource(te,F,re,n))}))})}),{res:s,usedKey:o,exactUsedKey:u,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,s,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,s,o):this.resourceStore.getResource(e,n,s,o)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Ee(e.replace);let o=s?e.replace:e;if(s&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const u of n)delete o[u]}return o}static hasDefaultValue(e){const n="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n===s.substring(0,n.length)&&e[s]!==void 0)return!0;return!1}}class _E{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mi.create("languageUtils")}getScriptPartFromCode(e){if(e=su(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=su(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Ee(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(s=>{if(n)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(s=>{if(n)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return n=o;const u=this.getLanguagePartFromCode(s);if(this.isSupportedCode(u))return n=u;n=this.options.supportedLngs.find(c=>{if(c===u)return c;if(!(c.indexOf("-")<0&&u.indexOf("-")<0)&&(c.indexOf("-")>0&&u.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===u||c.indexOf(u)===0&&u.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Ee(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let s=e[n];return s||(s=e[this.getScriptPartFromCode(n)]),s||(s=e[this.formatLanguageCode(n)]),s||(s=e[this.getLanguagePartFromCode(n)]),s||(s=e.default),s||[]}toResolveHierarchy(e,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),o=[],u=c=>{c&&(this.isSupportedCode(c)?o.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Ee(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(e))):Ee(e)&&u(this.formatLanguageCode(e)),s.forEach(c=>{o.indexOf(c)<0&&u(this.formatLanguageCode(c))}),o}}const vE={zero:0,one:1,two:2,few:3,many:4,other:5},EE={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class U1{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Mi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const s=su(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:s,type:o});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let c;try{c=new Intl.PluralRules(s,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),EE;if(!e.match(/-|_/))return EE;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,n)}return this.pluralRulesCache[u]=c,c}needsPlural(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,s={}){return this.getSuffixes(e,s).map(o=>`${n}${o}`)}getSuffixes(e,n={}){let s=this.getRule(e,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((o,u)=>vE[o]-vE[u]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,n,s={}){const o=this.getRule(e,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,s))}}const TE=(i,e,n,s=".",o=!0)=>{let u=C1(i,e,n);return!u&&o&&Ee(n)&&(u=Wm(i,n,s),u===void 0&&(u=Wm(e,n,s))),u},Nm=i=>i.replace(/\$/g,"$$$$");class z1{constructor(e={}){this.logger=Mi.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:o,prefix:u,prefixEscaped:c,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:v,unescapePrefix:T,nestingPrefix:w,nestingPrefixEscaped:N,nestingSuffix:k,nestingSuffixEscaped:K,nestingOptionsSeparator:F,maxReplaces:te,alwaysFormat:W}=e.interpolation;this.escape=n!==void 0?n:O1,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=u?lo(u):c||"{{",this.suffix=d?lo(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=v?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=w?lo(w):N||lo("$t("),this.nestingSuffix=k?lo(k):K||lo(")"),this.nestingOptionsSeparator=F||",",this.maxReplaces=te||1e3,this.alwaysFormat=W!==void 0?W:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,s,o){let u,c,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=N=>{if(N.indexOf(this.formatSeparator)<0){const te=TE(n,p,N,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,s,{...o,...n,interpolationkey:N}):te}const k=N.split(this.formatSeparator),K=k.shift().trim(),F=k.join(this.formatSeparator).trim();return this.format(TE(n,p,K,this.options.keySeparator,this.options.ignoreJSONStructure),F,s,{...o,...n,interpolationkey:K})};this.resetRegExp();const v=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,T=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:N=>Nm(N)},{regex:this.regexp,safeValue:N=>this.escapeValue?Nm(this.escape(N)):Nm(N)}].forEach(N=>{for(d=0;u=N.regex.exec(e);){const k=u[1].trim();if(c=g(k),c===void 0)if(typeof v=="function"){const F=v(e,u,o);c=Ee(F)?F:""}else if(o&&Object.prototype.hasOwnProperty.call(o,k))c="";else if(T){c=u[0];continue}else this.logger.warn(`missed to pass in variable ${k} for interpolating ${e}`),c="";else!Ee(c)&&!this.useRawValueToEscape&&(c=hE(c));const K=N.safeValue(c);if(e=e.replace(u[0],K),T?(N.regex.lastIndex+=c.length,N.regex.lastIndex-=u[0].length):N.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,n,s={}){let o,u,c;const d=(p,g)=>{const v=this.nestingOptionsSeparator;if(p.indexOf(v)<0)return p;const T=p.split(new RegExp(`${v}[ ]*{`));let w=`{${T[1]}`;p=T[0],w=this.interpolate(w,c);const N=w.match(/'/g),k=w.match(/"/g);((N?.length??0)%2===0&&!k||k.length%2!==0)&&(w=w.replace(/'/g,'"'));try{c=JSON.parse(w),g&&(c={...g,...c})}catch(K){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,K),`${p}${v}${w}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;o=this.nestingRegexp.exec(e);){let p=[];c={...s},c=c.replace&&!Ee(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const g=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(g!==-1&&(p=o[1].slice(g).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),o[1]=o[1].slice(0,g)),u=n(d.call(this,o[1].trim(),c),c),u&&o[0]===e&&!Ee(u))return u;Ee(u)||(u=hE(u)),u||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),u=""),p.length&&(u=p.reduce((v,T)=>this.format(v,T,s.lng,{...s,interpolationkey:o[1].trim()}),u.trim())),e=e.replace(o[0],u),this.regexp.lastIndex=0}return e}}const B1=i=>{let e=i.toLowerCase().trim();const n={};if(i.indexOf("(")>-1){const s=i.split("(");e=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(c=>{if(c){const[d,...p]=c.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();n[v]||(n[v]=g),g==="false"&&(n[v]=!1),g==="true"&&(n[v]=!0),isNaN(g)||(n[v]=parseInt(g,10))}})}return{formatName:e,formatOptions:n}},SE=i=>{const e={};return(n,s,o)=>{let u=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(u={...u,[o.interpolationkey]:void 0});const c=s+JSON.stringify(u);let d=e[c];return d||(d=i(su(s),o),e[c]=d),d(n)}},j1=i=>(e,n,s)=>i(su(n),s)(e);class F1{constructor(e={}){this.logger=Mi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?SE:j1;this.formats={number:s((o,u)=>{const c=new Intl.NumberFormat(o,{...u});return d=>c.format(d)}),currency:s((o,u)=>{const c=new Intl.NumberFormat(o,{...u,style:"currency"});return d=>c.format(d)}),datetime:s((o,u)=>{const c=new Intl.DateTimeFormat(o,{...u});return d=>c.format(d)}),relativetime:s((o,u)=>{const c=new Intl.RelativeTimeFormat(o,{...u});return d=>c.format(d,u.range||"day")}),list:s((o,u)=>{const c=new Intl.ListFormat(o,{...u});return d=>c.format(d)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=SE(n)}format(e,n,s,o={}){const u=n.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(d=>d.indexOf(")")>-1)){const d=u.findIndex(p=>p.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,d)].join(this.formatSeparator)}return u.reduce((d,p)=>{const{formatName:g,formatOptions:v}=B1(p);if(this.formats[g]){let T=d;try{const w=o?.formatParams?.[o.interpolationkey]||{},N=w.locale||w.lng||o.locale||o.lng||s;T=this.formats[g](d,N,{...v,...o,...w})}catch(w){this.logger.warn(w)}return T}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const H1=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class q1 extends tf{constructor(e,n,s,o={}){super(),this.backend=e,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=Mi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,o.backend,o)}queueLoad(e,n,s,o){const u={},c={},d={},p={};return e.forEach(g=>{let v=!0;n.forEach(T=>{const w=`${g}|${T}`;!s.reload&&this.store.hasResourceBundle(g,T)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?c[w]===void 0&&(c[w]=!0):(this.state[w]=1,v=!1,c[w]===void 0&&(c[w]=!0),u[w]===void 0&&(u[w]=!0),p[T]===void 0&&(p[T]=!0)))}),v||(d[g]=!0)}),(Object.keys(u).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(e,n,s){const o=e.split("|"),u=o[0],c=o[1];n&&this.emit("failedLoading",u,c,n),!n&&s&&this.store.addResourceBundle(u,c,s,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&s&&(this.state[e]=0);const d={};this.queue.forEach(p=>{I1(p.loaded,[u],c),H1(p,e),n&&p.errors.push(n),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const v=p.loaded[g];v.length&&v.forEach(T=>{d[g][T]===void 0&&(d[g][T]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(e,n,s,o=0,u=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:s,tried:o,wait:u,callback:c});return}this.readingCalls++;const d=(g,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(g&&v&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,s,o+1,u*2,c)},u);return}c(g,v)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const g=p(e,n);g&&typeof g.then=="function"?g.then(v=>d(null,v)).catch(d):d(null,g)}catch(g){d(g)}return}return p(e,n,d)}prepareLoading(e,n,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();Ee(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ee(n)&&(n=[n]);const u=this.queueLoad(e,n,s,o);if(!u.toLoad.length)return u.pending.length||o(),null;u.toLoad.forEach(c=>{this.loadOne(c)})}load(e,n,s){this.prepareLoading(e,n,{},s)}reload(e,n,s){this.prepareLoading(e,n,{reload:!0},s)}loadOne(e,n=""){const s=e.split("|"),o=s[0],u=s[1];this.read(o,u,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${u} for language ${o} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${u} for language ${o}`,d),this.loaded(e,c,d)})}saveMissing(e,n,s,o,u,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const p={...c,isUpdate:u},g=this.backend.create.bind(this.backend);if(g.length<6)try{let v;g.length===5?v=g(e,n,s,o,p):v=g(e,n,s,o),v&&typeof v.then=="function"?v.then(T=>d(null,T)).catch(d):d(null,v)}catch(v){d(v)}else g(e,n,s,o,d,p)}!e||!e[0]||this.store.addResource(e[0],n,s,o)}}}const AE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),Ee(i[1])&&(e.defaultValue=i[1]),Ee(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const n=i[3]||i[2];Object.keys(n).forEach(s=>{e[s]=n[s]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),wE=i=>(Ee(i.ns)&&(i.ns=[i.ns]),Ee(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),Ee(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs?.indexOf?.("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i),ah=()=>{},G1=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(n=>{typeof i[n]=="function"&&(i[n]=i[n].bind(i))})};class au extends tf{constructor(e={},n){if(super(),this.options=wE(e),this.services={},this.logger=Mi,this.modules={external:[]},G1(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(Ee(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=AE();this.options={...s,...this.options,...wE(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Mi.init(o(this.modules.logger),this.options):Mi.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=F1;const v=new _E(this.options);this.store=new pE(this.options.resources,this.options);const T=this.services;T.logger=Mi,T.resourceStore=this.store,T.languageUtils=v,T.pluralResolver=new U1(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(T.formatter=o(g),T.formatter.init&&T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new z1(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new q1(o(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",(N,...k)=>{this.emit(N,...k)}),this.modules.languageDetector&&(T.languageDetector=o(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=o(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new Oh(this.services,this.options),this.translator.on("*",(N,...k)=>{this.emit(N,...k)}),this.modules.external.forEach(N=>{N.init&&N.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ah),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...v)=>this.store[g](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...v)=>(this.store[g](...v),this)});const d=jl(),p=()=>{const g=(v,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(T),n(v,T)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(e,n=ah){let s=n;const o=Ee(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const u=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&u.indexOf(g)<0&&u.push(g)})};o?c(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>c(p)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(u,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,n,s){const o=jl();return typeof e=="function"&&(s=e,e=void 0),typeof n=="function"&&(s=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),s||(s=ah),this.services.backendConnector.reload(e,n,u=>{o.resolve(),s(u)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&I0.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const s=jl();this.emit("languageChanging",e);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},u=(d,p)=>{p?this.isLanguageChangingTo===e&&(o(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...g)=>this.t(...g)),n&&n(d,(...g)=>this.t(...g))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const p=Ee(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Ee(d)?[d]:d);g&&(this.language||o(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,v=>{u(v,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}getFixedT(e,n,s){const o=(u,c,...d)=>{let p;typeof c!="object"?p=this.options.overloadTranslationOptionHandler([u,c].concat(d)):p={...c},p.lng=p.lng||o.lng,p.lngs=p.lngs||o.lngs,p.ns=p.ns||o.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||o.keyPrefix);const g=this.options.keySeparator||".";let v;return p.keyPrefix&&Array.isArray(u)?v=u.map(T=>(typeof T=="function"&&(T=tp(T,{...this.options,...c})),`${p.keyPrefix}${g}${T}`)):(typeof u=="function"&&(u=tp(u,{...this.options,...c})),v=p.keyPrefix?`${p.keyPrefix}${g}${u}`:u),this.t(v,p)};return Ee(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=s,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,e)&&(!o||c(u,e)))}loadNamespaces(e,n){const s=jl();return this.options.ns?(Ee(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}loadLanguages(e,n){const s=jl();Ee(e)&&(e=[e]);const o=this.options.preload||[],u=e.filter(c=>o.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return u.length?(this.options.preload=o.concat(u),this.loadResources(c=>{s.resolve(),n&&n(c)}),s):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const u=o.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new _E(AE());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new au(e,n)}cloneInstance(e={},n=ah){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},u=new au(o);if((e.debug!==void 0||e.prefix!==void 0)&&(u.logger=u.logger.clone(e)),["store","services","language"].forEach(d=>{u[d]=this[d]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},s){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((v,T)=>(v[T]={...p[g][T]},v),p[g]),p),{});u.store=new pE(d,o),u.services.resourceStore=u.store}return u.translator=new Oh(u.services,o),u.translator.on("*",(d,...p)=>{u.emit(d,...p)}),u.init(o,n),u.translator.options=o,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const tn=au.createInstance();tn.createInstance=au.createInstance;tn.createInstance;tn.dir;tn.init;tn.loadResources;tn.reloadResources;tn.use;tn.changeLanguage;tn.getFixedT;tn.t;tn.exists;tn.setDefaultNamespace;tn.hasLoadedNamespace;tn.loadNamespaces;tn.loadLanguages;const $1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,K1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Q1=i=>K1[i],Y1=i=>i.replace($1,Q1);let bE={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Y1};const X1=(i={})=>{bE={...bE,...i}},J1={type:"3rdParty",init(i){X1(i.options.react)}},{slice:Z1,forEach:W1}=[];function eR(i){return W1.call(Z1.call(arguments,1),e=>{if(e)for(const n in e)i[n]===void 0&&(i[n]=e[n])}),i}function tR(i){return typeof i!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(i))}const RE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,nR=function(i,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let u=`${i}=${o}`;if(s.maxAge>0){const c=s.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");u+=`; Max-Age=${Math.floor(c)}`}if(s.domain){if(!RE.test(s.domain))throw new TypeError("option domain is invalid");u+=`; Domain=${s.domain}`}if(s.path){if(!RE.test(s.path))throw new TypeError("option path is invalid");u+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(u+="; Partitioned"),u},IE={create(i,e,n,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+n*60*1e3)),s&&(o.domain=s),document.cookie=nR(i,e,o)},read(i){const e=`${i}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(i,e){this.create(i,"",-1,e)}};var iR={name:"cookie",lookup(i){let{lookupCookie:e}=i;if(e&&typeof document<"u")return IE.read(e)||void 0},cacheUserLanguage(i,e){let{lookupCookie:n,cookieMinutes:s,cookieDomain:o,cookieOptions:u}=e;n&&typeof document<"u"&&IE.create(n,i,s,o,u)}},rR={name:"querystring",lookup(i){let{lookupQuerystring:e}=i,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let c=0;c<u.length;c++){const d=u[c].indexOf("=");d>0&&u[c].substring(0,d)===e&&(n=u[c].substring(d+1))}}return n}},sR={name:"hash",lookup(i){let{lookupHash:e,lookupFromHashIndex:n}=i,s;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const c=u.split("&");for(let d=0;d<c.length;d++){const p=c[d].indexOf("=");p>0&&c[d].substring(0,p)===e&&(s=c[d].substring(p+1))}}if(s)return s;if(!s&&n>-1){const c=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?c[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return s}};let uo=null;const CE=()=>{if(uo!==null)return uo;try{if(uo=typeof window<"u"&&window.localStorage!==null,!uo)return!1;const i="i18next.translate.boo";window.localStorage.setItem(i,"foo"),window.localStorage.removeItem(i)}catch{uo=!1}return uo};var aR={name:"localStorage",lookup(i){let{lookupLocalStorage:e}=i;if(e&&CE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupLocalStorage:n}=e;n&&CE()&&window.localStorage.setItem(n,i)}};let co=null;const DE=()=>{if(co!==null)return co;try{if(co=typeof window<"u"&&window.sessionStorage!==null,!co)return!1;const i="i18next.translate.boo";window.sessionStorage.setItem(i,"foo"),window.sessionStorage.removeItem(i)}catch{co=!1}return co};var oR={name:"sessionStorage",lookup(i){let{lookupSessionStorage:e}=i;if(e&&DE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupSessionStorage:n}=e;n&&DE()&&window.sessionStorage.setItem(n,i)}},lR={name:"navigator",lookup(i){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:o}=navigator;if(n)for(let u=0;u<n.length;u++)e.push(n[u]);s&&e.push(s),o&&e.push(o)}return e.length>0?e:void 0}},uR={name:"htmlTag",lookup(i){let{htmlTag:e}=i,n;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},cR={name:"path",lookup(i){let{lookupFromPathIndex:e}=i;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},hR={name:"subdomain",lookup(i){let{lookupFromSubdomainIndex:e}=i;const n=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}};let D0=!1;try{document.cookie,D0=!0}catch{}const O0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];D0||O0.splice(1,1);const fR=()=>({order:O0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:i=>i});class N0{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=eR(n,this.options||{},fR()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(iR),this.addDetector(rR),this.addDetector(aR),this.addDetector(oR),this.addDetector(lR),this.addDetector(uR),this.addDetector(cR),this.addDetector(hR),this.addDetector(sR)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(s=>{if(this.detectors[s]){let o=this.detectors[s].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(n=n.concat(o))}}),n=n.filter(s=>s!=null&&!tR(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}N0.type="languageDetector";const OE=Object.assign({}),ql={};Object.keys(OE).forEach(i=>{const e=i.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(e){const[,n]=e,s=OE[i];ql[n]||(ql[n]={translation:{}}),s.default&&(ql[n].translation={...ql[n].translation,...s.default})}});tn.use(N0).use(J1).init({lng:"en",fallbackLng:"en",debug:!1,resources:ql,interpolation:{escapeValue:!1}});var xm={exports:{}},Fl={},Vm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function dR(){return NE||(NE=1,(function(i){function e(G,ne){var he=G.length;G.push(ne);e:for(;0<he;){var De=he-1>>>1,je=G[De];if(0<o(je,ne))G[De]=ne,G[he]=je,he=De;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ne=G[0],he=G.pop();if(he!==ne){G[0]=he;e:for(var De=0,je=G.length,O=je>>>1;De<O;){var Y=2*(De+1)-1,se=G[Y],ae=Y+1,ve=G[ae];if(0>o(se,he))ae<je&&0>o(ve,se)?(G[De]=ve,G[ae]=he,De=ae):(G[De]=se,G[Y]=he,De=Y);else if(ae<je&&0>o(ve,he))G[De]=ve,G[ae]=he,De=ae;else break e}}return ne}function o(G,ne){var he=G.sortIndex-ne.sortIndex;return he!==0?he:G.id-ne.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,T=null,w=3,N=!1,k=!1,K=!1,F=!1,te=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function de(G){for(var ne=n(g);ne!==null;){if(ne.callback===null)s(g);else if(ne.startTime<=G)s(g),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(g)}}function _e(G){if(K=!1,de(G),!k)if(n(p)!==null)k=!0,Te||(Te=!0,P());else{var ne=n(g);ne!==null&&ct(_e,ne.startTime-G)}}var Te=!1,C=-1,b=5,R=-1;function M(){return F?!0:!(i.unstable_now()-R<b)}function x(){if(F=!1,Te){var G=i.unstable_now();R=G;var ne=!0;try{e:{k=!1,K&&(K=!1,W(C),C=-1),N=!0;var he=w;try{t:{for(de(G),T=n(p);T!==null&&!(T.expirationTime>G&&M());){var De=T.callback;if(typeof De=="function"){T.callback=null,w=T.priorityLevel;var je=De(T.expirationTime<=G);if(G=i.unstable_now(),typeof je=="function"){T.callback=je,de(G),ne=!0;break t}T===n(p)&&s(p),de(G)}else s(p);T=n(p)}if(T!==null)ne=!0;else{var O=n(g);O!==null&&ct(_e,O.startTime-G),ne=!1}}break e}finally{T=null,w=he,N=!1}ne=void 0}}finally{ne?P():Te=!1}}}var P;if(typeof re=="function")P=function(){re(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,xe=I.port2;I.port1.onmessage=x,P=function(){xe.postMessage(null)}}else P=function(){te(x,0)};function ct(G,ne){C=te(function(){G(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(G){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var he=w;w=ne;try{return G()}finally{w=he}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=w;w=G;try{return ne()}finally{w=he}},i.unstable_scheduleCallback=function(G,ne,he){var De=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?De+he:De):he=De,G){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=he+je,G={id:v++,callback:ne,priorityLevel:G,startTime:he,expirationTime:je,sortIndex:-1},he>De?(G.sortIndex=he,e(g,G),n(p)===null&&G===n(g)&&(K?(W(C),C=-1):K=!0,ct(_e,he-De))):(G.sortIndex=je,e(p,G),k||N||(k=!0,Te||(Te=!0,P()))),G},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(G){var ne=w;return function(){var he=w;w=ne;try{return G.apply(this,arguments)}finally{w=he}}}})(Mm)),Mm}var xE;function mR(){return xE||(xE=1,Vm.exports=dR()),Vm.exports}var Lm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function pR(){if(VE)return Xt;VE=1;var i=Op();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Xt.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:N}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var ME;function gR(){if(ME)return Lm.exports;ME=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=pR(),Lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function yR(){if(LE)return Fl;LE=1;var i=mR(),e=Op(),n=gR();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function d(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),t;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=m;break}if(S===l){_=!0,l=f,a=m;break}S=S.sibling}if(!_){for(S=m.child;S;){if(S===a){_=!0,a=m,l=f;break}if(S===l){_=!0,l=m,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),re=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case te:return"Profiler";case F:return"StrictMode";case _e:return"Suspense";case Te:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case re:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case de:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case b:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}var ct=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},De=[],je=-1;function O(t){return{current:t}}function Y(t){0>je||(t.current=De[je],De[je]=null,je--)}function se(t,r){je++,De[je]=t.current,t.current=r}var ae=O(null),ve=O(null),Ie=O(null),ze=O(null);function xt(t,r){switch(se(Ie,r),se(ve,t),se(ae,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Ov(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Ov(r),t=Nv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),se(ae,t)}function at(){Y(ae),Y(ve),Y(Ie)}function ws(t){t.memoizedState!==null&&se(ze,t);var r=ae.current,a=Nv(r,t.type);r!==a&&(se(ve,t),se(ae,a))}function _a(t){ve.current===t&&(Y(ae),Y(ve)),ze.current===t&&(Y(ze),Pl._currentValue=he)}var va,Ea;function hi(t){if(va===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);va=r&&r[1]||"",Ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+t+Ea}var Po=!1;function bs(t,r){if(!t||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var j=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){j=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){j=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],S=m[1];if(_&&S){var D=_.split(`
`),B=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var Q=`
`+D[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function ko(t,r){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==r&&r!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return bs(t.type,!1);case 11:return bs(t.type.render,!1);case 1:return bs(t.type,!0);case 31:return hi("Activity");default:return""}}function Uo(t){try{var r="",a=null;do r+=ko(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,Sr=i.unstable_cancelCallback,Nf=i.unstable_shouldYield,Nu=i.unstable_requestPaint,rn=i.unstable_now,Rs=i.unstable_getCurrentPriorityLevel,zo=i.unstable_ImmediatePriority,Bo=i.unstable_UserBlockingPriority,Ar=i.unstable_NormalPriority,xf=i.unstable_LowPriority,xu=i.unstable_IdlePriority,Vu=i.log,Mu=i.unstable_setDisableYieldValue,Gn=null,jt=null;function Dn(t){if(typeof Vu=="function"&&Mu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Gn,t)}catch{}}var dt=Math.clz32?Math.clz32:Pu,Lu=Math.log,Ta=Math.LN2;function Pu(t){return t>>>=0,t===0?32:31-(Lu(t)/Ta|0)|0}var fi=256,Is=262144,Tt=4194304;function di(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=di(l):(_&=S,_!==0?f=di(_):a||(a=S&~t,a!==0&&(f=di(a))))):(S=l&~m,S!==0?f=di(S):_!==0?f=di(_):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function $n(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Vf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function pi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Cs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mf(t,r,a,l,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-dt(a),J=1<<Q;S[Q]=0,D[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var q=j[Q];q!==null&&(q.lane&=-536870913)}a&=~J}l!==0&&Ds(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~r))}function Ds(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-dt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-dt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Fo(t,r){var a=r&-r;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|r))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:eE(t.type))}function Kn(t,r){var a=ne.p;try{return ne.p=t,r()}finally{ne.p=a}}var Qn=Math.random().toString(36).slice(2),St="__reactFiber$"+Qn,kt="__reactProps$"+Qn,gi="__reactContainer$"+Qn,Sa="__reactEvents$"+Qn,Lf="__reactListeners$"+Qn,zu="__reactHandles$"+Qn,Bu="__reactResources$"+Qn,yi="__reactMarker$"+Qn;function Aa(t){delete t[St],delete t[kt],delete t[Sa],delete t[Lf],delete t[zu]}function _i(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[gi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Uv(t);t!==null;){if(a=t[St])return a;t=Uv(t)}return r}t=a,a=t.parentNode}return null}function On(t){if(t=t[St]||t[gi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function yn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function vi(t){var r=t[Bu];return r||(r=t[Bu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(t){t[yi]=!0}var Ho=new Set,qo={};function Ei(t,r){Ti(t,r),Ti(t+"Capture",r)}function Ti(t,r){for(qo[t]=r,t=0;t<r.length;t++)Ho.add(r[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Ko={};function ju(t){return Et.call(Ko,t)?!0:Et.call($o,t)?!1:Go.test(t)?Ko[t]=!0:($o[t]=!0,!1)}function wa(t,r,a){if(ju(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function _n(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function wt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){if(!t._valueTracker){var r=wr(t)?"checked":"value";t._valueTracker=Qo(t,r,""+t[r])}}function Ns(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function on(t){return t.replace(xs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ba(t,r,a,l,f,m,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ut(r)):t.value!==""+Ut(r)&&(t.value=""+Ut(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Yo(t,_,Ut(r)):a!=null?Yo(t,_,Ut(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ut(S):t.removeAttribute("name")}function Fu(t,r,a,l,f,m,_,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Qe(t);return}a=a!=null?""+Ut(a):"",r=r!=null?""+Ut(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Yo(t,r,a){r==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function br(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Hu(t,r,a){if(r!=null&&(r=""+Ut(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ut(a):""}function Rr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ut(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function ln(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||qu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Jo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Xo(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Xo(t,m,r[m])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Ir.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Zo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ai=null;function Vs(t){var r=On(t);if(r&&(t=r.stateNode)){var a=t[kt]||null;e:switch(t=r.stateNode,r.type){case"input":if(ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(s(90));ba(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ns(l)}break e;case"textarea":Hu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&br(t,!!a.multiple,r,!1)}}}var Ca=!1;function Dr(t,r,a){if(Ca)return t(r,a);Ca=!0;try{var l=t(r);return l}finally{if(Ca=!1,(Cr!==null||Ai!==null)&&(Uc(),Cr&&(r=Cr,t=Ai,Ai=Cr=null,Vs(r),t)))for(r=0;r<t.length;r++)Vs(t[r])}}function Xn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(xn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ms=!1}var wi=null,Wo=null,Ls=null;function el(){if(Ls)return Ls;var t,r=Wo,a=r.length,l,f="value"in wi?wi.value:wi.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[m-l];l++);return Ls=f.slice(t,1<l?1-l:void 0)}function Ps(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function Jn(){return!1}function Ft(t){function r(a,l,f,m,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Gi:Jn,this.isPropagationStopped=Jn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ft($i),Or=T({},$i,{view:0,detail:0}),tl=Ft(Or),Nr,Da,Ri,Oa=T({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Nr=t.screenX-Ri.screenX,Da=t.screenY-Ri.screenY):Da=Nr=0,Ri=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),nl=Ft(Oa),ks=T({},Oa,{dataTransfer:0}),$u=Ft(ks),Ku=T({},Or,{relatedTarget:0}),Us=Ft(Ku),il=T({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Ft(il),Na=T({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yu=Ft(Na),Xu=T({},$i,{data:0}),Ii=Ft(Xu),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Wu[t])?!!r[t]:!1}function xr(){return ec}var sn=T({},Or,{key:function(t){if(t.key){var r=Ju[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tc=Ft(sn),nc=T({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Ft(nc),h=T({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=Ft(h),E=T({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(E),U=T({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ft(U),ie=T({},$i,{newState:0,oldState:0}),be=Ft(ie),mt=[9,13,27,32],Ge=xn&&"CompositionEvent"in window,ot=null;xn&&"documentMode"in document&&(ot=document.documentMode);var Vn=xn&&"TextEvent"in window&&!ot,Ci=xn&&(!Ge||ot&&8<ot&&11>=ot),Zn=" ",Wn=!1;function zs(t,r){switch(t){case"keyup":return mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function $w(t,r){switch(t){case"compositionend":return xa(r);case"keypress":return r.which!==32?null:(Wn=!0,Zn);case"textInput":return t=r.data,t===Zn&&Wn?null:t;default:return null}}function Kw(t,r){if(Va)return t==="compositionend"||!Ge&&zs(t,r)?(t=el(),Ls=Wo=wi=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ci&&r.locale!=="ko"?null:r.data;default:return null}}var Qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Qw[t.type]:r==="textarea"}function Fg(t,r,a,l){Cr?Ai?Ai.push(l):Ai=[l]:Cr=l,r=Gc(r,"onChange"),0<r.length&&(a=new bi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var rl=null,sl=null;function Yw(t){wv(t,0)}function ic(t){var r=yn(t);if(Ns(r))return t}function Hg(t,r){if(t==="change")return r}var qg=!1;if(xn){var Pf;if(xn){var kf="oninput"in document;if(!kf){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),kf=typeof Gg.oninput=="function"}Pf=kf}else Pf=!1;qg=Pf&&(!document.documentMode||9<document.documentMode)}function $g(){rl&&(rl.detachEvent("onpropertychange",Kg),sl=rl=null)}function Kg(t){if(t.propertyName==="value"&&ic(sl)){var r=[];Fg(r,sl,t,Nn(t)),Dr(Yw,r)}}function Xw(t,r,a){t==="focusin"?($g(),rl=r,sl=a,rl.attachEvent("onpropertychange",Kg)):t==="focusout"&&$g()}function Jw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(sl)}function Zw(t,r){if(t==="click")return ic(r)}function Ww(t,r){if(t==="input"||t==="change")return ic(r)}function eb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:eb;function al(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Et.call(r,f)||!vn(t[f],r[f]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,r){var a=Qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qg(a)}}function Xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Si(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Si(t.document)}return r}function Uf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var tb=xn&&"documentMode"in document&&11>=document.documentMode,Ma=null,zf=null,ol=null,Bf=!1;function Zg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bf||Ma==null||Ma!==Si(l)||(l=Ma,"selectionStart"in l&&Uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Gc(zf,"onSelect"),0<l.length&&(r=new bi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ma)))}function Bs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var La={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},jf={},Wg={};xn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function js(t){if(jf[t])return jf[t];if(!La[t])return t;var r=La[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wg)return jf[t]=r[a];return t}var ey=js("animationend"),ty=js("animationiteration"),ny=js("animationstart"),nb=js("transitionrun"),ib=js("transitionstart"),rb=js("transitioncancel"),iy=js("transitionend"),ry=new Map,Ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ff.push("scrollEnd");function ei(t,r){ry.set(t,r),Ei(r,[t])}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Pa=0,Hf=0;function sc(){for(var t=Pa,r=Hf=Pa=0;r<t;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var m=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&sy(a,f,m)}}function ac(t,r,a,l){Mn[Pa++]=t,Mn[Pa++]=r,Mn[Pa++]=a,Mn[Pa++]=l,Hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qf(t,r,a,l){return ac(t,r,a,l),oc(t)}function Fs(t,r){return ac(t,null,null,r),oc(t)}function sy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-dt(a),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function oc(t){if(50<Dl)throw Dl=0,Wd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ka={};function sb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,l){return new sb(t,r,a,l)}function Gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ay(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function lc(t,r,a,l,f,m){var _=0;if(l=t,typeof t=="function")Gf(t)&&(_=1);else if(typeof t=="string")_=c1(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=En(31,a,r,f),t.elementType=R,t.lanes=m,t;case K:return Hs(a.children,f,m,r);case F:_=8,f|=24;break;case te:return t=En(12,a,r,f|2),t.elementType=te,t.lanes=m,t;case _e:return t=En(13,a,r,f),t.elementType=_e,t.lanes=m,t;case Te:return t=En(19,a,r,f),t.elementType=Te,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case W:_=9;break e;case de:_=11;break e;case C:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=En(_,a,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function Hs(t,r,a,l){return t=En(7,t,l,r),t.lanes=a,t}function $f(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function oy(t){var r=En(18,null,null,0);return r.stateNode=t,r}function Kf(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ly=new WeakMap;function Ln(t,r){if(typeof t=="object"&&t!==null){var a=ly.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Uo(r)},ly.set(t,r),r)}return{value:t,source:r,stack:Uo(r)}}var Ua=[],za=0,uc=null,ll=0,Pn=[],kn=0,Vr=null,Di=1,Oi="";function Yi(t,r){Ua[za++]=ll,Ua[za++]=uc,uc=t,ll=r}function uy(t,r,a){Pn[kn++]=Di,Pn[kn++]=Oi,Pn[kn++]=Vr,Vr=t;var l=Di;t=Oi;var f=32-dt(l)-1;l&=~(1<<f),a+=1;var m=32-dt(r)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Di=1<<32-dt(r)+f|a<<f|l,Oi=m+t}else Di=1<<m|a<<f|l,Oi=t}function Qf(t){t.return!==null&&(Yi(t,1),uy(t,1,0))}function Yf(t){for(;t===uc;)uc=Ua[--za],Ua[za]=null,ll=Ua[--za],Ua[za]=null;for(;t===Vr;)Vr=Pn[--kn],Pn[kn]=null,Oi=Pn[--kn],Pn[kn]=null,Di=Pn[--kn],Pn[kn]=null}function cy(t,r){Pn[kn++]=Di,Pn[kn++]=Oi,Pn[kn++]=Vr,Di=r.id,Oi=r.overflow,Vr=t}var Ht=null,it=null,Ue=!1,Mr=null,Un=!1,Xf=Error(s(519));function Lr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Ln(r,t)),Xf}function hy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[kt]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ne(Nl[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),Fu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),Rr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Cv(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=Yn),r=!0):r=!1,r||Lr(t,!0)}function fy(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ht=Ht.return}}function Ba(t){if(t!==Ht)return!1;if(!Ue)return fy(t),Ue=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mm(t.type,t.memoizedProps)),a=!a),a&&it&&Lr(t),fy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=kv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=kv(t)}else r===27?(r=it,Yr(t.type)?(t=vm,vm=null,it=t):it=r):it=Ht?Bn(t.stateNode.nextSibling):null;return!0}function qs(){it=Ht=null,Ue=!1}function Jf(){var t=Mr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Mr=null),t}function ul(t){Mr===null?Mr=[t]:Mr.push(t)}var Zf=O(null),Gs=null,Xi=null;function Pr(t,r,a){se(Zf,r._currentValue),r._currentValue=a}function Ji(t){t._currentValue=Zf.current,Y(Zf)}function Wf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ed(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Wf(m.return,a,t),l||(_=null);break e}m=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Wf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ja(t,r,a,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;vn(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===ze.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&ed(r,t,a,l),r.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Gs=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return dy(Gs,t)}function hc(t,r){return Gs===null&&$s(t),dy(t,r)}function dy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Xi=Xi.next=r;return a}var ab=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},ob=i.unstable_scheduleCallback,lb=i.unstable_NormalPriority,bt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new ab,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&ob(lb,function(){t.controller.abort()})}var hl=null,nd=0,Fa=0,Ha=null;function ub(t,r){if(hl===null){var a=hl=[];nd=0,Fa=sm(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nd++,r.then(my,my),r}function my(){if(--nd===0&&hl!==null){Ha!==null&&(Ha.status="fulfilled");var t=hl;hl=null,Fa=0,Ha=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function cb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var py=G.S;G.S=function(t,r){Z_=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&ub(t,r),py!==null&&py(t,r)};var Ks=O(null);function id(){var t=Ks.current;return t!==null?t:nt.pooledCache}function fc(t,r){r===null?se(Ks,Ks.current):se(Ks,r.pool)}function gy(){var t=id();return t===null?null:{parent:bt._currentValue,pool:t}}var qa=Error(s(460)),rd=Error(s(474)),dc=Error(s(542)),mc={then:function(){}};function yy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _y(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Yn,Yn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ey(t),t;default:if(typeof r.status=="string")r.then(Yn,Yn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ey(t),t}throw Ys=r,qa}}function Qs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,qa):a}}var Ys=null;function vy(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function Ey(t){if(t===qa||t===dc)throw Error(s(483))}var Ga=null,fl=0;function pc(t){var r=fl;return fl+=1,Ga===null&&(Ga=[]),_y(Ga,t,r)}function dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function gc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ty(t){function r(L,V){if(t){var z=L.deletions;z===null?(L.deletions=[V],L.flags|=16):z.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)r(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=Qi(L,V),L.index=0,L.sibling=null,L}function m(L,V,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<V?(L.flags|=67108866,V):z):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function S(L,V,z,X){return V===null||V.tag!==6?(V=$f(z,L.mode,X),V.return=L,V):(V=f(V,z),V.return=L,V)}function D(L,V,z,X){var fe=z.type;return fe===K?Q(L,V,z.props.children,X,z.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Qs(fe)===V.type)?(V=f(V,z.props),dl(V,z),V.return=L,V):(V=lc(z.type,z.key,z.props,null,L.mode,X),dl(V,z),V.return=L,V)}function B(L,V,z,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Kf(z,L.mode,X),V.return=L,V):(V=f(V,z.children||[]),V.return=L,V)}function Q(L,V,z,X,fe){return V===null||V.tag!==7?(V=Hs(z,L.mode,X,fe),V.return=L,V):(V=f(V,z),V.return=L,V)}function J(L,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=$f(""+V,L.mode,z),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return z=lc(V.type,V.key,V.props,null,L.mode,z),dl(z,V),z.return=L,z;case k:return V=Kf(V,L.mode,z),V.return=L,V;case b:return V=Qs(V),J(L,V,z)}if(ct(V)||P(V))return V=Hs(V,L.mode,z,null),V.return=L,V;if(typeof V.then=="function")return J(L,pc(V),z);if(V.$$typeof===re)return J(L,hc(L,V),z);gc(L,V)}return null}function j(L,V,z,X){var fe=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:S(L,V,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return z.key===fe?D(L,V,z,X):null;case k:return z.key===fe?B(L,V,z,X):null;case b:return z=Qs(z),j(L,V,z,X)}if(ct(z)||P(z))return fe!==null?null:Q(L,V,z,X,null);if(typeof z.then=="function")return j(L,V,pc(z),X);if(z.$$typeof===re)return j(L,V,hc(L,z),X);gc(L,z)}return null}function q(L,V,z,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,S(V,L,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return L=L.get(X.key===null?z:X.key)||null,D(V,L,X,fe);case k:return L=L.get(X.key===null?z:X.key)||null,B(V,L,X,fe);case b:return X=Qs(X),q(L,V,z,X,fe)}if(ct(X)||P(X))return L=L.get(z)||null,Q(V,L,X,fe,null);if(typeof X.then=="function")return q(L,V,z,pc(X),fe);if(X.$$typeof===re)return q(L,V,z,hc(V,X),fe);gc(V,X)}return null}function le(L,V,z,X){for(var fe=null,Fe=null,ce=V,Ce=V=0,Me=null;ce!==null&&Ce<z.length;Ce++){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var He=j(L,ce,z[Ce],X);if(He===null){ce===null&&(ce=Me);break}t&&ce&&He.alternate===null&&r(L,ce),V=m(He,V,Ce),Fe===null?fe=He:Fe.sibling=He,Fe=He,ce=Me}if(Ce===z.length)return a(L,ce),Ue&&Yi(L,Ce),fe;if(ce===null){for(;Ce<z.length;Ce++)ce=J(L,z[Ce],X),ce!==null&&(V=m(ce,V,Ce),Fe===null?fe=ce:Fe.sibling=ce,Fe=ce);return Ue&&Yi(L,Ce),fe}for(ce=l(ce);Ce<z.length;Ce++)Me=q(ce,L,Ce,z[Ce],X),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?Ce:Me.key),V=m(Me,V,Ce),Fe===null?fe=Me:Fe.sibling=Me,Fe=Me);return t&&ce.forEach(function(es){return r(L,es)}),Ue&&Yi(L,Ce),fe}function pe(L,V,z,X){if(z==null)throw Error(s(151));for(var fe=null,Fe=null,ce=V,Ce=V=0,Me=null,He=z.next();ce!==null&&!He.done;Ce++,He=z.next()){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var es=j(L,ce,He.value,X);if(es===null){ce===null&&(ce=Me);break}t&&ce&&es.alternate===null&&r(L,ce),V=m(es,V,Ce),Fe===null?fe=es:Fe.sibling=es,Fe=es,ce=Me}if(He.done)return a(L,ce),Ue&&Yi(L,Ce),fe;if(ce===null){for(;!He.done;Ce++,He=z.next())He=J(L,He.value,X),He!==null&&(V=m(He,V,Ce),Fe===null?fe=He:Fe.sibling=He,Fe=He);return Ue&&Yi(L,Ce),fe}for(ce=l(ce);!He.done;Ce++,He=z.next())He=q(ce,L,Ce,He.value,X),He!==null&&(t&&He.alternate!==null&&ce.delete(He.key===null?Ce:He.key),V=m(He,V,Ce),Fe===null?fe=He:Fe.sibling=He,Fe=He);return t&&ce.forEach(function(T1){return r(L,T1)}),Ue&&Yi(L,Ce),fe}function tt(L,V,z,X){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case N:e:{for(var fe=z.key;V!==null;){if(V.key===fe){if(fe=z.type,fe===K){if(V.tag===7){a(L,V.sibling),X=f(V,z.props.children),X.return=L,L=X;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Qs(fe)===V.type){a(L,V.sibling),X=f(V,z.props),dl(X,z),X.return=L,L=X;break e}a(L,V);break}else r(L,V);V=V.sibling}z.type===K?(X=Hs(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=lc(z.type,z.key,z.props,null,L.mode,X),dl(X,z),X.return=L,L=X)}return _(L);case k:e:{for(fe=z.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(L,V.sibling),X=f(V,z.children||[]),X.return=L,L=X;break e}else{a(L,V);break}else r(L,V);V=V.sibling}X=Kf(z,L.mode,X),X.return=L,L=X}return _(L);case b:return z=Qs(z),tt(L,V,z,X)}if(ct(z))return le(L,V,z,X);if(P(z)){if(fe=P(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),pe(L,V,z,X)}if(typeof z.then=="function")return tt(L,V,pc(z),X);if(z.$$typeof===re)return tt(L,V,hc(L,z),X);gc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(L,V.sibling),X=f(V,z),X.return=L,L=X):(a(L,V),X=$f(z,L.mode,X),X.return=L,L=X),_(L)):a(L,V)}return function(L,V,z,X){try{fl=0;var fe=tt(L,V,z,X);return Ga=null,fe}catch(ce){if(ce===qa||ce===dc)throw ce;var Fe=En(29,ce,null,L.mode);return Fe.lanes=X,Fe.return=L,Fe}finally{}}}var Xs=Ty(!0),Sy=Ty(!1),kr=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=oc(t),sy(t,null,a),r}return ac(t,l,r,a),oc(t)}function ml(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jo(t,a)}}function od(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var ld=!1;function pl(){if(ld){var t=Ha;if(t!==null)throw t}}function gl(t,r,a,l){ld=!1;var f=t.updateQueue;kr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,B=D.next;D.next=null,_===null?m=B:_.next=B,_=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==_&&(S===null?Q.firstBaseUpdate=B:S.next=B,Q.lastBaseUpdate=D))}if(m!==null){var J=f.baseState;_=0,Q=B=D=null,S=m;do{var j=S.lane&-536870913,q=j!==S.lane;if(q?(Ve&j)===j:(l&j)===j){j!==0&&j===Fa&&(ld=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var le=t,pe=S;j=r;var tt=a;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){J=le.call(tt,J,j);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,j=typeof le=="function"?le.call(tt,J,j):le,j==null)break e;J=T({},J,j);break e;case 2:kr=!0}}j=S.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=f.callbacks,q===null?f.callbacks=[j]:q.push(j))}else q={lane:j,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(B=Q=q,D=J):Q=Q.next=q,_|=j;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;q=S,S=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);Q===null&&(D=J),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,m===null&&(f.shared.lanes=0),qr|=_,t.lanes=_,t.memoizedState=J}}function Ay(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function wy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ay(a[t],r)}var $a=O(null),yc=O(0);function by(t,r){t=ar,se(yc,t),se($a,r),ar=t|r.baseLanes}function ud(){se(yc,ar),se($a,$a.current)}function cd(){ar=yc.current,Y($a),Y(yc)}var Tn=O(null),zn=null;function Br(t){var r=t.alternate;se(pt,pt.current&1),se(Tn,t),zn===null&&(r===null||$a.current!==null||r.memoizedState!==null)&&(zn=t)}function hd(t){se(pt,pt.current),se(Tn,t),zn===null&&(zn=t)}function Ry(t){t.tag===22?(se(pt,pt.current),se(Tn,t),zn===null&&(zn=t)):jr()}function jr(){se(pt,pt.current),se(Tn,Tn.current)}function Sn(t){Y(Tn),zn===t&&(zn=null),Y(pt)}var pt=O(0);function _c(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ym(a)||_m(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zi=0,Re=null,We=null,Rt=null,vc=!1,Ka=!1,Js=!1,Ec=0,yl=0,Qa=null,hb=0;function ht(){throw Error(s(321))}function fd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!vn(t[a],r[a]))return!1;return!0}function dd(t,r,a,l,f,m){return Zi=m,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?u_:Cd,Js=!1,m=a(l,f),Js=!1,Ka&&(m=Cy(r,a,l,f)),Iy(t),m}function Iy(t){G.H=El;var r=We!==null&&We.next!==null;if(Zi=0,Rt=We=Re=null,vc=!1,yl=0,Qa=null,r)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&cc(t)&&(It=!0))}function Cy(t,r,a,l){Re=t;var f=0;do{if(Ka&&(Qa=null),yl=0,Ka=!1,25<=f)throw Error(s(301));if(f+=1,Rt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=c_,m=r(a,l)}while(Ka);return m}function fb(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?_l(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),r}function md(){var t=Ec!==0;return Ec=0,t}function pd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function gd(t){if(vc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}vc=!1}Zi=0,Rt=We=Re=null,Ka=!1,yl=Ec=0,Qa=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function gt(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=Rt===null?Re.memoizedState:Rt.next;if(r!==null)Rt=r,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var r=yl;return yl+=1,Qa===null&&(Qa=[]),t=_y(Qa,t,r),r=Re,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?u_:Cd),t}function Sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===re)return qt(t)}throw Error(s(438,String(t)))}function yd(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Tc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function Wi(t,r){return typeof r=="function"?r(t):r}function Ac(t){var r=gt();return _d(r,We,t)}function _d(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var S=_=null,D=null,B=r,Q=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Ve&J)===J:(Zi&J)===J){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Fa&&(Q=!0);else if((Zi&j)===j){B=B.next,j===Fa&&(Q=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=J,_=m):D=D.next=J,Re.lanes|=j,qr|=j;J=B.action,Js&&a(m,J),m=B.hasEagerState?B.eagerState:a(m,J)}else j={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=j,_=m):D=D.next=j,Re.lanes|=J,qr|=J;B=B.next}while(B!==null&&B!==r);if(D===null?_=m:D.next=S,!vn(m,t.memoizedState)&&(It=!0,Q&&(a=Ha,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vd(t){var r=gt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);vn(m,r.memoizedState)||(It=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Dy(t,r,a){var l=Re,f=gt(),m=Ue;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!vn((We||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,Sd(xy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},Ny.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));m||(Zi&127)!==0||Oy(l,r,a)}return a}function Oy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Tc(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ny(t,r,a,l){r.value=a,r.getSnapshot=l,Vy(r)&&My(t)}function xy(t,r,a){return a(function(){Vy(r)&&My(t)})}function Vy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!vn(t,a)}catch{return!0}}function My(t){var r=Fs(t,2);r!==null&&dn(r,t,2)}function Ed(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Js){Dn(!0);try{a()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},r}function Ly(t,r,a,l){return t.baseState=a,_d(t,We,typeof l=="function"?l:Wi)}function db(t,r,a,l,f){if(Rc(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};G.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Py(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Py(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=G.T,_={};G.T=_;try{var S=a(f,l),D=G.S;D!==null&&D(_,S),ky(t,r,S)}catch(B){Td(t,r,B)}finally{m!==null&&_.types!==null&&(m.types=_.types),G.T=m}}else try{m=a(f,l),ky(t,r,m)}catch(B){Td(t,r,B)}}function ky(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Uy(t,r,l)},function(l){return Td(t,r,l)}):Uy(t,r,a)}function Uy(t,r,a){r.status="fulfilled",r.value=a,zy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Py(t,a)))}function Td(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,zy(r),r=r.next;while(r!==l)}t.action=null}function zy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function By(t,r){return r}function jy(t,r){if(Ue){var a=nt.formState;if(a!==null){e:{var l=Re;if(Ue){if(it){t:{for(var f=it,m=Un;f.nodeType!==8;){if(!m){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){it=Bn(f.nextSibling),l=f.data==="F!";break e}}Lr(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:r},a.queue=l,a=a_.bind(null,Re,l),l.dispatch=a,l=Ed(!1),m=Id.bind(null,Re,!1,l.queue),l=an(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=db.bind(null,Re,f,m,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Fy(t){var r=gt();return Hy(r,We,t)}function Hy(t,r,a){if(r=_d(t,r,By)[0],t=Ac(Wi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=_l(r)}catch(_){throw _===qa?dc:_}else l=r;r=gt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Ya(9,{destroy:void 0},mb.bind(null,f,a),null)),[l,m,t]}function mb(t,r){t.action=r}function qy(t){var r=gt(),a=We;if(a!==null)return Hy(r,a,t);gt(),r=r.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ya(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Tc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Gy(){return gt().memoizedState}function wc(t,r,a,l){var f=an();Re.flags|=t,f.memoizedState=Ya(1|r,{destroy:void 0},a,l===void 0?null:l)}function bc(t,r,a,l){var f=gt();l=l===void 0?null:l;var m=f.memoizedState.inst;We!==null&&l!==null&&fd(l,We.memoizedState.deps)?f.memoizedState=Ya(r,m,a,l):(Re.flags|=t,f.memoizedState=Ya(1|r,m,a,l))}function $y(t,r){wc(8390656,8,t,r)}function Sd(t,r){bc(2048,8,t,r)}function pb(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Tc(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Ky(t){var r=gt().memoizedState;return pb({ref:r,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Qy(t,r){return bc(4,2,t,r)}function Yy(t,r){return bc(4,4,t,r)}function Xy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Jy(t,r,a){a=a!=null?a.concat([t]):null,bc(4,4,Xy.bind(null,r,t),a)}function Ad(){}function Zy(t,r){var a=gt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&fd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Wy(t,r){var a=gt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&fd(r,l[1]))return l[0];if(l=t(),Js){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,r],l}function wd(t,r,a){return a===void 0||(Zi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=ev(),Re.lanes|=t,qr|=t,a)}function e_(t,r,a,l){return vn(a,r)?a:$a.current!==null?(t=wd(t,a,l),vn(t,r)||(It=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ve&261930)===0?(It=!0,t.memoizedState=a):(t=ev(),Re.lanes|=t,qr|=t,r)}function t_(t,r,a,l,f){var m=ne.p;ne.p=m!==0&&8>m?m:8;var _=G.T,S={};G.T=S,Id(t,!1,r,a);try{var D=f(),B=G.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=cb(D,l);vl(t,r,Q,bn(t))}else vl(t,r,l,bn(t))}catch(J){vl(t,r,{then:function(){},status:"rejected",reason:J},bn())}finally{ne.p=m,_!==null&&S.types!==null&&(_.types=S.types),G.T=_}}function gb(){}function bd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=n_(t).queue;t_(t,f,r,he,a===null?gb:function(){return i_(t),a(l)})}function n_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:he},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function i_(t){var r=n_(t);r.next===null&&(r=t.alternate.memoizedState),vl(t,r.next.queue,{},bn())}function Rd(){return qt(Pl)}function r_(){return gt().memoizedState}function s_(){return gt().memoizedState}function yb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();t=Ur(a);var l=zr(r,t,a);l!==null&&(dn(l,r,a),ml(l,r,a)),r={cache:td()},t.payload=r;return}r=r.return}}function _b(t,r,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(t)?o_(r,a):(a=qf(t,r,a,l),a!==null&&(dn(a,t,l),l_(a,r,l)))}function a_(t,r,a){var l=bn();vl(t,r,a,l)}function vl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(t))o_(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,S=m(_,a);if(f.hasEagerState=!0,f.eagerState=S,vn(S,_))return ac(t,r,f,0),nt===null&&sc(),!1}catch{}finally{}if(a=qf(t,r,f,l),a!==null)return dn(a,t,l),l_(a,r,l),!0}return!1}function Id(t,r,a,l){if(l={lane:2,revertLane:sm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rc(t)){if(r)throw Error(s(479))}else r=qf(t,a,l,2),r!==null&&dn(r,t,2)}function Rc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function o_(t,r){Ka=vc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function l_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,jo(t,a)}}var El={readContext:qt,use:Sc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};El.useEffectEvent=ht;var u_={readContext:qt,use:Sc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:qt,useEffect:$y,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,wc(4194308,4,Xy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return wc(4194308,4,t,r)},useInsertionEffect:function(t,r){wc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Js){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var f=a(r);if(Js){Dn(!0);try{a(r)}finally{Dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=_b.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Ed(t);var r=t.queue,a=a_.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Ad,useDeferredValue:function(t,r){var a=an();return wd(a,t,r)},useTransition:function(){var t=Ed(!1);return t=t_.bind(null,Re,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=an();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Ve&127)!==0||Oy(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,$y(xy.bind(null,l,m,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},Ny.bind(null,l,m,a,r),null),a},useId:function(){var t=an(),r=nt.identifierPrefix;if(Ue){var a=Oi,l=Di;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ec++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=hb++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Rd,useFormState:jy,useActionState:jy,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Id.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:yd,useCacheRefresh:function(){return an().memoizedState=yb.bind(null,Re)},useEffectEvent:function(t){var r=an(),a={impl:t};return r.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Cd={readContext:qt,use:Sc,useCallback:Zy,useContext:qt,useEffect:Sd,useImperativeHandle:Jy,useInsertionEffect:Qy,useLayoutEffect:Yy,useMemo:Wy,useReducer:Ac,useRef:Gy,useState:function(){return Ac(Wi)},useDebugValue:Ad,useDeferredValue:function(t,r){var a=gt();return e_(a,We.memoizedState,t,r)},useTransition:function(){var t=Ac(Wi)[0],r=gt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:Dy,useId:r_,useHostTransitionStatus:Rd,useFormState:Fy,useActionState:Fy,useOptimistic:function(t,r){var a=gt();return Ly(a,We,t,r)},useMemoCache:yd,useCacheRefresh:s_};Cd.useEffectEvent=Ky;var c_={readContext:qt,use:Sc,useCallback:Zy,useContext:qt,useEffect:Sd,useImperativeHandle:Jy,useInsertionEffect:Qy,useLayoutEffect:Yy,useMemo:Wy,useReducer:vd,useRef:Gy,useState:function(){return vd(Wi)},useDebugValue:Ad,useDeferredValue:function(t,r){var a=gt();return We===null?wd(a,t,r):e_(a,We.memoizedState,t,r)},useTransition:function(){var t=vd(Wi)[0],r=gt().memoizedState;return[typeof t=="boolean"?t:_l(t),r]},useSyncExternalStore:Dy,useId:r_,useHostTransitionStatus:Rd,useFormState:qy,useActionState:qy,useOptimistic:function(t,r){var a=gt();return We!==null?Ly(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:yd,useCacheRefresh:s_};c_.useEffectEvent=Ky;function Dd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=bn(),f=Ur(l);f.payload=r,a!=null&&(f.callback=a),r=zr(t,f,l),r!==null&&(dn(r,t,l),ml(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=bn(),f=Ur(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=zr(t,f,l),r!==null&&(dn(r,t,l),ml(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bn(),l=Ur(a);l.tag=2,r!=null&&(l.callback=r),r=zr(t,l,a),r!==null&&(dn(r,t,a),ml(r,t,a))}};function h_(t,r,a,l,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(f,m):!0}function f_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Od.enqueueReplaceState(r,r.state,null)}function Zs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function d_(t){rc(t)}function m_(t){console.error(t)}function p_(t){rc(t)}function Ic(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function g_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Nd(t,r,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(t,r)},a}function y_(t){return t=Ur(t),t.tag=3,t}function __(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){g_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){g_(r,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function vb(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ja(r,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?zc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===mc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),nm(t,l,f)),!1;case 22:return a.flags|=65536,l===mc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),nm(t,l,f)),!1}throw Error(s(435,a.tag))}return nm(t,l,f),zc(),!1}if(Ue)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Xf&&(t=Error(s(422),{cause:l}),ul(Ln(t,a)))):(l!==Xf&&(r=Error(s(423),{cause:l}),ul(Ln(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=Nd(t.stateNode,l,f),od(t,f),ft!==4&&(ft=2)),!1;var m=Error(s(520),{cause:l});if(m=Ln(m,a),Cl===null?Cl=[m]:Cl.push(m),ft!==4&&(ft=2),r===null)return!0;l=Ln(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Nd(a.stateNode,l,t),od(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gr===null||!Gr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=y_(f),__(f,t,a,l),od(a,f),!1}a=a.return}while(a!==null);return!1}var xd=Error(s(461)),It=!1;function Gt(t,r,a,l){r.child=t===null?Sy(r,null,a,l):Xs(r,t.child,a,l)}function v_(t,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return $s(r),l=dd(t,r,a,_,m,f),S=md(),t!==null&&!It?(pd(t,r,f),er(t,r,f)):(Ue&&S&&Qf(r),r.flags|=1,Gt(t,r,l,f),r.child)}function E_(t,r,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Gf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,T_(t,r,m,l,f)):(t=lc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Bd(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&t.ref===r.ref)return er(t,r,f)}return r.flags|=1,t=Qi(m,l),t.ref=r.ref,t.return=r,r.child=t}function T_(t,r,a,l,f){if(t!==null){var m=t.memoizedProps;if(al(m,l)&&t.ref===r.ref)if(It=!1,r.pendingProps=l=m,Bd(t,f))(t.flags&131072)!==0&&(It=!0);else return r.lanes=t.lanes,er(t,r,f)}return Vd(t,r,a,l,f)}function S_(t,r,a,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return A_(t,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(r,m!==null?m.cachePool:null),m!==null?by(r,m):ud(),Ry(r);else return l=r.lanes=536870912,A_(t,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(fc(r,m.cachePool),by(r,m),jr(),r.memoizedState=null):(t!==null&&fc(r,null),ud(),jr());return Gt(t,r,f,a),r.child}function Tl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function A_(t,r,a,l,f){var m=id();return m=m===null?null:{parent:bt._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},t!==null&&fc(r,null),ud(),Ry(r),t!==null&&ja(t,r,l,!0),r.childLanes=f,null}function Cc(t,r){return r=Oc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function w_(t,r,a){return Xs(r,t.child,null,a),t=Cc(r,r.pendingProps),t.flags|=2,Sn(r),r.memoizedState=null,t}function Eb(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Cc(r,l),r.lanes=536870912,Tl(null,t);if(hd(r),(t=it)?(t=Pv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Vr!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=oy(t),a.return=r,r.child=a,Ht=r,it=null)):t=null,t===null)throw Lr(r);return r.lanes=536870912,null}return Cc(r,l)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(hd(r),f)if(r.flags&256)r.flags&=-257,r=w_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||ja(t,r,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=nt,l!==null&&(_=Fo(l,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Fs(t,_),dn(l,t,_),xd;zc(),r=w_(t,r,a)}else t=m.treeContext,it=Bn(_.nextSibling),Ht=r,Ue=!0,Mr=null,Un=!1,t!==null&&cy(r,t),r=Cc(r,l),r.flags|=4096;return r}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Dc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Vd(t,r,a,l,f){return $s(r),a=dd(t,r,a,l,void 0,f),l=md(),t!==null&&!It?(pd(t,r,f),er(t,r,f)):(Ue&&l&&Qf(r),r.flags|=1,Gt(t,r,a,f),r.child)}function b_(t,r,a,l,f,m){return $s(r),r.updateQueue=null,a=Cy(r,l,a,f),Iy(t),l=md(),t!==null&&!It?(pd(t,r,m),er(t,r,m)):(Ue&&l&&Qf(r),r.flags|=1,Gt(t,r,a,m),r.child)}function R_(t,r,a,l,f){if($s(r),r.stateNode===null){var m=ka,_=a.contextType;typeof _=="object"&&_!==null&&(m=qt(_)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Od,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},sd(r),_=a.contextType,m.context=typeof _=="object"&&_!==null?qt(_):ka,m.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Dd(r,a,_,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Od.enqueueReplaceState(m,m.state,null),gl(r,l,m,f),pl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var S=r.memoizedProps,D=Zs(a,S);m.props=D;var B=m.context,Q=a.contextType;_=ka,typeof Q=="object"&&Q!==null&&(_=qt(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||B!==_)&&f_(r,m,l,_),kr=!1;var j=r.memoizedState;m.state=j,gl(r,l,m,f),pl(),B=r.memoizedState,S||j!==B||kr?(typeof J=="function"&&(Dd(r,a,J,l),B=r.memoizedState),(D=kr||h_(r,a,D,l,j,B,_))?(Q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),m.props=l,m.state=B,m.context=_,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,ad(t,r),_=r.memoizedProps,Q=Zs(a,_),m.props=Q,J=r.pendingProps,j=m.context,B=a.contextType,D=ka,typeof B=="object"&&B!==null&&(D=qt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==J||j!==D)&&f_(r,m,l,D),kr=!1,j=r.memoizedState,m.state=j,gl(r,l,m,f),pl();var q=r.memoizedState;_!==J||j!==q||kr||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof S=="function"&&(Dd(r,a,S,l),q=r.memoizedState),(Q=kr||h_(r,a,Q,l,j,q,D)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,q,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),m.props=l,m.state=q,m.context=D,l=Q):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&j===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,Dc(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=Xs(r,t.child,null,f),r.child=Xs(r,null,a,f)):Gt(t,r,a,f),r.memoizedState=m.state,t=r.child):t=er(t,r,f),t}function I_(t,r,a,l){return qs(),r.flags|=256,Gt(t,r,a,l),r.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(t){return{baseLanes:t,cachePool:gy()}}function Pd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=wn),t}function C_(t,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ue){if(f?Br(r):jr(),(t=it)?(t=Pv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Vr!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=oy(t),a.return=r,r.child=a,Ht=r,it=null)):t=null,t===null)throw Lr(r);return _m(t)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(jr(),f=r.mode,S=Oc({mode:"hidden",children:S},f),l=Hs(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=Ld(a),l.childLanes=Pd(t,_,a),r.memoizedState=Md,Tl(null,l)):(Br(r),kd(r,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(Br(r),r.flags&=-257,r=Ud(t,r,a)):r.memoizedState!==null?(jr(),r.child=t.child,r.flags|=128,r=null):(jr(),S=l.fallback,f=r.mode,l=Oc({mode:"visible",children:l.children},f),S=Hs(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,Xs(r,t.child,null,a),l=r.child,l.memoizedState=Ld(a),l.childLanes=Pd(t,_,a),r.memoizedState=Md,r=Tl(null,l));else if(Br(r),_m(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ul({value:l,source:null,stack:null}),r=Ud(t,r,a)}else if(It||ja(t,r,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=nt,_!==null&&(l=Fo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Fs(t,l),dn(_,t,l),xd;ym(S)||zc(),r=Ud(t,r,a)}else ym(S)?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,it=Bn(S.nextSibling),Ht=r,Ue=!0,Mr=null,Un=!1,t!==null&&cy(r,t),r=kd(r,l.children),r.flags|=4096);return r}return f?(jr(),S=l.fallback,f=r.mode,D=t.child,B=D.sibling,l=Qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?S=Qi(B,S):(S=Hs(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,Tl(null,l),l=r.child,S=t.child.memoizedState,S===null?S=Ld(a):(f=S.cachePool,f!==null?(D=bt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=gy(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Pd(t,_,a),r.memoizedState=Md,Tl(t.child,l)):(Br(r),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function kd(t,r){return r=Oc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Oc(t,r){return t=En(22,t,null,r),t.lanes=0,t}function Ud(t,r,a){return Xs(r,t.child,null,a),t=kd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function D_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Wf(t.return,r,a)}function zd(t,r,a,l,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function O_(t,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var _=pt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,se(pt,_),Gt(t,r,l,a),l=Ue?ll:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D_(t,a,r);else if(t.tag===19)D_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),zd(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&_c(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}zd(r,!0,a,null,m,l);break;case"together":zd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function er(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),qr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ja(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Qi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Bd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function Tb(t,r,a){switch(r.tag){case 3:xt(r,r.stateNode.containerInfo),Pr(r,bt,t.memoizedState.cache),qs();break;case 27:case 5:ws(r);break;case 4:xt(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(r),r.flags|=128,null):(a&r.child.childLanes)!==0?C_(t,r,a):(Br(r),t=er(t,r,a),t!==null?t.sibling:null);Br(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ja(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return O_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(pt,pt.current),l)break;return null;case 22:return r.lanes=0,S_(t,r,a,r.pendingProps);case 24:Pr(r,bt,t.memoizedState.cache)}return er(t,r,a)}function N_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)It=!0;else{if(!Bd(t,a)&&(r.flags&128)===0)return It=!1,Tb(t,r,a);It=(t.flags&131072)!==0}else It=!1,Ue&&(r.flags&1048576)!==0&&uy(r,ll,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Qs(r.elementType),r.type=t,typeof t=="function")Gf(t)?(l=Zs(t,l),r.tag=1,r=R_(null,r,t,l,a)):(r.tag=0,r=Vd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===de){r.tag=11,r=v_(null,r,t,l,a);break e}else if(f===C){r.tag=14,r=E_(null,r,t,l,a);break e}}throw r=xe(t)||t,Error(s(306,r,""))}}return r;case 0:return Vd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Zs(l,r.pendingProps),R_(t,r,l,f,a);case 3:e:{if(xt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,ad(t,r),gl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Pr(r,bt,l),l!==m.cache&&ed(r,[bt],a,!0),pl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=I_(t,r,l,a);break e}else if(l!==f){f=Ln(Error(s(424)),r),ul(f),r=I_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Bn(t.firstChild),Ht=r,Ue=!0,Mr=null,Un=!0,a=Sy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qs(),l===f){r=er(t,r,a);break e}Gt(t,r,l,a)}r=r.child}return r;case 26:return Dc(t,r),t===null?(a=Fv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ue||(a=r.type,t=r.pendingProps,l=$c(Ie.current).createElement(a),l[St]=r,l[kt]=t,$t(l,a,t),At(l),r.stateNode=l):r.memoizedState=Fv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ws(r),t===null&&Ue&&(l=r.stateNode=zv(r.type,r.pendingProps,Ie.current),Ht=r,Un=!0,f=it,Yr(r.type)?(vm=f,it=Bn(l.firstChild)):it=f),Gt(t,r,r.pendingProps.children,a),Dc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ue&&((f=l=it)&&(l=Jb(l,r.type,r.pendingProps,Un),l!==null?(r.stateNode=l,Ht=r,it=Bn(l.firstChild),Un=!1,f=!0):f=!1),f||Lr(r)),ws(r),f=r.type,m=r.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,mm(f,m)?l=null:_!==null&&mm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=dd(t,r,fb,null,null,a),Pl._currentValue=f),Dc(t,r),Gt(t,r,l,a),r.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=Zb(a,r.pendingProps,Un),a!==null?(r.stateNode=a,Ht=r,it=null,t=!0):t=!1),t||Lr(r)),null;case 13:return C_(t,r,a);case 4:return xt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Xs(r,null,l,a):Gt(t,r,l,a),r.child;case 11:return v_(t,r,r.type,r.pendingProps,a);case 7:return Gt(t,r,r.pendingProps,a),r.child;case 8:return Gt(t,r,r.pendingProps.children,a),r.child;case 12:return Gt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),Gt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,$s(r),f=qt(f),l=l(f),r.flags|=1,Gt(t,r,l,a),r.child;case 14:return E_(t,r,r.type,r.pendingProps,a);case 15:return T_(t,r,r.type,r.pendingProps,a);case 19:return O_(t,r,a);case 31:return Eb(t,r,a);case 22:return S_(t,r,a,r.pendingProps);case 24:return $s(r),l=qt(bt),t===null?(f=id(),f===null&&(f=nt,m=td(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},sd(r),Pr(r,bt,f)):((t.lanes&a)!==0&&(ad(t,r),gl(r,null,null,a),pl()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Pr(r,bt,l)):(l=m.cache,Pr(r,bt,l),l!==f.cache&&ed(r,[bt],a,!0))),Gt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function tr(t){t.flags|=4}function jd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(rv())t.flags|=8192;else throw Ys=mc,rd}else t.flags&=-16777217}function x_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(r))if(rv())t.flags|=8192;else throw Ys=mc,rd}function Nc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ku():536870912,t.lanes|=r,Wa|=r)}function Sl(t,r){if(!Ue)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Sb(t,r,a){var l=r.pendingProps;switch(Yf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(bt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(r)?tr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jf())),rt(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(tr(r),m!==null?(rt(r),x_(r,m)):(rt(r),jd(r,f,null,l,a))):m?m!==t.memoizedState?(tr(r),rt(r),x_(r,m)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&tr(r),rt(r),jd(r,f,t,l,a)),null;case 27:if(_a(r),a=Ie.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=ae.current,Ba(r)?hy(r):(t=zv(f,l,a),r.stateNode=t,tr(r))}return rt(r),null;case 5:if(_a(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(m=ae.current,Ba(r))hy(r);else{var _=$c(Ie.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}m[St]=r,m[kt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=m;e:switch($t(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&tr(r)}}return rt(r),jd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,Ba(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cv(t.nodeValue,a)),t||Lr(r,!0)}else t=$c(t).createTextNode(l),t[St]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=Jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ba(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=Jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Nc(r,r.updateQueue),rt(r),null);case 4:return at(),t===null&&um(r.stateNode.containerInfo),rt(r),null;case 10:return Ji(r.type),rt(r),null;case 19:if(Y(pt),l=r.memoizedState,l===null)return rt(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Sl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=_c(t),m!==null){for(r.flags|=128,Sl(l,!1),t=m.updateQueue,r.updateQueue=t,Nc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ay(a,t),a=a.sibling;return se(pt,pt.current&1|2),Ue&&Yi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&rn()>Pc&&(r.flags|=128,f=!0,Sl(l,!1),r.lanes=4194304)}else{if(!f)if(t=_c(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Nc(r,t),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Ue)return rt(r),null}else 2*rn()-l.renderingStartTime>Pc&&a!==536870912&&(r.flags|=128,f=!0,Sl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,a=pt.current,se(pt,f?a&1|2:a&1),Ue&&Yi(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return Sn(r),cd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Nc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Y(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(bt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Ab(t,r){switch(Yf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ji(bt),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return _a(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Sn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Y(pt),null;case 4:return at(),null;case 10:return Ji(r.type),null;case 22:case 23:return Sn(r),cd(),t!==null&&Y(Ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ji(bt),null;case 25:return null;default:return null}}function V_(t,r){switch(Yf(r),r.tag){case 3:Ji(bt),at();break;case 26:case 27:case 5:_a(r);break;case 4:at();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:Y(pt);break;case 10:Ji(r.type);break;case 22:case 23:Sn(r),cd(),t!==null&&Y(Ks);break;case 24:Ji(bt)}}function Al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Xe(r,r.return,S)}}function Fr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var D=a,B=S;try{B()}catch(Q){Xe(f,D,Q)}}}l=l.next}while(l!==m)}}catch(Q){Xe(r,r.return,Q)}}function M_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{wy(r,a)}catch(l){Xe(t,t.return,l)}}}function L_(t,r,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function wl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,r,f)}}function Ni(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,r,f)}else a.current=null}function P_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Fd(t,r,a){try{var l=t.stateNode;Gb(l,t.type,a,r),l[kt]=r}catch(f){Xe(t,t.return,f)}}function k_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Yn));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(qd(t,r,a),t=t.sibling;t!==null;)qd(t,r,a),t=t.sibling}function xc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,r,a),t=t.sibling;t!==null;)xc(t,r,a),t=t.sibling}function U_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[St]=t,r[kt]=a}catch(m){Xe(t,t.return,m)}}var nr=!1,Ct=!1,Gd=!1,z_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function wb(t,r){if(t=t.containerInfo,fm=Wc,t=Jg(t),Uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,B=0,Q=0,J=t,j=null;t:for(;;){for(var q;J!==a||f!==0&&J.nodeType!==3||(S=_+f),J!==m||l!==0&&J.nodeType!==3||(D=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(q=J.firstChild)!==null;)j=J,J=q;for(;;){if(J===t)break t;if(j===a&&++B===f&&(S=_),j===m&&++Q===l&&(D=_),(q=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=q}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(dm={focusedElem:t,selectionRange:a},Wc=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var le=Zs(a.type,f);t=l.getSnapshotBeforeUpdate(le,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Xe(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)gm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function B_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(t,a),l&4&&Al(5,a);break;case 1:if(rr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&M_(a),l&512&&wl(a,a.return);break;case 3:if(rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{wy(t,r)}catch(_){Xe(a,a.return,_)}}break;case 27:r===null&&l&4&&U_(a);case 26:case 5:rr(t,a),r===null&&l&4&&P_(a),l&512&&wl(a,a.return);break;case 12:rr(t,a);break;case 31:rr(t,a),l&4&&H_(t,a);break;case 13:rr(t,a),l&4&&q_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Vb.bind(null,a),Wb(t,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){r=r!==null&&r.memoizedState!==null||Ct,f=nr;var m=Ct;nr=l,(Ct=r)&&!m?sr(t,a,(a.subtreeFlags&8772)!==0):rr(t,a),nr=f,Ct=m}break;case 30:break;default:rr(t,a)}}function j_(t){var r=t.alternate;r!==null&&(t.alternate=null,j_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Aa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function ir(t,r,a){for(a=a.child;a!==null;)F_(t,r,a),a=a.sibling}function F_(t,r,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ct||Ni(a,r),ir(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ni(a,r);var l=lt,f=un;Yr(a.type)&&(lt=a.stateNode,un=!1),ir(t,r,a),Vl(a.stateNode),lt=l,un=f;break;case 5:Ct||Ni(a,r);case 6:if(l=lt,f=un,lt=null,ir(t,r,a),lt=l,un=f,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(m){Xe(a,r,m)}else try{lt.removeChild(a.stateNode)}catch(m){Xe(a,r,m)}break;case 18:lt!==null&&(un?(t=lt,Mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),oo(t)):Mv(lt,a.stateNode));break;case 4:l=lt,f=un,lt=a.stateNode.containerInfo,un=!0,ir(t,r,a),lt=l,un=f;break;case 0:case 11:case 14:case 15:Fr(2,a,r),Ct||Fr(4,a,r),ir(t,r,a);break;case 1:Ct||(Ni(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&L_(a,r,l)),ir(t,r,a);break;case 21:ir(t,r,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ir(t,r,a),Ct=l;break;default:ir(t,r,a)}}function H_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oo(t)}catch(a){Xe(r,r.return,a)}}}function q_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oo(t)}catch(a){Xe(r,r.return,a)}}function bb(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new z_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new z_),r;default:throw Error(s(435,t.tag))}}function Vc(t,r){var a=bb(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Mb.bind(null,t,l);l.then(f,f)}})}function cn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Yr(S.type)){lt=S.stateNode,un=!1;break e}break;case 5:lt=S.stateNode,un=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,un=!0;break e}S=S.return}if(lt===null)throw Error(s(160));F_(m,_,f),lt=null,un=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)G_(r,t),r=r.sibling}var ti=null;function G_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(r,t),hn(t),l&4&&(Fr(3,t,t.return),Al(3,t),Fr(5,t,t.return));break;case 1:cn(r,t),hn(t),l&512&&(Ct||a===null||Ni(a,a.return)),l&64&&nr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ti;if(cn(r,t),hn(t),l&512&&(Ct||a===null||Ni(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[yi]||m[St]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),$t(m,l,a),m[St]=t,At(m),l=m;break e;case"link":var _=Gv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(m=_[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}m=f.createElement(l),$t(m,l,a),f.head.appendChild(m);break;case"meta":if(_=Gv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(m=_[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}m=f.createElement(l),$t(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[St]=t,At(m),l=m}t.stateNode=l}else $v(f,t.type,t.stateNode);else t.stateNode=qv(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?$v(f,t.type,t.stateNode):qv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(r,t),hn(t),l&512&&(Ct||a===null||Ni(a,a.return)),a!==null&&l&4&&Fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(r,t),hn(t),l&512&&(Ct||a===null||Ni(a,a.return)),t.flags&32){f=t.stateNode;try{ln(f,"")}catch(le){Xe(t,t.return,le)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Fd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Gd=!0);break;case 6:if(cn(r,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(le){Xe(t,t.return,le)}}break;case 3:if(Yc=null,f=ti,ti=Kc(r.containerInfo),cn(r,t),ti=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(r.containerInfo)}catch(le){Xe(t,t.return,le)}Gd&&(Gd=!1,$_(t));break;case 4:l=ti,ti=Kc(t.stateNode.containerInfo),cn(r,t),hn(t),ti=l;break;case 12:cn(r,t),hn(t);break;case 31:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 13:cn(r,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lc=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=nr,Q=Ct;if(nr=B||f,Ct=Q||D,cn(r,t),Ct=Q,nr=B,hn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||nr||Ct||Ws(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var J=D.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(le){Xe(D,D.return,le)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(le){Xe(D,D.return,le)}}}else if(r.tag===18){if(a===null){D=r;try{var q=D.stateNode;f?Lv(q,!0):Lv(D.stateNode,!1)}catch(le){Xe(D,D.return,le)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vc(t,a))));break;case 19:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 30:break;case 21:break;default:cn(r,t),hn(t)}}function hn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(k_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Hd(t);xc(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var S=Hd(t);xc(t,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Hd(t);qd(t,B,D);break;default:throw Error(s(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function $_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;$_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function rr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)B_(t,r.alternate,r),r=r.sibling}function Ws(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Fr(4,r,r.return),Ws(r);break;case 1:Ni(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&L_(r,r.return,a),Ws(r);break;case 27:Vl(r.stateNode);case 26:case 5:Ni(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}t=t.sibling}}function sr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:sr(f,m,a),Al(4,m);break;case 1:if(sr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Ay(D[f],S)}catch(B){Xe(l,l.return,B)}}a&&_&64&&M_(m),wl(m,m.return);break;case 27:U_(m);case 26:case 5:sr(f,m,a),a&&l===null&&_&4&&P_(m),wl(m,m.return);break;case 12:sr(f,m,a);break;case 31:sr(f,m,a),a&&_&4&&H_(f,m);break;case 13:sr(f,m,a),a&&_&4&&q_(f,m);break;case 22:m.memoizedState===null&&sr(f,m,a),wl(m,m.return);break;case 30:break;default:sr(f,m,a)}r=r.sibling}}function $d(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Kd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t))}function ni(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K_(t,r,a,l),r=r.sibling}function K_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ni(t,r,a,l),f&2048&&Al(9,r);break;case 1:ni(t,r,a,l);break;case 3:ni(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){ni(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,_=m.id,S=m.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Xe(r,r.return,D)}}else ni(t,r,a,l);break;case 31:ni(t,r,a,l);break;case 13:ni(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,_=r.alternate,r.memoizedState!==null?m._visibility&2?ni(t,r,a,l):bl(t,r):m._visibility&2?ni(t,r,a,l):(m._visibility|=2,Xa(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&$d(_,r);break;case 24:ni(t,r,a,l),f&2048&&Kd(r.alternate,r);break;default:ni(t,r,a,l)}}function Xa(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,_=r,S=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Xa(m,_,S,D,f),Al(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Xa(m,_,S,D,f):bl(m,_):(Q._visibility|=2,Xa(m,_,S,D,f)),f&&B&2048&&$d(_.alternate,_);break;case 24:Xa(m,_,S,D,f),f&&B&2048&&Kd(_.alternate,_);break;default:Xa(m,_,S,D,f)}r=r.sibling}}function bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&$d(l.alternate,l);break;case 24:bl(a,l),f&2048&&Kd(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var Rl=8192;function Ja(t,r,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)Q_(t,r,a),t=t.sibling}function Q_(t,r,a){switch(t.tag){case 26:Ja(t,r,a),t.flags&Rl&&t.memoizedState!==null&&h1(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,r,a);break;case 3:case 4:var l=ti;ti=Kc(t.stateNode.containerInfo),Ja(t,r,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,Ja(t,r,a),Rl=l):Ja(t,r,a));break;default:Ja(t,r,a)}}function Y_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Il(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,J_(l,t)}Y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)X_(t),t=t.sibling}function X_(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&Fr(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Mc(t)):Il(t);break;default:Il(t)}}function Mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,J_(l,t)}Y_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Fr(8,r,r.return),Mc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(r));break;default:Mc(r)}t=t.sibling}}function J_(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Fr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,m=l.return;if(j_(l),l===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}var Rb={getCacheForType:function(t){var r=qt(bt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return qt(bt).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Oe=null,Ve=0,Ye=0,An=null,Hr=!1,Za=!1,Qd=!1,ar=0,ft=0,qr=0,ea=0,Yd=0,wn=0,Wa=0,Cl=null,fn=null,Xd=!1,Lc=0,Z_=0,Pc=1/0,kc=null,Gr=null,Mt=0,$r=null,eo=null,or=0,Jd=0,Zd=null,W_=null,Dl=0,Wd=null;function bn(){return($e&2)!==0&&Ve!==0?Ve&-Ve:G.T!==null?sm():Uu()}function ev(){if(wn===0)if((Ve&536870912)===0||Ue){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),wn=t}else wn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),wn}function dn(t,r,a){(t===nt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(to(t,0),Kr(t,Ve,wn,!1)),Cs(t,a),(($e&2)===0||t!==nt)&&(t===nt&&(($e&2)===0&&(ea|=a),ft===4&&Kr(t,Ve,wn,!1)),xi(t))}function tv(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||$n(t,r),f=l?Ob(t,r):tm(t,r,!0),m=l;do{if(f===0){Za&&!l&&Kr(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!Cb(a)){f=tm(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;f=Cl;var D=S.current.memoizedState.isDehydrated;if(D&&(to(S,_).flags|=256),_=tm(S,_,!1),_!==2){if(Qd&&!D){S.errorRecoveryDisabledLanes|=m,ea|=m,f=4;break e}m=fn,fn=f,m!==null&&(fn===null?fn=m:fn.push.apply(fn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){to(t,0),Kr(t,r,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Kr(l,r,wn,!Hr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Lc+300-rn(),10<f)){if(Kr(l,r,wn,!Hr),mi(l,0,!0)!==0)break e;or=r,l.timeoutHandle=xv(nv.bind(null,l,a,fn,kc,Xd,r,wn,ea,Wa,Hr,m,"Throttled",-0,0),f);break e}nv(l,a,fn,kc,Xd,r,wn,ea,Wa,Hr,m,null,-0,0)}}break}while(!0);xi(t)}function nv(t,r,a,l,f,m,_,S,D,B,Q,J,j,q){if(t.timeoutHandle=-1,J=r.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Q_(r,m,J);var le=(m&62914560)===m?Lc-rn():(m&4194048)===m?Z_-rn():0;if(le=f1(J,le),le!==null){or=m,t.cancelPendingCommit=le(cv.bind(null,t,r,m,a,l,f,_,S,D,Q,J,null,j,q)),Kr(t,m,_,!B);return}}cv(t,r,m,a,l,f,_,S,D)}function Cb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(t,r,a,l){r&=~Yd,r&=~ea,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-dt(f),_=1<<m;l[m]=-1,f&=~_}a!==0&&Ds(t,a,r)}function Uc(){return($e&6)===0?(Ol(0),!1):!0}function em(){if(Oe!==null){if(Ye===0)var t=Oe.return;else t=Oe,Xi=Gs=null,gd(t),Ga=null,fl=0,t=Oe;for(;t!==null;)V_(t.alternate,t),t=t.return;Oe=null}}function to(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Qb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),or=0,em(),nt=t,Oe=a=Qi(t.current,null),Ve=r,Ye=0,An=null,Hr=!1,Za=$n(t,r),Qd=!1,Wa=wn=Yd=ea=qr=ft=0,fn=Cl=null,Xd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-dt(l),m=1<<f;r|=t[f],l&=~m}return ar=r,sc(),a}function iv(t,r){Re=null,G.H=El,r===qa||r===dc?(r=vy(),Ye=3):r===rd?(r=vy(),Ye=4):Ye=r===xd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Oe===null&&(ft=1,Ic(t,Ln(r,t.current)))}function rv(){var t=Tn.current;return t===null?!0:(Ve&4194048)===Ve?zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===zn:!1}function sv(){var t=G.H;return G.H=El,t===null?El:t}function av(){var t=G.A;return G.A=Rb,t}function zc(){ft=4,Hr||(Ve&4194048)!==Ve&&Tn.current!==null||(Za=!0),(qr&134217727)===0&&(ea&134217727)===0||nt===null||Kr(nt,Ve,wn,!1)}function tm(t,r,a){var l=$e;$e|=2;var f=sv(),m=av();(nt!==t||Ve!==r)&&(kc=null,to(t,r)),r=!1;var _=ft;e:do try{if(Ye!==0&&Oe!==null){var S=Oe,D=An;switch(Ye){case 8:em(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var B=Ye;if(Ye=0,An=null,no(t,S,D,B),a&&Za){_=0;break e}break;default:B=Ye,Ye=0,An=null,no(t,S,D,B)}}Db(),_=ft;break}catch(Q){iv(t,Q)}while(!0);return r&&t.shellSuspendCounter++,Xi=Gs=null,$e=l,G.H=f,G.A=m,Oe===null&&(nt=null,Ve=0,sc()),_}function Db(){for(;Oe!==null;)ov(Oe)}function Ob(t,r){var a=$e;$e|=2;var l=sv(),f=av();nt!==t||Ve!==r?(kc=null,Pc=rn()+500,to(t,r)):Za=$n(t,r);e:do try{if(Ye!==0&&Oe!==null){r=Oe;var m=An;t:switch(Ye){case 1:Ye=0,An=null,no(t,r,m,1);break;case 2:case 9:if(yy(m)){Ye=0,An=null,lv(r);break}r=function(){Ye!==2&&Ye!==9||nt!==t||(Ye=7),xi(t)},m.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:yy(m)?(Ye=0,An=null,lv(r)):(Ye=0,An=null,no(t,r,m,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?Kv(_):S.stateNode.complete){Ye=0,An=null;var D=S.sibling;if(D!==null)Oe=D;else{var B=S.return;B!==null?(Oe=B,Bc(B)):Oe=null}break t}}Ye=0,An=null,no(t,r,m,5);break;case 6:Ye=0,An=null,no(t,r,m,6);break;case 8:em(),ft=6;break e;default:throw Error(s(462))}}Nb();break}catch(Q){iv(t,Q)}while(!0);return Xi=Gs=null,G.H=l,G.A=f,$e=a,Oe!==null?0:(nt=null,Ve=0,sc(),ft)}function Nb(){for(;Oe!==null&&!Nf();)ov(Oe)}function ov(t){var r=N_(t.alternate,t,ar);t.memoizedProps=t.pendingProps,r===null?Bc(t):Oe=r}function lv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=b_(a,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=b_(a,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:gd(r);default:V_(a,r),r=Oe=ay(r,ar),r=N_(a,r,ar)}t.memoizedProps=t.pendingProps,r===null?Bc(t):Oe=r}function no(t,r,a,l){Xi=Gs=null,gd(r),Ga=null,fl=0;var f=r.return;try{if(vb(t,f,r,a,Ve)){ft=1,Ic(t,Ln(a,t.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;ft=1,Ic(t,Ln(a,t.current)),Oe=null;return}r.flags&32768?(Ue||l===1?t=!0:Za||(Ve&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),uv(r,t)):Bc(r)}function Bc(t){var r=t;do{if((r.flags&32768)!==0){uv(r,Hr);return}t=r.return;var a=Sb(r.alternate,r,ar);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);ft===0&&(ft=5)}function uv(t,r){do{var a=Ab(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ft=6,Oe=null}function cv(t,r,a,l,f,m,_,S,D){t.cancelPendingCommit=null;do jc();while(Mt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Hf,Mf(t,a,m,_,S,D),t===nt&&(Oe=nt=null,Ve=0),eo=r,$r=t,or=a,Jd=m,Zd=f,W_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lb(Ar,function(){return pv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=ne.p,ne.p=2,_=$e,$e|=4;try{wb(t,r,a)}finally{$e=_,ne.p=f,G.T=l}}Mt=1,hv(),fv(),dv()}}function hv(){if(Mt===1){Mt=0;var t=$r,r=eo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ne.p;ne.p=2;var f=$e;$e|=4;try{G_(r,t);var m=dm,_=Jg(t.containerInfo),S=m.focusedElem,D=m.selectionRange;if(_!==S&&S&&S.ownerDocument&&Xg(S.ownerDocument.documentElement,S)){if(D!==null&&Uf(S)){var B=D.start,Q=D.end;if(Q===void 0&&(Q=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Q,S.value.length);else{var J=S.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var q=j.getSelection(),le=S.textContent.length,pe=Math.min(D.start,le),tt=D.end===void 0?pe:Math.min(D.end,le);!q.extend&&pe>tt&&(_=tt,tt=pe,pe=_);var L=Yg(S,pe),V=Yg(S,tt);if(L&&V&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var z=J.createRange();z.setStart(L.node,L.offset),q.removeAllRanges(),pe>tt?(q.addRange(z),q.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),q.addRange(z))}}}}for(J=[],q=S;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var X=J[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Wc=!!fm,dm=fm=null}finally{$e=f,ne.p=l,G.T=a}}t.current=r,Mt=2}}function fv(){if(Mt===2){Mt=0;var t=$r,r=eo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ne.p;ne.p=2;var f=$e;$e|=4;try{B_(t,r.alternate,r)}finally{$e=f,ne.p=l,G.T=a}}Mt=3}}function dv(){if(Mt===4||Mt===3){Mt=0,Nu();var t=$r,r=eo,a=or,l=W_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Mt=5:(Mt=0,eo=$r=null,mv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gr=null),qi(a),r=r.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Gn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,f=ne.p,ne.p=2,G.T=null;try{for(var m=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];m(S.value,{componentStack:S.stack})}}finally{G.T=r,ne.p=f}}(or&3)!==0&&jc(),xi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Wd?Dl++:(Dl=0,Wd=t):Dl=0,Ol(0)}}function mv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,cl(r)))}function jc(){return hv(),fv(),dv(),pv()}function pv(){if(Mt!==5)return!1;var t=$r,r=Jd;Jd=0;var a=qi(or),l=G.T,f=ne.p;try{ne.p=32>a?32:a,G.T=null,a=Zd,Zd=null;var m=$r,_=or;if(Mt=0,eo=$r=null,or=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,X_(m.current),K_(m,m.current,_,a),$e=S,Ol(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Gn,m)}catch{}return!0}finally{ne.p=f,G.T=l,mv(t,r)}}function gv(t,r,a){r=Ln(a,r),r=Nd(t.stateNode,r,2),t=zr(t,r,2),t!==null&&(Cs(t,2),xi(t))}function Xe(t,r,a){if(t.tag===3)gv(t,t,a);else for(;r!==null;){if(r.tag===3){gv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Ln(a,t),a=y_(2),l=zr(r,a,2),l!==null&&(__(a,l,r,t),Cs(l,2),xi(l));break}}r=r.return}}function nm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ib;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Qd=!0,f.add(a),t=xb.bind(null,t,r,a),r.then(t,t))}function xb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(ft===4||ft===3&&(Ve&62914560)===Ve&&300>rn()-Lc?($e&2)===0&&to(t,0):Yd|=a,Wa===Ve&&(Wa=0)),xi(t)}function yv(t,r){r===0&&(r=ku()),t=Fs(t,r),t!==null&&(Cs(t,r),xi(t))}function Vb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),yv(t,a)}function Mb(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),yv(t,a)}function Lb(t,r){return Vt(t,r)}var Fc=null,io=null,im=!1,Hc=!1,rm=!1,Qr=0;function xi(t){t!==io&&t.next===null&&(io===null?Fc=io=t:io=io.next=t),Hc=!0,im||(im=!0,kb())}function Ol(t,r){if(!rm&&Hc){rm=!0;do for(var a=!1,l=Fc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-dt(42|t)+1)-1,m&=f&~(_&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Tv(l,m))}else m=Ve,m=mi(l,l===nt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||$n(l,m)||(a=!0,Tv(l,m));l=l.next}while(a);rm=!1}}function Pb(){_v()}function _v(){Hc=im=!1;var t=0;Qr!==0&&Kb()&&(t=Qr);for(var r=rn(),a=null,l=Fc;l!==null;){var f=l.next,m=vv(l,r);m===0?(l.next=null,a===null?Fc=f:a.next=f,f===null&&(io=a)):(a=l,(t!==0||(m&3)!==0)&&(Hc=!0)),l=f}Mt!==0&&Mt!==5||Ol(t),Qr!==0&&(Qr=0)}function vv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-dt(m),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Vf(S,r)):D<=r&&(t.expiredLanes|=S),m&=~S}if(r=nt,a=Ve,a=mi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Sr(l),qi(a)){case 2:case 8:a=Bo;break;case 32:a=Ar;break;case 268435456:a=xu;break;default:a=Ar}return l=Ev.bind(null,t),a=Vt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Sr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ev(t,r){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jc()&&t.callbackNode!==a)return null;var l=Ve;return l=mi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tv(t,l,r),vv(t,rn()),t.callbackNode!=null&&t.callbackNode===a?Ev.bind(null,t):null)}function Tv(t,r){if(jc())return null;tv(t,r,!0)}function kb(){Yb(function(){($e&6)!==0?Vt(zo,Pb):_v()})}function sm(){if(Qr===0){var t=Fa;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Qr=t}return Qr}function Sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function Av(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Ub(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=Sv((f[kt]||null).action),_=l.submitter;_&&(r=(r=_[kt]||null)?Sv(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var S=new bi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var D=_?Av(f,_):new FormData(f);bd(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=_?Av(f,_):new FormData(f),bd(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var am=0;am<Ff.length;am++){var om=Ff[am],zb=om.toLowerCase(),Bb=om[0].toUpperCase()+om.slice(1);ei(zb,"on"+Bb)}ei(ey,"onAnimationEnd"),ei(ty,"onAnimationIteration"),ei(ny,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(nb,"onTransitionRun"),ei(ib,"onTransitionStart"),ei(rb,"onTransitionCancel"),ei(iy,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function wv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=B;try{m(f)}catch(Q){rc(Q)}f.currentTarget=null,m=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,B=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=B;try{m(f)}catch(Q){rc(Q)}f.currentTarget=null,m=D}}}}function Ne(t,r){var a=r[Sa];a===void 0&&(a=r[Sa]=new Set);var l=t+"__bubble";a.has(l)||(bv(r,t,2,!1),a.add(l))}function lm(t,r,a){var l=0;r&&(l|=4),bv(a,t,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function um(t){if(!t[qc]){t[qc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(jb.has(a)||lm(a,!1,t),lm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qc]||(r[qc]=!0,lm("selectionchange",!1,r))}}function bv(t,r,a,l){switch(eE(r)){case 2:var f=p1;break;case 8:f=g1;break;default:f=wm}a=f.bind(null,r,a,t),f=void 0,!Ms||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function cm(t,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=_i(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=m=_;continue e}S=S.parentNode}}l=l.return}Dr(function(){var B=m,Q=Nn(a),J=[];e:{var j=ry.get(t);if(j!==void 0){var q=bi,le=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":q=tc;break;case"focusin":le="focus",q=Us;break;case"focusout":le="blur",q=Us;break;case"beforeblur":case"afterblur":q=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=y;break;case ey:case ty:case ny:q=Qu;break;case iy:q=A;break;case"scroll":case"scrollend":q=tl;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ki;break;case"toggle":case"beforetoggle":q=be}var pe=(r&4)!==0,tt=!pe&&(t==="scroll"||t==="scrollend"),L=pe?j!==null?j+"Capture":null:j;pe=[];for(var V=B,z;V!==null;){var X=V;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=Xn(V,L),X!=null&&pe.push(xl(V,X,z))),tt)break;V=V.return}0<pe.length&&(j=new q(j,le,null,a,Q),J.push({event:j,listeners:pe}))}}if((r&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&a!==Zo&&(le=a.relatedTarget||a.fromElement)&&(_i(le)||le[gi]))break e;if((q||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,q?(le=a.relatedTarget||a.toElement,q=B,le=le?_i(le):null,le!==null&&(tt=u(le),pe=le.tag,le!==tt||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(q=null,le=B),q!==le)){if(pe=nl,X="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Ki,X="onPointerLeave",L="onPointerEnter",V="pointer"),tt=q==null?j:yn(q),z=le==null?j:yn(le),j=new pe(X,V+"leave",q,a,Q),j.target=tt,j.relatedTarget=z,X=null,_i(Q)===B&&(pe=new pe(L,V+"enter",le,a,Q),pe.target=z,pe.relatedTarget=tt,X=pe),tt=X,q&&le)t:{for(pe=Fb,L=q,V=le,z=0,X=L;X;X=pe(X))z++;X=0;for(var fe=V;fe;fe=pe(fe))X++;for(;0<z-X;)L=pe(L),z--;for(;0<X-z;)V=pe(V),X--;for(;z--;){if(L===V||V!==null&&L===V.alternate){pe=L;break t}L=pe(L),V=pe(V)}pe=null}else pe=null;q!==null&&Rv(J,j,q,pe,!1),le!==null&&tt!==null&&Rv(J,tt,le,pe,!0)}}e:{if(j=B?yn(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Fe=Hg;else if(jg(j))if(qg)Fe=Ww;else{Fe=Jw;var ce=Xw}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Ra(B.elementType)&&(Fe=Hg):Fe=Zw;if(Fe&&(Fe=Fe(t,B))){Fg(J,Fe,a,Q);break e}ce&&ce(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Yo(j,"number",j.value)}switch(ce=B?yn(B):window,t){case"focusin":(jg(ce)||ce.contentEditable==="true")&&(Ma=ce,zf=B,ol=null);break;case"focusout":ol=zf=Ma=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Zg(J,a,Q);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":Zg(J,a,Q)}var Ce;if(Ge)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Va?zs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ci&&a.locale!=="ko"&&(Va||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Va&&(Ce=el()):(wi=Q,Wo="value"in wi?wi.value:wi.textContent,Va=!0)),ce=Gc(B,Me),0<ce.length&&(Me=new Ii(Me,t,null,a,Q),J.push({event:Me,listeners:ce}),Ce?Me.data=Ce:(Ce=xa(a),Ce!==null&&(Me.data=Ce)))),(Ce=Vn?$w(t,a):Kw(t,a))&&(Me=Gc(B,"onBeforeInput"),0<Me.length&&(ce=new Ii("onBeforeInput","beforeinput",null,a,Q),J.push({event:ce,listeners:Me}),ce.data=Ce)),Ub(J,t,B,a,Q)}wv(J,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Gc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Xn(t,a),f!=null&&l.unshift(xl(t,f,m)),f=Xn(t,r),f!=null&&l.push(xl(t,f,m))),t.tag===3)return l;t=t.return}return[]}function Fb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rv(t,r,a,l,f){for(var m=r._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||B===null||(D=B,f?(B=Xn(a,m),B!=null&&_.unshift(xl(a,B,D))):f||(B=Xn(a,m),B!=null&&_.push(xl(a,B,D)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Hb=/\r\n?/g,qb=/\u0000|\uFFFD/g;function Iv(t){return(typeof t=="string"?t:""+t).replace(Hb,`
`).replace(qb,"")}function Cv(t,r){return r=Iv(r),Iv(t)===r}function et(t,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ln(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Jo(t,l,m);break;case"data":if(r!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&et(t,r,"name",f.name,f,null),et(t,r,"formEncType",f.formEncType,f,null),et(t,r,"formMethod",f.formMethod,f,null),et(t,r,"formTarget",f.formTarget,f,null)):(et(t,r,"encType",f.encType,f,null),et(t,r,"method",f.method,f,null),et(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gu.get(a)||a,wa(t,a,l))}}function hm(t,r,a,l,f,m){switch(a){case"style":Jo(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[kt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wa(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,m,_,a,null)}}f&&et(t,r,"srcSet",a.srcSet,a,null),l&&et(t,r,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=m=_=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":B=Q;break;case"value":m=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:et(t,r,l,Q,a,null)}}Fu(t,m,S,D,B,_,f,!1);return;case"select":Ne("invalid",t),l=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:et(t,r,f,S,a,null)}r=m,a=_,t.multiple=!!l,r!=null?br(t,!!l,r,!1):a!=null&&br(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),m=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,r,_,S,a,null)}Rr(t,l,f,m);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,r,D,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ne(Nl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(t,r,B,l,a,null)}return;default:if(Ra(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&hm(t,r,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,r,S,l,a,null))}function Gb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,S=null,D=null,B=null,Q=null;for(q in a){var J=a[q];if(a.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(q)||et(t,r,q,null,l,J)}}for(var j in l){var q=l[j];if(J=a[j],l.hasOwnProperty(j)&&(q!=null||J!=null))switch(j){case"type":m=q;break;case"name":f=q;break;case"checked":B=q;break;case"defaultChecked":Q=q;break;case"value":_=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==J&&et(t,r,j,q,l,J)}}ba(t,_,S,D,B,Q,m,f);return;case"select":q=_=S=j=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(m)||et(t,r,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":j=m;break;case"defaultValue":S=m;break;case"multiple":_=m;default:m!==D&&et(t,r,f,m,l,D)}r=S,a=_,l=q,j!=null?br(t,!!a,j,!1):!!l!=!!a&&(r!=null?br(t,!!a,r,!0):br(t,!!a,a?[]:"",!1));return;case"textarea":q=j=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,r,S,null,l,f)}for(_ in l)if(f=l[_],m=a[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":j=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&et(t,r,_,f,l,m)}Hu(t,j,q);return;case"option":for(var le in a)if(j=a[le],a.hasOwnProperty(le)&&j!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:et(t,r,le,null,l,j)}for(D in l)if(j=l[D],q=a[D],l.hasOwnProperty(D)&&j!==q&&(j!=null||q!=null))switch(D){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:et(t,r,D,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)j=a[pe],a.hasOwnProperty(pe)&&j!=null&&!l.hasOwnProperty(pe)&&et(t,r,pe,null,l,j);for(B in l)if(j=l[B],q=a[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:et(t,r,B,j,l,q)}return;default:if(Ra(r)){for(var tt in a)j=a[tt],a.hasOwnProperty(tt)&&j!==void 0&&!l.hasOwnProperty(tt)&&hm(t,r,tt,void 0,l,j);for(Q in l)j=l[Q],q=a[Q],!l.hasOwnProperty(Q)||j===q||j===void 0&&q===void 0||hm(t,r,Q,j,l,q);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&et(t,r,L,null,l,j);for(J in l)j=l[J],q=a[J],!l.hasOwnProperty(J)||j===q||j==null&&q==null||et(t,r,J,j,l,q)}function Dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $b(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,_=f.initiatorType,S=f.duration;if(m&&S&&Dv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>S)break;var Q=D.transferSize,J=D.initiatorType;Q&&Dv(J)&&(D=D.responseEnd,_+=Q*(D<S?1:(S-B)/(D-B)))}if(--l,r+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fm=null,dm=null;function $c(t){return t.nodeType===9?t:t.ownerDocument}function Ov(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function mm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pm=null;function Kb(){var t=window.event;return t&&t.type==="popstate"?t===pm?!1:(pm=t,!0):(pm=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(t){return Vv.resolve(null).then(t).catch(Xb)}:xv;function Xb(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function Mv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),oo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var m=a.firstChild;m;){var _=m.nextSibling,S=m.nodeName;m[yi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Vl(t.ownerDocument.body);a=f}while(a);oo(r)}function Lv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function gm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gm(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Jb(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function Zb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Pv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function ym(t){return t.data==="$?"||t.data==="$~"}function _m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Wb(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var vm=null;function kv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Bn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Uv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function zv(t,r,a){switch(r=$c(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Aa(t)}var jn=new Map,Bv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=ne.d;ne.d={f:e1,r:t1,D:n1,C:i1,L:r1,m:s1,X:o1,S:a1,M:l1};function e1(){var t=lr.f(),r=Uc();return t||r}function t1(t){var r=On(t);r!==null&&r.tag===5&&r.type==="form"?i_(r):lr.r(t)}var ro=typeof document>"u"?null:document;function jv(t,r,a){var l=ro;if(l&&typeof r=="string"&&r){var f=on(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Bv.has(f)||(Bv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),At(r),l.head.appendChild(r)))}}function n1(t){lr.D(t),jv("dns-prefetch",t,null)}function i1(t,r){lr.C(t,r),jv("preconnect",t,r)}function r1(t,r,a){lr.L(t,r,a);var l=ro;if(l&&t&&r){var f='link[rel="preload"][as="'+on(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(t)+'"]';var m=f;switch(r){case"style":m=so(t);break;case"script":m=ao(t)}jn.has(m)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),jn.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ml(m))||r==="script"&&l.querySelector(Ll(m))||(r=l.createElement("link"),$t(r,"link",t),At(r),l.head.appendChild(r)))}}function s1(t,r){lr.m(t,r);var a=ro;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ao(t)}if(!jn.has(m)&&(t=T({rel:"modulepreload",href:t},r),jn.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(m)))return}l=a.createElement("link"),$t(l,"link",t),At(l),a.head.appendChild(l)}}}function a1(t,r,a){lr.S(t,r,a);var l=ro;if(l&&t){var f=vi(l).hoistableStyles,m=so(t);r=r||"default";var _=f.get(m);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ml(m)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=jn.get(m))&&Em(t,a);var D=_=l.createElement("link");At(D),$t(D,"link",t),D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(m,_)}}}function o1(t,r){lr.X(t,r);var a=ro;if(a&&t){var l=vi(a).hoistableScripts,f=ao(t),m=l.get(f);m||(m=a.querySelector(Ll(f)),m||(t=T({src:t,async:!0},r),(r=jn.get(f))&&Tm(t,r),m=a.createElement("script"),At(m),$t(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function l1(t,r){lr.M(t,r);var a=ro;if(a&&t){var l=vi(a).hoistableScripts,f=ao(t),m=l.get(f);m||(m=a.querySelector(Ll(f)),m||(t=T({src:t,async:!0,type:"module"},r),(r=jn.get(f))&&Tm(t,r),m=a.createElement("script"),At(m),$t(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Fv(t,r,a,l){var f=(f=Ie.current)?Kc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=so(a.href),a=vi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var m=vi(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Ml(t)))&&!m._p&&(_.instance=m,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),m||u1(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(a),a=vi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function so(t){return'href="'+on(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function Hv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function u1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),At(r),t.head.appendChild(r))}function ao(t){return'[src="'+on(t)+'"]'}function Ll(t){return"script[async]"+t}function qv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return r.instance=l,At(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),$t(l,"style",f),Qc(l,a.precedence,t),r.instance=l;case"stylesheet":f=so(a.href);var m=t.querySelector(Ml(f));if(m)return r.state.loading|=4,r.instance=m,At(m),m;l=Hv(a),(f=jn.get(f))&&Em(l,f),m=(t.ownerDocument||t).createElement("link"),At(m);var _=m;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),$t(m,"link",l),r.state.loading|=4,Qc(m,a.precedence,t),r.instance=m;case"script":return m=ao(a.src),(f=t.querySelector(Ll(m)))?(r.instance=f,At(f),f):(l=a,(f=jn.get(m))&&(l=T({},a),Tm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Qc(l,a.precedence,t));return r.instance}function Qc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Yc=null;function Gv(t,r,a){if(Yc===null){var l=new Map,f=Yc=new Map;f.set(a,l)}else f=Yc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[yi]||m[St]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(m):l.set(_,[m])}}return l}function $v(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function c1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function h1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=so(l.href),m=r.querySelector(Ml(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Xc.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=m,At(m);return}m=r.ownerDocument||r,l=Hv(l),(f=jn.get(f))&&Em(l,f),m=m.createElement("link"),At(m);var _=m;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),$t(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Xc.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Sm=0;function f1(t,r){return t.stylesheets&&t.count===0&&Zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&Sm===0&&(Sm=62500*$b());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Sm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jc=null;function Zc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jc=new Map,r.forEach(d1,t),Jc=null,Xc.call(t))}function d1(t,r){if(!(r.state.loading&4)){var a=Jc.get(t);if(a)var l=a.get(null);else{a=new Map,Jc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,f),a.set(_,f),this.count++,l=Xc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Pl={$$typeof:re,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function m1(t,r,a,l,f,m,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Qv(t,r,a,l,f,m,_,S,D,B,Q,J){return t=new m1(t,r,a,_,D,B,Q,J,S),r=1,m===!0&&(r|=24),m=En(3,null,null,r),t.current=m,m.stateNode=t,r=td(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},sd(m),t}function Yv(t){return t?(t=ka,t):ka}function Xv(t,r,a,l,f,m){f=Yv(f),l.context===null?l.context=f:l.pendingContext=f,l=Ur(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=zr(t,l,r),a!==null&&(dn(a,t,r),ml(a,t,r))}function Jv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Am(t,r){Jv(t,r),(t=t.alternate)&&Jv(t,r)}function Zv(t){if(t.tag===13||t.tag===31){var r=Fs(t,67108864);r!==null&&dn(r,t,67108864),Am(t,67108864)}}function Wv(t){if(t.tag===13||t.tag===31){var r=bn();r=Os(r);var a=Fs(t,r);a!==null&&dn(a,t,r),Am(t,r)}}var Wc=!0;function p1(t,r,a,l){var f=G.T;G.T=null;var m=ne.p;try{ne.p=2,wm(t,r,a,l)}finally{ne.p=m,G.T=f}}function g1(t,r,a,l){var f=G.T;G.T=null;var m=ne.p;try{ne.p=8,wm(t,r,a,l)}finally{ne.p=m,G.T=f}}function wm(t,r,a,l){if(Wc){var f=bm(l);if(f===null)cm(t,r,l,eh,a),tE(t,l);else if(_1(f,t,r,a,l))l.stopPropagation();else if(tE(t,l),r&4&&-1<y1.indexOf(t)){for(;f!==null;){var m=On(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=di(m.pendingLanes);if(_!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-dt(_);S.entanglements[1]|=D,_&=~D}xi(m),($e&6)===0&&(Pc=rn()+500,Ol(0))}}break;case 31:case 13:S=Fs(m,2),S!==null&&dn(S,m,2),Uc(),Am(m,2)}if(m=bm(l),m===null&&cm(t,r,l,eh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else cm(t,r,l,null,a)}}function bm(t){return t=Nn(t),Rm(t)}var eh=null;function Rm(t){if(eh=null,t=_i(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return eh=t,null}function eE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case zo:return 2;case Bo:return 8;case Ar:case xf:return 32;case xu:return 268435456;default:return 32}default:return 32}}var Im=!1,Xr=null,Jr=null,Zr=null,kl=new Map,Ul=new Map,Wr=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tE(t,r){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function zl(t,r,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=On(r),r!==null&&Zv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function _1(t,r,a,l,f){switch(r){case"focusin":return Xr=zl(Xr,t,r,a,l,f),!0;case"dragenter":return Jr=zl(Jr,t,r,a,l,f),!0;case"mouseover":return Zr=zl(Zr,t,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return kl.set(m,zl(kl.get(m)||null,t,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ul.set(m,zl(Ul.get(m)||null,t,r,a,l,f)),!0}return!1}function nE(t){var r=_i(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,Kn(t.priority,function(){Wv(a)});return}}else if(r===31){if(r=d(a),r!==null){t.blockedOn=r,Kn(t.priority,function(){Wv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=bm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return r=On(a),r!==null&&Zv(r),t.blockedOn=a,!1;r.shift()}return!0}function iE(t,r,a){th(t)&&a.delete(r)}function v1(){Im=!1,Xr!==null&&th(Xr)&&(Xr=null),Jr!==null&&th(Jr)&&(Jr=null),Zr!==null&&th(Zr)&&(Zr=null),kl.forEach(iE),Ul.forEach(iE)}function nh(t,r){t.blockedOn===r&&(t.blockedOn=null,Im||(Im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,v1)))}var ih=null;function rE(t){ih!==t&&(ih=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Rm(l||a)===null)continue;break}var m=On(a);m!==null&&(t.splice(r,3),r-=3,bd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function oo(t){function r(D){return nh(D,t)}Xr!==null&&nh(Xr,t),Jr!==null&&nh(Jr,t),Zr!==null&&nh(Zr,t),kl.forEach(r),Ul.forEach(r);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)nE(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],_=f[kt]||null;if(typeof m=="function")_||rE(a);else if(_){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[kt]||null)S=_.formAction;else if(Rm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),rE(a)}}}function sE(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Cm(t){this._internalRoot=t}rh.prototype.render=Cm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();Xv(a,l,t,r,null,null)},rh.prototype.unmount=Cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Xv(t.current,2,null,t,null,null),Uc(),r[gi]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Uu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Wr.length&&r!==0&&r<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&nE(t)}};var aE=e.version;if(aE!=="19.2.0")throw Error(s(527,aE,"19.2.0"));ne.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var E1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Gn=sh.inject(E1),jt=sh}catch{}}return Fl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=d_,m=m_,_=p_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Qv(t,1,!1,null,null,a,l,null,f,m,_,sE),t[gi]=r.current,um(t),new Cm(r)},Fl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",m=d_,_=m_,S=p_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=Qv(t,1,!0,r,a??null,l,f,D,m,_,S,sE),r.context=Yv(null),a=r.current,l=bn(),l=Os(l),f=Ur(l),f.callback=null,zr(a,f,l),a=l,r.current.lanes=a,Cs(r,a),xi(r),t[gi]=r.current,um(t),new rh(r)},Fl.version="19.2.0",Fl}var PE;function _R(){if(PE)return xm.exports;PE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xm.exports=yR(),xm.exports}var vR=_R();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kE="popstate";function ER(i={}){function e(s,o){let{pathname:u,search:c,hash:d}=s.location;return np("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ou(o)}return SR(e,n,null,i)}function Nt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TR(){return Math.random().toString(36).substring(2,10)}function UE(i,e){return{usr:i.state,key:i.key,idx:e}}function np(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_u(e):e,state:n,key:e&&e.key||s||TR()}}function ou({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function _u(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function SR(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let F=v(),te=F==null?null:F-g;g=F,p&&p({action:d,location:K.location,delta:te})}function w(F,te){d="PUSH";let W=np(K.location,F,te);g=v()+1;let re=UE(W,g),de=K.createHref(W);try{c.pushState(re,"",de)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(de)}u&&p&&p({action:d,location:K.location,delta:1})}function N(F,te){d="REPLACE";let W=np(K.location,F,te);g=v();let re=UE(W,g),de=K.createHref(W);c.replaceState(re,"",de),u&&p&&p({action:d,location:K.location,delta:0})}function k(F){return AR(F)}let K={get action(){return d},get location(){return i(o,c)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kE,T),p=F,()=>{o.removeEventListener(kE,T),p=null}},createHref(F){return e(o,F)},createURL:k,encodeLocation(F){let te=k(F);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:N,go(F){return c.go(F)}};return K}function AR(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ou(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function x0(i,e,n="/"){return wR(i,e,n,!1)}function wR(i,e,n,s){let o=typeof e=="string"?_u(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let c=V0(i);bR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=PR(u);d=MR(c[p],g,s)}return d}function V0(i,e=[],n=[],s="",o=!1){let u=(c,d,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Nt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=fr([s,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(Nt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),V0(c.children,e,w,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:xR(T,c.index),routesMeta:w})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let p of M0(c.path))u(c,d,!0,p)}),e}function M0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=M0(s.join("/")),d=[];return d.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function bR(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:VR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RR=/^:[\w-]+$/,IR=3,CR=2,DR=1,OR=10,NR=-2,zE=i=>i==="*";function xR(i,e){let n=i.split("/"),s=n.length;return n.some(zE)&&(s+=NR),e&&(s+=CR),n.filter(o=>!zE(o)).reduce((o,u)=>o+(RR.test(u)?IR:u===""?DR:OR),s)}function VR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function MR(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:fr([u,T.pathname]),pathnameBase:BR(fr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=fr([u,T.pathnameBase]))}return c}function Nh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=LR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let k=d[w]||"";c=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const N=d[w];return T&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function LR(i,e=!1,n=!0){si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function PR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function kR(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?_u(i):i;return{pathname:n?n.startsWith("/")?n:UR(n,e):e,search:jR(s),hash:FR(o)}}function UR(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Np(i){let e=zR(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xp(i,e,n,s=!1){let o;typeof i=="string"?o=_u(i):(o={...i},Nt(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),Nt(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),Nt(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=kR(o,d),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),BR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),jR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,FR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function HR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var L0=["POST","PUT","PATCH","DELETE"];new Set(L0);var qR=["GET",...L0];new Set(qR);var Io=$.createContext(null);Io.displayName="DataRouter";var nf=$.createContext(null);nf.displayName="DataRouterState";$.createContext(!1);var P0=$.createContext({isTransitioning:!1});P0.displayName="ViewTransition";var GR=$.createContext(new Map);GR.displayName="Fetchers";var $R=$.createContext(null);$R.displayName="Await";var li=$.createContext(null);li.displayName="Navigation";var rf=$.createContext(null);rf.displayName="Location";var ui=$.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var Vp=$.createContext(null);Vp.displayName="RouteError";function KR(i,{relative:e}={}){Nt(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=$.useContext(li),{hash:o,pathname:u,search:c}=vu(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:fr([n,u])),s.createHref({pathname:d,search:c,hash:o})}function Co(){return $.useContext(rf)!=null}function vs(){return Nt(Co(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(rf).location}var k0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U0(i){$.useContext(li).static||$.useLayoutEffect(i)}function Mp(){let{isDataRoute:i}=$.useContext(ui);return i?aI():QR()}function QR(){Nt(Co(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(Io),{basename:e,navigator:n}=$.useContext(li),{matches:s}=$.useContext(ui),{pathname:o}=vs(),u=JSON.stringify(Np(s)),c=$.useRef(!1);return U0(()=>{c.current=!0}),$.useCallback((p,g={})=>{if(si(c.current,k0),!c.current)return;if(typeof p=="number"){n.go(p);return}let v=xp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:fr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,i])}$.createContext(null);function qL(){let{matches:i}=$.useContext(ui),e=i[i.length-1];return e?e.params:{}}function vu(i,{relative:e}={}){let{matches:n}=$.useContext(ui),{pathname:s}=vs(),o=JSON.stringify(Np(n));return $.useMemo(()=>xp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function YR(i,e){return z0(i)}function z0(i,e,n,s,o){Nt(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=$.useContext(li),{matches:c}=$.useContext(ui),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let W=T&&T.path||"";B0(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=vs(),N;N=w;let k=N.pathname||"/",K=k;if(v!=="/"){let W=v.replace(/^\//,"").split("/");K="/"+k.replace(/^\//,"").split("/").slice(W.length).join("/")}let F=x0(i,{pathname:K});return si(T||F!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),si(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),eI(F&&F.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:fr([v,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:fr([v,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),c,n,s,o)}function XR(){let i=sI(),e=HR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:o},n):null,c)}var JR=$.createElement(XR,null),ZR=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?$.createElement(ui.Provider,{value:this.props.routeContext},$.createElement(Vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WR({routeContext:i,match:e,children:n}){let s=$.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ui.Provider,{value:i},n)}function eI(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Nt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:w}=n,N=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||N){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let w,N=!1,k=null,K=null;n&&(w=c&&v.route.id?c[v.route.id]:void 0,k=v.route.errorElement||JR,d&&(p<0&&T===0?(B0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,K=null):p===T&&(N=!0,K=v.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,T+1)),te=()=>{let W;return w?W=k:N?W=K:v.route.Component?W=$.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=g,$.createElement(WR,{match:v,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:W})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?$.createElement(ZR,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:te(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):te()},null)}function Lp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tI(i){let e=$.useContext(Io);return Nt(e,Lp(i)),e}function nI(i){let e=$.useContext(nf);return Nt(e,Lp(i)),e}function iI(i){let e=$.useContext(ui);return Nt(e,Lp(i)),e}function Pp(i){let e=iI(i),n=e.matches[e.matches.length-1];return Nt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function rI(){return Pp("useRouteId")}function sI(){let i=$.useContext(Vp),e=nI("useRouteError"),n=Pp("useRouteError");return i!==void 0?i:e.errors?.[n]}function aI(){let{router:i}=tI("useNavigate"),e=Pp("useNavigate"),n=$.useRef(!1);return U0(()=>{n.current=!0}),$.useCallback(async(o,u={})=>{si(n.current,k0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var BE={};function B0(i,e,n){!e&&!BE[i]&&(BE[i]=!0,si(!1,n))}$.memo(oI);function oI({routes:i,future:e,state:n,unstable_onError:s}){return z0(i,void 0,n,s,e)}function oh({to:i,replace:e,state:n,relative:s}){Nt(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(li);si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(ui),{pathname:c}=vs(),d=Mp(),p=xp(i,Np(u),c,s==="path"),g=JSON.stringify(p);return $.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function lI({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Nt(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof n=="string"&&(n=_u(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:w="default"}=n,N=$.useMemo(()=>{let k=pr(p,c);return k==null?null:{location:{pathname:k,search:g,hash:v,state:T,key:w},navigationType:s}},[c,p,g,v,T,w,s]);return si(N!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(li.Provider,{value:d},$.createElement(rf.Provider,{children:e,value:N}))}var gh="get",yh="application/x-www-form-urlencoded";function sf(i){return i!=null&&typeof i.tagName=="string"}function uI(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function cI(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function hI(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function fI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function dI(i,e){return i.button===0&&(!e||e==="_self")&&!fI(i)}var lh=null;function mI(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var pI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(i){return i!=null&&!pI.has(i)?(si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):i}function gI(i,e){let n,s,o,u,c;if(cI(i)){let d=i.getAttribute("action");s=d?pr(d,e):null,n=i.getAttribute("method")||gh,o=km(i.getAttribute("enctype"))||yh,u=new FormData(i)}else if(uI(i)||hI(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?pr(p,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||gh,o=km(i.getAttribute("formenctype"))||km(d.getAttribute("enctype"))||yh,u=new FormData(d,i),!mI()){let{name:g,type:v,value:T}=i;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,o=yh,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yI(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function _I(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function EI(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await _I(u,n);return c.links?c.links():[]}return[]}));return wI(s.flat(1).filter(vI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jE(i,e,n,s,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function TI(i,e,{includeHydrateFallback:n}={}){return SI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function SI(i){return[...new Set(i)]}function AI(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function wI(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(AI(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function j0(){let i=$.useContext(Io);return kp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function bI(){let i=$.useContext(nf);return kp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Up=$.createContext(void 0);Up.displayName="FrameworkContext";function F0(){let i=$.useContext(Up);return kp(i,"You must render this element inside a <HydratedRouter> element"),i}function RI(i,e){let n=$.useContext(Up),[s,o]=$.useState(!1),[u,c]=$.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=$.useRef(null);$.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let K=te=>{te.forEach(W=>{c(W.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[i]),$.useEffect(()=>{if(s){let K=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(K)}}},[s]);let N=()=>{o(!0)},k=()=>{o(!1),c(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Hl(d,N),onBlur:Hl(p,k),onMouseEnter:Hl(g,N),onMouseLeave:Hl(v,k),onTouchStart:Hl(T,N)}]:[!1,w,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function II({page:i,...e}){let{router:n}=j0(),s=$.useMemo(()=>x0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?$.createElement(DI,{page:i,matches:s,...e}):null}function CI(i){let{manifest:e,routeModules:n}=F0(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return EI(i,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,n]),s}function DI({page:i,matches:e,...n}){let s=vs(),{manifest:o,routeModules:u}=F0(),{basename:c}=j0(),{loaderData:d,matches:p}=bI(),g=$.useMemo(()=>jE(i,e,p,o,s,"data"),[i,e,p,o,s]),v=$.useMemo(()=>jE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,K=!1;if(e.forEach(te=>{let W=o.routes[te.route.id];!W||!W.hasLoader||(!g.some(re=>re.route.id===te.route.id)&&te.route.id in d&&u[te.route.id]?.shouldRevalidate||W.hasClientLoader?K=!0:k.add(te.route.id))}),k.size===0)return[];let F=yI(i,c,"data");return K&&k.size>0&&F.searchParams.set("_routes",e.filter(te=>k.has(te.route.id)).map(te=>te.route.id).join(",")),[F.pathname+F.search]},[c,d,s,o,g,e,i,u]),w=$.useMemo(()=>TI(v,o),[v,o]),N=CI(v);return $.createElement($.Fragment,null,T.map(k=>$.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),w.map(k=>$.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),N.map(({key:k,link:K})=>$.createElement("link",{key:k,nonce:n.nonce,...K})))}function OI(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H0&&(window.__reactRouterVersion="7.9.3")}catch{}function NI({basename:i,children:e,window:n}){let s=$.useRef();s.current==null&&(s.current=ER({window:n,v5Compat:!0}));let o=s.current,[u,c]=$.useState({action:o.action,location:o.location}),d=$.useCallback(p=>{$.startTransition(()=>c(p))},[c]);return $.useLayoutEffect(()=>o.listen(d),[o,d]),$.createElement(lI,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G0=$.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:T,...w},N){let{basename:k}=$.useContext(li),K=typeof g=="string"&&q0.test(g),F,te=!1;if(typeof g=="string"&&K&&(F=g,H0))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),x=pr(M.pathname,k);M.origin===R.origin&&x!=null?g=x+M.search+M.hash:te=!0}catch{si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=KR(g,{relative:o}),[re,de,_e]=RI(s,w),Te=LI(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:T});function C(R){e&&e(R),R.defaultPrevented||Te(R)}let b=$.createElement("a",{...w,..._e,href:F||W,onClick:te||u?e:C,ref:OI(N,de),target:p,"data-discover":!K&&n==="render"?"true":void 0});return re&&!K?$.createElement($.Fragment,null,b,$.createElement(II,{page:W})):b});G0.displayName="Link";var xI=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:p,...g},v){let T=vu(c,{relative:g.relative}),w=vs(),N=$.useContext(nf),{navigator:k,basename:K}=$.useContext(li),F=N!=null&&BI(T)&&d===!0,te=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,W=w.pathname,re=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(W=W.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&K&&(re=pr(re,K)||re);const de=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let _e=W===te||!o&&W.startsWith(te)&&W.charAt(de)==="/",Te=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),C={isActive:_e,isPending:Te,isTransitioning:F},b=_e?e:void 0,R;typeof s=="function"?R=s(C):R=[s,_e?"active":null,Te?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(C):u;return $.createElement(G0,{...g,"aria-current":b,className:R,ref:v,style:M,to:c,viewTransition:d},typeof p=="function"?p(C):p)});xI.displayName="NavLink";var VI=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=gh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...w},N)=>{let k=UI(),K=zI(d,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",te=typeof d=="string"&&q0.test(d),W=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let de=re.nativeEvent.submitter,_e=de?.getAttribute("formmethod")||c;k(de||re.currentTarget,{fetcherKey:e,method:_e,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return $.createElement("form",{ref:N,method:F,action:K,onSubmit:s?p:W,...w,"data-discover":!te&&i==="render"?"true":void 0})});VI.displayName="Form";function MI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $0(i){let e=$.useContext(Io);return Nt(e,MI(i)),e}function LI(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let d=Mp(),p=vs(),g=vu(i,{relative:u});return $.useCallback(v=>{if(dI(v,e)){v.preventDefault();let T=n!==void 0?n:ou(p)===ou(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[p,d,g,n,s,e,i,o,u,c])}var PI=0,kI=()=>`__${String(++PI)}__`;function UI(){let{router:i}=$0("useSubmit"),{basename:e}=$.useContext(li),n=rI();return $.useCallback(async(s,o={})=>{let{action:u,method:c,encType:d,formData:p,body:g}=gI(s,e);if(o.navigate===!1){let v=o.fetcherKey||kI();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function zI(i,{relative:e}={}){let{basename:n}=$.useContext(li),s=$.useContext(ui);Nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vu(i||".",{relative:e})},c=vs();if(i==null){u.search=c.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),ou(u)}function BI(i,{relative:e}={}){let n=$.useContext(P0);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$0("useViewTransitionState"),o=vu(i,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Nh(o.pathname,c)!=null||Nh(o.pathname,u)!=null}const jI="modulepreload",FI=function(i){return"/"+i},FE={},nn=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=p(n.map(g=>{if(g=FI(g),g in FE)return;FE[g]=!0;const v=g.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":jI,v||(w.as="script"),w.crossOrigin="",w.href=g,d&&w.setAttribute("nonce",d),document.head.appendChild(w),v)return new Promise((N,k)=>{w.addEventListener("load",N),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return e().catch(u)})},HI=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qI=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],d=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,d=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,N=g&63;p||(N=64,c||(w=64)),s.push(n[v],n[T],n[w],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(K0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new GI;const w=u<<2|d>>4;if(s.push(w),g!==64){const N=d<<4&240|g>>2;if(s.push(N),T!==64){const k=g<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $I=function(i){const e=K0(i);return Q0.encodeByteArray(e,!0)},xh=function(i){return $I(i).replace(/\./g,"")},Y0=function(i){try{return Q0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=()=>KI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof HE>"u")return;const i=HE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},XI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Y0(i[1]);return e&&JSON.parse(e)},af=()=>{try{return HI()||QI()||YI()||XI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},X0=i=>af()?.emulatorHosts?.[i],JI=i=>{const e=X0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},J0=()=>af()?.config,Z0=i=>af()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[xh(JSON.stringify(n)),xh(JSON.stringify(c)),""].join(".")}const Zl={};function eC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?i.emulator.push(e):i.prod.push(e);return i}function tC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let qE=!1;function eS(i,e){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||Zl[i]===e||Zl[i]||qE)return;Zl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=eC().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{qE=!0,c()},w}function v(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=tC(s),N=n("text"),k=document.getElementById(N)||document.createElement("span"),K=n("learnmore"),F=document.getElementById(K)||document.createElement("a"),te=n("preprendIcon"),W=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;d(re),v(F,K);const de=g();p(W,te),re.append(W,k,F,de),document.body.appendChild(re)}u?(k.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function iC(){const i=af()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function sC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aC(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function oC(){return!iC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bp(){try{return typeof indexedDB=="object"}catch{return!1}}function jp(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function tS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="FirebaseError";class ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lC,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?uC(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ci(o,d,s)}}function uC(i,e){return i.replace(cC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cC=/\{\$([^}]+)}/g;function hC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(GE(u)&&GE(c)){if(!hs(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function GE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function fC(i,e){const n=new dC(i,e);return n.subscribe.bind(n)}class dC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");mC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Um),o.error===void 0&&(o.error=Um),o.complete===void 0&&(o.complete=Um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=1e3,gC=2,yC=14400*1e3,_C=.5;function $E(i,e=pC,n=gC){const s=e*Math.pow(n,i),o=Math.round(_C*s*(Math.random()-.5)*2);return Math.min(yC,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(i){return i&&i._delegate?i._delegate:i}class ai{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ZI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TC(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:EC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EC(i){return i===na?void 0:i}function TC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const AC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},wC=Le.INFO,bC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},RC=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=bC[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=wC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const IC=(i,e)=>e.some(n=>i instanceof n);let KE,QE;function CC(){return KE||(KE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DC(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,ip=new WeakMap,iS=new WeakMap,zm=new WeakMap,Fp=new WeakMap;function OC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(os(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,i)}).catch(()=>{}),Fp.set(e,i),e}function NC(i){if(ip.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});ip.set(i,e)}let rp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ip.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iS.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function xC(i){rp=i(rp)}function VC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Bm(this),e,...n);return iS.set(s,e.sort?e.sort():[e]),os(s)}:DC().includes(i)?function(...e){return i.apply(Bm(this),e),os(nS.get(this))}:function(...e){return os(i.apply(Bm(this),e))}}function MC(i){return typeof i=="function"?VC(i):(i instanceof IDBTransaction&&NC(i),IC(i,CC())?new Proxy(i,rp):i)}function os(i){if(i instanceof IDBRequest)return OC(i);if(zm.has(i))return zm.get(i);const e=MC(i);return e!==i&&(zm.set(i,e),Fp.set(e,i)),e}const Bm=i=>Fp.get(i);function rS(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),d=os(c);return s&&c.addEventListener("upgradeneeded",p=>{s(os(c.result),p.oldVersion,p.newVersion,os(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const LC=["get","getKey","getAll","getAllKeys","count"],PC=["put","add","delete","clear"],jm=new Map;function YE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=PC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LC.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return jm.set(e,u),u}xC(i=>({...i,get:(e,n,s)=>YE(e,n)||i.get(e,n,s),has:(e,n)=>!!YE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function UC(i){return i.getComponent()?.type==="VERSION"}const sp="@firebase/app",XE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new of("@firebase/app"),zC="@firebase/app-compat",BC="@firebase/analytics-compat",jC="@firebase/analytics",FC="@firebase/app-check-compat",HC="@firebase/app-check",qC="@firebase/auth",GC="@firebase/auth-compat",$C="@firebase/database",KC="@firebase/data-connect",QC="@firebase/database-compat",YC="@firebase/functions",XC="@firebase/functions-compat",JC="@firebase/installations",ZC="@firebase/installations-compat",WC="@firebase/messaging",eD="@firebase/messaging-compat",tD="@firebase/performance",nD="@firebase/performance-compat",iD="@firebase/remote-config",rD="@firebase/remote-config-compat",sD="@firebase/storage",aD="@firebase/storage-compat",oD="@firebase/firestore",lD="@firebase/ai",uD="@firebase/firestore-compat",cD="firebase",hD="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",fD={[sp]:"fire-core",[zC]:"fire-core-compat",[jC]:"fire-analytics",[BC]:"fire-analytics-compat",[HC]:"fire-app-check",[FC]:"fire-app-check-compat",[qC]:"fire-auth",[GC]:"fire-auth-compat",[$C]:"fire-rtdb",[KC]:"fire-data-connect",[QC]:"fire-rtdb-compat",[YC]:"fire-fn",[XC]:"fire-fn-compat",[JC]:"fire-iid",[ZC]:"fire-iid-compat",[WC]:"fire-fcm",[eD]:"fire-fcm-compat",[tD]:"fire-perf",[nD]:"fire-perf-compat",[iD]:"fire-rc",[rD]:"fire-rc-compat",[sD]:"fire-gcs",[aD]:"fire-gcs-compat",[oD]:"fire-fst",[uD]:"fire-fst-compat",[lD]:"fire-vertex","fire-js":"fire-js",[cD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,dD=new Map,op=new Map;function JE(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ji(i){const e=i.name;if(op.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,i);for(const n of Vh.values())JE(n,i);for(const n of dD.values())JE(n,i);return!0}function ma(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Fn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new da("app","Firebase",mD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=hD;function sS(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:ap,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=J0()),!n)throw ls.create("no-options");const u=Vh.get(o);if(u){if(hs(n,u.options)&&hs(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const c=new SC(o);for(const p of op.values())c.addComponent(p);const d=new pD(n,s,c);return Vh.set(o,d),d}function Hp(i=ap){const e=Vh.get(i);if(!e&&i===ap&&J0())return sS();if(!e)throw ls.create("no-app",{appName:i});return e}function qn(i,e,n){let s=fD[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(c.join(" "));return}ji(new ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebase-heartbeat-database",yD=1,lu="firebase-heartbeat-store";let Fm=null;function aS(){return Fm||(Fm=rS(gD,yD,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ls.create("idb-open",{originalErrorMessage:i.message})})),Fm}async function _D(i){try{const n=(await aS()).transaction(lu),s=await n.objectStore(lu).get(oS(i));return await n.done,s}catch(e){if(e instanceof ci)gr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function ZE(i,e){try{const s=(await aS()).transaction(lu,"readwrite");await s.objectStore(lu).put(e,oS(i)),await s.done}catch(n){if(n instanceof ci)gr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function oS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1024,ED=30;class TD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=WE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ED){const o=wD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=WE(),{heartbeatsToSend:n,unsentEntries:s}=SD(this._heartbeatsCache.heartbeats),o=xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function WE(){return new Date().toISOString().substring(0,10)}function SD(i,e=vD){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),eT(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),eT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bp()?jp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _D(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function eT(i){return xh(JSON.stringify({version:2,heartbeats:i})).length}function wD(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(i){ji(new ai("platform-logger",e=>new kC(e),"PRIVATE")),ji(new ai("heartbeat",e=>new TD(e),"PRIVATE")),qn(sp,XE,i),qn(sp,XE,"esm2020"),qn("fire-js","")}bD("");function lS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RD=lS,uS=new da("auth","Firebase",lS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new of("@firebase/auth");function ID(i,...e){Mh.logLevel<=Le.WARN&&Mh.warn(`Auth (${Oo}): ${i}`,...e)}function _h(i,...e){Mh.logLevel<=Le.ERROR&&Mh.error(`Auth (${Oo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(i,...e){throw qp(i,...e)}function Li(i,...e){return qp(i,...e)}function cS(i,e,n){const s={...RD(),[e]:n};return new da("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return cS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return uS.create(i,...e)}function ge(i,e,...n){if(!i)throw qp(e,...n)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _h(e),new Error(e)}function yr(i,e){i||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){return typeof self<"u"&&self.location?.href||""}function CD(){return tT()==="http:"||tT()==="https:"}function tT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CD()||zp()||"connection"in navigator)?navigator.onLine:!0}function OD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=nC()||sC()}get(){return DD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i,e){yr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VD=new Tu(3e4,6e4);function Es(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ts(i,e,n,s,o={}){return fS(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=Eu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return rC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Do(i.emulatorConfig.host)&&(g.credentials="include"),hS.fetch()(await dS(i,i.config.apiHost,n,d),g)})}async function fS(i,e,n){i._canInitEmulator=!1;const s={...ND,...e};try{const o=new LD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw uh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw uh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw uh(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cS(i,v,g);oi(i,v)}}catch(o){if(o instanceof ci)throw o;oi(i,"network-request-failed",{message:String(o)})}}async function Su(i,e,n,s,o={}){const u=await Ts(i,e,n,s,o);return"mfaPendingCredential"in u&&oi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function dS(i,e,n,s){const o=`${e}${n}?${s}`,u=i,c=u.config.emulator?Gp(i.config,o):`${i.config.apiScheme}://${o}`;return xD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function MD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),VD.get())})}}function uh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Li(i,e,s);return o.customData._tokenResponse=n,o}function nT(i){return i!==void 0&&i.enterprise!==void 0}class PD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kD(i,e){return Ts(i,"GET","/v2/recaptchaConfig",Es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(i,e){return Ts(i,"POST","/v1/accounts:delete",e)}async function Lh(i,e){return Ts(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mS(i,e=!1){const n=vt(i),s=await n.getIdToken(e),o=$p(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Wl(Hm(o.auth_time)),issuedAtTime:Wl(Hm(o.iat)),expirationTime:Wl(Hm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Hm(i){return Number(i)*1e3}function $p(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=Y0(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o?.toString()),null}}function iT(i){const e=$p(i);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ci&&zD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function zD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(i){const e=i.auth,n=await i.getIdToken(),s=await uu(i,Lh(e,{idToken:n}));ge(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?pS(o.providerUserInfo):[],c=FD(i.providerData,u),d=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function jD(i){const e=vt(i);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function pS(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(i,e){const n=await fS(i,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await dS(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&Do(i.emulatorConfig.host)&&(p.credentials="include"),hS.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qD(i,e){return Ts(i,"POST","/v2/accounts:revokeToken",Es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=iT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new yo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(i,e){ge(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new BD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new up(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mS(this,e)}reload(){return jD(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await uu(this,UD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:N,providerData:k,stsTokenManager:K}=n;ge(T&&K,e,"internal-error");const F=yo.fromJSON(this.name,K);ge(typeof T=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),ge(typeof w=="boolean",e,"internal-error"),ge(typeof N=="boolean",e,"internal-error"),ts(u,e.name),ts(c,e.name),ts(d,e.name),ts(p,e.name),ts(g,e.name),ts(v,e.name);const te=new ii({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:N,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:F,createdAt:g,lastLoginAt:v});return k&&Array.isArray(k)&&(te.providerData=k.map(W=>({...W}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new yo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?pS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new yo;d.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function cr(i){yr(i instanceof Function,"Expected a class definition");let e=rT.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,rT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gS.type="NONE";const sT=gS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i,e,n){return`firebase:${i}:${e}:${n}`}class _o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _o(cr(sT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(sT);const c=vh(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const w=await Lh(e,{idToken:v}).catch(()=>{});if(!w)break;T=await ii._fromGetAccountInfoResponse(e,w,v)}else T=ii._fromJSON(e,v);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new _o(u,e,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new _o(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ES(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SS(e))return"Blackberry";if(AS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||vS(e))&&!e.includes("edge/"))return"Chrome";if(TS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function yS(i=en()){return/firefox\//i.test(i)}function _S(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vS(i=en()){return/crios\//i.test(i)}function ES(i=en()){return/iemobile/i.test(i)}function TS(i=en()){return/android/i.test(i)}function SS(i=en()){return/blackberry/i.test(i)}function AS(i=en()){return/webos/i.test(i)}function Kp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function GD(i=en()){return Kp(i)&&!!window.navigator?.standalone}function $D(){return aC()&&document.documentMode===10}function wS(i=en()){return Kp(i)||TS(i)||AS(i)||SS(i)||/windows phone/i.test(i)||ES(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(i,e=[]){let n;switch(i){case"Browser":n=aT(en());break;case"Worker":n=`${aT(en())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,d)=>{try{const p=e(u);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(i,e={}){return Ts(i,"GET","/v2/passwordPolicy",Es(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=6;class XD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new KD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(dr(this));const n=e?vt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QD(this),n=new XD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new da("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ID(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pa(i){return vt(i)}class oT{constructor(e){this.auth=e,this.observer=null,this.addObserver=fC(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(i){lf=i}function RS(i){return lf.loadJS(i)}function WD(){return lf.recaptchaEnterpriseScript}function eO(){return lf.gapiScript}function tO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class nO{constructor(){this.enterprise=new iO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rO="recaptcha-enterprise",IS="NO_RECAPTCHA";class sO{constructor(e){this.type=rO,this.auth=pa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{kD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new PD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,c,d){const p=window.grecaptcha;nT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(IS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nO().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!n&&nT(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=WD();p.length!==0&&(p+=d),RS(p).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function lT(i,e,n,s=!1,o=!1){const u=new sO(i);let c;if(o)c=IS;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await lT(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await lT(i,e,n,n==="getOobCode");return s(i,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(i,e){const n=ma(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(hs(u,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function oO(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function lO(i,e,n){const s=pa(i);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=CS(e),{host:c,port:d}=uO(e),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(hs(g,s.config.emulator)&&hs(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Do(c)?(W0(`${u}//${c}${p}`),eS("Auth",!0)):cO()}function CS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function uO(i){const e=CS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:uT(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:uT(c)}}}function uT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function cO(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function hO(i,e){return Ts(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(i,e){return Su(i,"POST","/v1/accounts:signInWithPassword",Es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(i,e){return Su(i,"POST","/v1/accounts:signInWithEmailLink",Es(i,e))}async function mO(i,e){return Su(i,"POST","/v1/accounts:signInWithEmailLink",Es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cp(e,n,"signInWithPassword",fO);case"emailLink":return dO(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cp(e,s,"signUpPassword",hO);case"emailLink":return mO(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i,e){return Su(i,"POST","/v1/accounts:signInWithIdp",Es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="http://localhost";class oa extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new oa(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:pO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yO(i){const e=Gl($l(i)).link,n=e?Gl($l(e)).deep_link_id:null,s=Gl($l(i)).deep_link_id;return(s?Gl($l(s)).link:null)||s||n||e||i}class Yp{constructor(e){const n=Gl($l(e)),s=n.apiKey??null,o=n.oobCode??null,u=gO(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yO(e);try{return new Yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Yp.parseLink(n);return ge(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends DS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Au{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Au{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Au{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(i,e){return Su(i,"POST","/v1/accounts:signUp",Es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),c=cT(s);return new la({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=cT(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function cT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends ci{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new kh(e,n,s,o)}}function OS(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(i,u,e,s):u})}async function vO(i,e,n=!1){const s=await uu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return la._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(i,e,n=!1){const{auth:s}=i;if(Fn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await uu(i,OS(s,o,e,i),n);ge(u.idToken,s,"internal-error");const c=$p(u.idToken);ge(c,s,"internal-error");const{sub:d}=c;return ge(i.uid===d,s,"user-mismatch"),la._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(i,e,n=!1){if(Fn(i.app))return Promise.reject(dr(i));const s="signIn",o=await OS(i,s,e),u=await la._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function TO(i,e){return NS(pa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(i){const e=pa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Xp(i,e,n){if(Fn(i.app))return Promise.reject(dr(i));const s=pa(i),c=await cp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_O).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xS(i),p}),d=await la._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function SO(i,e,n){return Fn(i.app)?Promise.reject(dr(i)):TO(vt(i),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xS(i),s})}function AO(i,e,n,s){return vt(i).onIdTokenChanged(e,n,s)}function wO(i,e,n){return vt(i).beforeAuthStateChanged(e,n)}function bO(i,e,n,s){return vt(i).onAuthStateChanged(e,n,s)}function Eh(i){return vt(i).signOut()}async function VS(i){return vt(i).delete()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=1e3,IO=10;class LS extends MS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);$D()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},RO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LS.type="LOCAL";const CO=LS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends MS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PS.type="SESSION";const kS=PS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await DO(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=Jp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function NO(i){Pi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function xO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VO(){return navigator?.serviceWorker?.controller||null}function MO(){return US()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebaseLocalStorageDb",LO=1,zh="firebaseLocalStorage",BS="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(i,e){return i.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function PO(){const i=indexedDB.deleteDatabase(zS);return new wu(i).toPromise()}function hp(){const i=indexedDB.open(zS,LO);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(zh,{keyPath:BS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await PO(),e(await hp()))})})}async function hT(i,e,n){const s=cf(i,!0).put({[BS]:e,value:n});return new wu(s).toPromise()}async function kO(i,e){const n=cf(i,!1).get(e),s=await new wu(n).toPromise();return s===void 0?null:s.value}function fT(i,e){const n=cf(i,!0).delete(e);return new wu(n).toPromise()}const UO=800,zO=3;class jS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return US()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(MO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xO(),!this.activeServiceWorker)return;this.sender=new OO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await hT(e,Uh,"1"),await fT(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jS.type="LOCAL";const BO=jS;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(i,e){return e?cr(e):(ge(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FO(i){return NS(i.auth,new Zp(i),i.bypassAuthState)}function HO(i){const{auth:e,user:n}=i;return ge(n,e,"internal-error"),EO(n,new Zp(i),i.bypassAuthState)}async function qO(i){const{auth:e,user:n}=i;return ge(n,e,"internal-error"),vO(n,new Zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FO;case"linkViaPopup":case"linkViaRedirect":return qO;case"reauthViaPopup":case"reauthViaRedirect":return HO;default:oi(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new Tu(2e3,1e4);class go extends FS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GO.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="pendingRedirect",Th=new Map;class KO extends FS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await QO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QO(i,e){const n=JO(e),s=XO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function YO(i,e){Th.set(i._key(),e)}function XO(i){return cr(i._redirectPersistence)}function JO(i){return vh($O,i.config.apiKey,i.name)}async function ZO(i,e,n=!1){if(Fn(i.app))return Promise.reject(dr(i));const s=pa(i),o=jO(s,e),c=await new KO(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=600*1e3;class e2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WO&&this.cachedEventUids.clear(),this.cachedEventUids.has(dT(e))}saveEventToCache(e){this.cachedEventUids.add(dT(e)),this.lastProcessedEventTime=Date.now()}}function dT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function HS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function t2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i,e={}){return Ts(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r2=/^https?/;async function s2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await n2(i);for(const n of e)try{if(a2(n))return}catch{}oi(i,"unauthorized-domain")}function a2(i){const e=lp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!r2.test(n))return!1;if(i2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Tu(3e4,6e4);function mT(){const i=Pi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function l2(i){return new Promise((e,n)=>{function s(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),n(Li(i,"network-request-failed"))},timeout:o2.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const o=tO("iframefcb");return Pi()[o]=()=>{gapi.load?s():n(Li(i,"network-request-failed"))},RS(`${eO()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function u2(i){return Sh=Sh||l2(i),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Tu(5e3,15e3),h2="__/auth/iframe",f2="emulator/auth/iframe",d2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p2(i){const e=i.config;ge(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Gp(e,f2):`https://${i.config.authDomain}/${h2}`,s={apiKey:e.apiKey,appName:i.name,v:Oo},o=m2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function g2(i){const e=await u2(i),n=Pi().gapi;return ge(n,i,"internal-error"),e.open({where:document.body,url:p2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Li(i,"network-request-failed"),d=Pi().setTimeout(()=>{u(c)},c2.get());function p(){Pi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_2=500,v2=600,E2="_blank",T2="http://localhost";class pT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S2(i,e,n,s=_2,o=v2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...y2,width:s.toString(),height:o.toString(),top:u,left:c},g=en().toLowerCase();n&&(d=vS(g)?E2:n),yS(g)&&(e=e||T2,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[N,k])=>`${w}${N}=${k},`,"");if(GD(g)&&d!=="_self")return A2(e||"",d),new pT(null);const T=window.open(e||"",d,v);ge(T,i,"popup-blocked");try{T.focus()}catch{}return new pT(T)}function A2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="__/auth/handler",b2="emulator/auth/handler",R2=encodeURIComponent("fac");async function gT(i,e,n,s,o,u){ge(i.config.authDomain,i,"auth-domain-config-required"),ge(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Oo,eventId:o};if(e instanceof DS){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",hC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Au){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),g=p?`#${R2}=${encodeURIComponent(p)}`:"";return`${I2(i)}?${Eu(d).slice(1)}${g}`}function I2({config:i}){return i.emulator?Gp(i,b2):`https://${i.authDomain}/${w2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class C2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kS,this._completeRedirectFn=ZO,this._overrideRedirectResult=YO}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gT(e,n,s,lp(),o);return S2(e,u,Jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await gT(e,n,s,lp(),o);return NO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await g2(e),s=new e2(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},o=>{const u=o?.[0]?.[qm];u!==void 0&&n(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wS()||_S()||Kp()}}const D2=C2;var yT="@firebase/auth",_T="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x2(i){ji(new ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;ge(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bS(i)},g=new JD(s,o,u,p);return oO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ji(new ai("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(s=>new O2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(yT,_T,N2(i)),qn(yT,_T,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=300,M2=Z0("authIdTokenMaxAge")||V2;let vT=null;const L2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>M2)return;const o=n?.token;vT!==o&&(vT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qS(i=Hp()){const e=ma(i,"auth");if(e.isInitialized())return e.getImmediate();const n=aO(i,{popupRedirectResolver:D2,persistence:[BO,CO,kS]}),s=Z0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=L2(u.toString());wO(n,c,()=>c(n.currentUser)),AO(n,d=>c(d))}}const o=X0("auth");return o&&lO(n,`http://${o}`),n}function P2(){return document.getElementsByTagName("head")?.[0]??document}ZD({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Li("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",P2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x2("Browser");var ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,GS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,x,P){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return b.prototype[x].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)M[x]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(x=0;x<16;++x)M[x]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],x=C.g[2];let P=C.g[3],I;I=b+(P^R&(x^P))+M[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=P+(x^b&(R^x))+M[1]+3905402710&4294967295,P=b+(I<<12&4294967295|I>>>20),I=x+(R^P&(b^R))+M[2]+606105819&4294967295,x=P+(I<<17&4294967295|I>>>15),I=R+(b^x&(P^b))+M[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(P^R&(x^P))+M[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=P+(x^b&(R^x))+M[5]+1200080426&4294967295,P=b+(I<<12&4294967295|I>>>20),I=x+(R^P&(b^R))+M[6]+2821735955&4294967295,x=P+(I<<17&4294967295|I>>>15),I=R+(b^x&(P^b))+M[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(P^R&(x^P))+M[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=P+(x^b&(R^x))+M[9]+2336552879&4294967295,P=b+(I<<12&4294967295|I>>>20),I=x+(R^P&(b^R))+M[10]+4294925233&4294967295,x=P+(I<<17&4294967295|I>>>15),I=R+(b^x&(P^b))+M[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(P^R&(x^P))+M[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=P+(x^b&(R^x))+M[13]+4254626195&4294967295,P=b+(I<<12&4294967295|I>>>20),I=x+(R^P&(b^R))+M[14]+2792965006&4294967295,x=P+(I<<17&4294967295|I>>>15),I=R+(b^x&(P^b))+M[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(x^P&(R^x))+M[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=P+(R^x&(b^R))+M[6]+3225465664&4294967295,P=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(P^b))+M[11]+643717713&4294967295,x=P+(I<<14&4294967295|I>>>18),I=R+(P^b&(x^P))+M[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^P&(R^x))+M[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=P+(R^x&(b^R))+M[10]+38016083&4294967295,P=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(P^b))+M[15]+3634488961&4294967295,x=P+(I<<14&4294967295|I>>>18),I=R+(P^b&(x^P))+M[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^P&(R^x))+M[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=P+(R^x&(b^R))+M[14]+3275163606&4294967295,P=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(P^b))+M[3]+4107603335&4294967295,x=P+(I<<14&4294967295|I>>>18),I=R+(P^b&(x^P))+M[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^P&(R^x))+M[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=P+(R^x&(b^R))+M[2]+4243563512&4294967295,P=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(P^b))+M[7]+1735328473&4294967295,x=P+(I<<14&4294967295|I>>>18),I=R+(P^b&(x^P))+M[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(R^x^P)+M[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=P+(b^R^x)+M[8]+2272392833&4294967295,P=b+(I<<11&4294967295|I>>>21),I=x+(P^b^R)+M[11]+1839030562&4294967295,x=P+(I<<16&4294967295|I>>>16),I=R+(x^P^b)+M[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^P)+M[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=P+(b^R^x)+M[4]+1272893353&4294967295,P=b+(I<<11&4294967295|I>>>21),I=x+(P^b^R)+M[7]+4139469664&4294967295,x=P+(I<<16&4294967295|I>>>16),I=R+(x^P^b)+M[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^P)+M[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=P+(b^R^x)+M[0]+3936430074&4294967295,P=b+(I<<11&4294967295|I>>>21),I=x+(P^b^R)+M[3]+3572445317&4294967295,x=P+(I<<16&4294967295|I>>>16),I=R+(x^P^b)+M[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^P)+M[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=P+(b^R^x)+M[12]+3873151461&4294967295,P=b+(I<<11&4294967295|I>>>21),I=x+(P^b^R)+M[15]+530742520&4294967295,x=P+(I<<16&4294967295|I>>>16),I=R+(x^P^b)+M[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(x^(R|~P))+M[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=P+(R^(b|~x))+M[7]+1126891415&4294967295,P=b+(I<<10&4294967295|I>>>22),I=x+(b^(P|~R))+M[14]+2878612391&4294967295,x=P+(I<<15&4294967295|I>>>17),I=R+(P^(x|~b))+M[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~P))+M[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=P+(R^(b|~x))+M[3]+2399980690&4294967295,P=b+(I<<10&4294967295|I>>>22),I=x+(b^(P|~R))+M[10]+4293915773&4294967295,x=P+(I<<15&4294967295|I>>>17),I=R+(P^(x|~b))+M[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~P))+M[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=P+(R^(b|~x))+M[15]+4264355552&4294967295,P=b+(I<<10&4294967295|I>>>22),I=x+(b^(P|~R))+M[6]+2734768916&4294967295,x=P+(I<<15&4294967295|I>>>17),I=R+(P^(x|~b))+M[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~P))+M[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=P+(R^(b|~x))+M[11]+3174756917&4294967295,P=b+(I<<10&4294967295|I>>>22),I=x+(b^(P|~R))+M[2]+718787259&4294967295,x=P+(I<<15&4294967295|I>>>17),I=R+(P^(x|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+P&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,M=this.C;let x=this.h,P=0;for(;P<b;){if(x==0)for(;P<=R;)o(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<b;)if(M[x++]=C.charCodeAt(P++),x==this.blockSize){o(this,M),x=0;break}}else for(;P<b;)if(M[x++]=C[P++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[b++]=this.g[R]>>>M&255;return C};function u(C,b){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function c(C,b){this.h=b;const R=[];let M=!0;for(let x=C.length-1;x>=0;x--){const P=C[x]|0;M&&P==b||(R[x]=P,M=!1)}this.g=R}var d={};function p(C){return-128<=C&&C<128?u(C,function(b){return new c([b|0],b<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return F(g(-C));const b=[];let R=1;for(let M=0;C>=R;M++)b[M]=C/R|0,R*=4294967296;return new c(b,0)}function v(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return F(v(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(b,8));let M=T;for(let P=0;P<C.length;P+=8){var x=Math.min(8,C.length-P);const I=parseInt(C.substring(P,P+x),b);x<8?(x=g(Math.pow(b,x)),M=M.j(x).add(g(I))):(M=M.j(R),M=M.add(g(I)))}return M}var T=p(0),w=p(1),N=p(16777216);i=c.prototype,i.m=function(){if(K(this))return-F(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(K(this))return"-"+F(this).toString(C);const b=g(Math.pow(C,6));var R=this;let M="";for(;;){const x=de(R,b).g;R=te(R,x.j(b));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=x,k(R))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function K(C){return C.h==-1}i.l=function(C){return C=te(this,C),K(C)?-1:k(C)?0:1};function F(C){const b=C.g.length,R=[];for(let M=0;M<b;M++)R[M]=~C.g[M];return new c(R,~C.h).add(w)}i.abs=function(){return K(this)?F(this):this},i.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let x=0;x<=b;x++){let P=M+(this.i(x)&65535)+(C.i(x)&65535),I=(P>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);M=I>>>16,P&=65535,I&=65535,R[x]=I<<16|P}return new c(R,R[R.length-1]&-2147483648?-1:0)};function te(C,b){return C.add(F(b))}i.j=function(C){if(k(this)||k(C))return T;if(K(this))return K(C)?F(this).j(F(C)):F(F(this).j(C));if(K(C))return F(this.j(F(C)));if(this.l(N)<0&&C.l(N)<0)return g(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<C.g.length;x++){const P=this.i(M)>>>16,I=this.i(M)&65535,xe=C.i(x)>>>16,ct=C.i(x)&65535;R[2*M+2*x]+=I*ct,W(R,2*M+2*x),R[2*M+2*x+1]+=P*ct,W(R,2*M+2*x+1),R[2*M+2*x+1]+=I*xe,W(R,2*M+2*x+1),R[2*M+2*x+2]+=P*xe,W(R,2*M+2*x+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new c(R,0)};function W(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function re(C,b){this.g=C,this.h=b}function de(C,b){if(k(b))throw Error("division by zero");if(k(C))return new re(T,T);if(K(C))return b=de(F(C),b),new re(F(b.g),F(b.h));if(K(b))return b=de(C,F(b)),new re(F(b.g),b.h);if(C.g.length>30){if(K(C)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=b;M.l(C)<=0;)R=_e(R),M=_e(M);var x=Te(R,1),P=Te(M,1);for(M=Te(M,2),R=Te(R,2);!k(M);){var I=P.add(M);I.l(C)<=0&&(x=x.add(R),P=I),M=Te(M,1),R=Te(R,1)}return b=te(C,x.j(b)),new re(x,b)}for(x=T;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(R),I=P.j(b);K(I)||I.l(C)>0;)R-=M,P=g(R),I=P.j(b);k(P)&&(P=w),x=x.add(P),C=te(C,I)}return new re(x,C)}i.B=function(C){return de(this,C).h},i.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&C.i(M);return new c(R,this.h&C.h)},i.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|C.i(M);return new c(R,this.h|C.h)},i.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^C.i(M);return new c(R,this.h^C.h)};function _e(C){const b=C.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(R,C.h)}function Te(C,b){const R=b>>5;b%=32;const M=C.g.length-R,x=[];for(let P=0;P<M;P++)x[P]=b>0?C.i(P+R)>>>b|C.i(P+R+1)<<32-b:C.i(P+R);return new c(x,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,GS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,us=c}).apply(typeof ET<"u"?ET:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $S,Kl,KS,Ah,fp,QS,YS,XS;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var U=h[A];if(!(U in E))break e;E=E[U]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,U,H){for(var ie=Array(arguments.length-2),be=2;be<arguments.length;be++)ie[be-2]=arguments[be];return y.prototype[U].apply(A,ie)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function k(h,y){for(let A=1;A<arguments.length;A++){const U=arguments[A];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=h.length||0;const H=U.length||0;h.length=E+H;for(let ie=0;ie<H;ie++)h[E+ie]=U[ie]}else h.push(U)}}class K{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){c.setTimeout(()=>{throw h},0)}function te(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,E){const A=re.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new K(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Te=!1,C=new W,b=()=>{const h=Promise.resolve(void 0);_e=()=>{h.then(R)}};function R(){for(var h;h=te();){try{h.h.call(h.g)}catch(E){F(E)}var y=re;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Te=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function xe(h,y){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(xe,x),xe.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(h,y,E,A,U){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function je(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function O(h){const y={};for(const E in h)y[E]=h[E];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(h,y){let E,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(E in A)h[E]=A[E];for(let H=0;H<Y.length;H++)E=Y[H],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ae(h){this.src=h,this.g={},this.h=0}ae.prototype.add=function(h,y,E,A,U){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const ie=Ie(h,y,A,U);return ie>-1?(y=h[ie],E||(y.fa=!1)):(y=new ne(y,this.src,H,!!A,U),y.fa=E,h.push(y)),y};function ve(h,y){const E=y.type;if(E in h.g){var A=h.g[E],U=Array.prototype.indexOf.call(A,y,void 0),H;(H=U>=0)&&Array.prototype.splice.call(A,U,1),H&&(he(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ie(h,y,E,A){for(let U=0;U<h.length;++U){const H=h[U];if(!H.da&&H.listener==y&&H.capture==!!E&&H.ha==A)return U}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),xt={};function at(h,y,E,A,U){if(Array.isArray(y)){for(let H=0;H<y.length;H++)at(h,y[H],E,A,U);return null}return E=Uo(E),h&&h[ct]?h.J(y,E,d(A)?!!A.capture:!1,U):ws(h,y,E,!1,A,U)}function ws(h,y,E,A,U,H){if(!y)throw Error("Invalid event type");const ie=d(U)?!!U.capture:!!U;let be=bs(h);if(be||(h[ze]=be=new ae(h)),E=be.add(y,E,A,ie,H),E.proxy)return E;if(A=_a(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)P||(U=ie),U===void 0&&(U=!1),h.addEventListener(y.toString(),A,U);else if(h.attachEvent)h.attachEvent(hi(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _a(){function h(E){return y.call(h.src,h.listener,E)}const y=Po;return h}function va(h,y,E,A,U){if(Array.isArray(y))for(var H=0;H<y.length;H++)va(h,y[H],E,A,U);else A=d(A)?!!A.capture:!!A,E=Uo(E),h&&h[ct]?(h=h.i,H=String(y).toString(),H in h.g&&(y=h.g[H],E=Ie(y,E,A,U),E>-1&&(he(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[H],h.h--)))):h&&(h=bs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ie(y,E,A,U)),(E=h>-1?y[h]:null)&&Ea(E))}function Ea(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ct])ve(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(hi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=bs(y))?(ve(E,h),E.h==0&&(E.src=null,y[ze]=null)):he(h)}}}function hi(h){return h in xt?xt[h]:xt[h]="on"+h}function Po(h,y){if(h.da)h=!0;else{y=new xe(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&Ea(h),h=E.call(A,y)}return h}function bs(h){return h=h[ze],h instanceof ae?h:null}var ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(h){return typeof h=="function"?h:(h[ko]||(h[ko]=function(y){return h.handleEvent(y)}),h[ko])}function Et(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}T(Et,M),Et.prototype[ct]=!0,Et.prototype.removeEventListener=function(h,y,E,A){va(this,h,y,E,A)};function Vt(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new x(y,h);else if(y instanceof x)y.target=y.target||h;else{var U=y;y=new x(A,h),se(y,U)}U=!0;let H,ie;if(E)for(ie=E.length-1;ie>=0;ie--)H=y.g=E[ie],U=Sr(H,A,!0,y)&&U;if(H=y.g=h,U=Sr(H,A,!0,y)&&U,U=Sr(H,A,!1,y)&&U,E)for(ie=0;ie<E.length;ie++)H=y.g=E[ie],U=Sr(H,A,!1,y)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)he(E[A]);delete h.g[y],h.h--}}this.G=null},Et.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Et.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Sr(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let H=0;H<y.length;++H){const ie=y[H];if(ie&&!ie.da&&ie.capture==E){const be=ie.listener,mt=ie.ha||ie.src;ie.fa&&ve(h.i,ie),U=be.call(mt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Nf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Nu(h){h.g=Nf(()=>{h.g=null,h.i&&(h.i=!1,Nu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(h){M.call(this),this.h=h,this.g={}}T(Rs,M);var zo=[];function Bo(h){De(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ea(y)},h),h.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),Bo(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=c.JSON.stringify,xf=c.JSON.parse,xu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Vu(){}function Mu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){x.call(this,"d")}T(jt,x);function Dn(){x.call(this,"c")}T(Dn,x);var dt={},Lu=null;function Ta(){return Lu=Lu||new Et}dt.Ia="serverreachability";function Pu(h){x.call(this,dt.Ia,h)}T(Pu,x);function fi(h){const y=Ta();Vt(y,new Pu(y))}dt.STAT_EVENT="statevent";function Is(h,y){x.call(this,dt.STAT_EVENT,h),this.stat=y}T(Is,x);function Tt(h){const y=Ta();Vt(y,new Is(y,h))}dt.Ja="timingevent";function di(h,y){x.call(this,dt.Ja,h),this.size=y}T(di,x);function mi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Vf(h,y,E,A,U,H){h.info(function(){if(h.g)if(H){var ie="",be=H.split("&");for(let Ge=0;Ge<be.length;Ge++){var mt=be[Ge].split("=");if(mt.length>1){const ot=mt[0];mt=mt[1];const Vn=ot.split("_");ie=Vn.length>=2&&Vn[1]=="type"?ie+(ot+"="+mt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+E+`
`+ie})}function ku(h,y,E,A,U,H,ie){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+E+`
`+H+" "+ie})}function pi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Mf(h,E)+(A?" "+A:"")})}function Cs(h,y){h.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function Mf(h,y){if(!h.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var E=H[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return Ar(H)}catch{return y}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Os(){}T(Os,Vu),Os.prototype.g=function(){return new XMLHttpRequest},Fo=new Os;function qi(h){return encodeURIComponent(String(h))}function Uu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Kn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var St={},kt={};function gi(h,y,E){h.M=1,h.A=Ns(wt(y)),h.u=E,h.R=!0,Sa(h,null)}function Sa(h,y){h.F=Date.now(),yi(h),h.B=wt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ra(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Qn,h.g=Wu(h.j,E?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(zo[0]=U.toString()),U=zo);for(let H=0;H<U.length;H++){const ie=at(E,U[H],A||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),fi(),Vf(h.i,h.v,h.B,h.l,h.S,h.u)}Kn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Jn(h)==3?y.j():this.Y(h)},Kn.prototype.Y=function(h){try{if(h==this.g)e:{const be=Jn(this.g),mt=this.g.ya(),Ge=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||be!=4||mt==7||(mt==8||Ge<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var E=Lf(this);if(this.o=y==200,ku(this.i,this.v,this.B,this.l,this.S,be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var H=A;break t}}H=null}if(h=H)pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,h);else{this.o=!1,this.m=3,Tt(12),yn(this),On(this);break e}}if(this.R){h=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Bu(this,E),ot==kt){be==4&&(this.m=4,Tt(14),h=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,Tt(15),pi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else pi(this.i,this.l,ot,null),vi(this,ot);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),h=!1),this.o=this.o&&h,!h)pi(this.i,this.l,E,"[Invalid Chunked Response]"),yn(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),il(ie),ie.P=!0,Tt(11))}}else pi(this.i,this.l,E,null),vi(this,E);be==4&&yn(this),this.o&&!this.K&&(be==4?Yu(this.j,this):(this.o=!1,yi(this)))}else $i(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),yn(this),On(this)}}}catch{}finally{}};function Lf(h){if(!zu(h))return h.g.la();const y=Ft(h.g);if(y==="")return"";let E="";const A=y.length,U=Jn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return yn(h),On(h),"";h.h.i=new c.TextDecoder}for(let H=0;H<A;H++)h.h.h=!0,E+=h.h.i.decode(y[H],{stream:!(U&&H==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Bu(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?kt:(E=Number(y.substring(E,A)),isNaN(E)?St:(A+=1,A+E>y.length?kt:(y=y.slice(A,A+E),h.C=A+E,y)))}Kn.prototype.cancel=function(){this.K=!0,yn(this)};function yi(h){h.T=Date.now()+h.H,Aa(h,h.H)}function Aa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=mi(g(h.aa,h),y)}function _i(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Kn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(fi(),Tt(17)),yn(this),this.m=2,On(this)):Aa(this,this.T-h)};function On(h){h.j.I==0||h.K||Yu(h.j,h)}function yn(h){_i(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Bo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function vi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ti(E.h,h))){if(!h.L&&Ti(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Na(E),Nr(E);else break e;Us(E),Tt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mi(g(E.Va,E),6e3));Ei(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ii(E,11)}else if((h.L||E.g==h)&&Na(E),!I(y))for(U=E.Ba.g.parse(y),y=0;y<U.length;y++){let Ge=U[y];const ot=Ge[0];if(!(ot<=E.K))if(E.K=ot,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const Ci=Ge[4];Ci!=null&&(E.za=Ci,E.j.info("SVER="+E.za));const Zn=Ge[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Wn=h.g;if(Wn){const zs=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var H=A.h;H.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Go(H,H.h),H.h=null))}if(A.G){const xa=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(A.wa=xa,Qe(A.J,A.G,xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ie=h;if(A.na=Zu(A,A.L?A.ba:null,A.W),ie.L){$o(A.h,ie);var be=ie,mt=A.O;mt&&(be.H=mt),be.D&&(_i(be),yi(be)),A.g=ie}else Ku(A);E.i.length>0&&Ri(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Ii(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ii(E,7):tl(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}fi(4)}catch{}}var At=class{constructor(h,y){this.g=h,this.map=y}};function Ho(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ei(h){return h.h?1:h.g?h.g.size:0}function Ti(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Go(h,y){h.g?h.g.add(y):h.h=y}function $o(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ko(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return N(h.i)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let U,H=null;A>=0?(U=h[E].substring(0,A),H=h[E].substring(A+1)):U=h[E],y(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function _n(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof _n?(this.l=h.l,Ut(this,h.j),this.o=h.o,this.g=h.g,wr(this,h.u),this.h=h.h,Qo(this,Gu(h.i)),this.m=h.m):h&&(y=String(h).match(ju))?(this.l=!1,Ut(this,y[1]||"",!0),this.o=Si(y[2]||""),this.g=Si(y[3]||"",!0),wr(this,y[4]),this.h=Si(y[5]||"",!0),Qo(this,y[6]||"",!0),this.m=Si(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}_n.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(xs(y,ba,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(xs(y,ba,!0),"@"),h.push(qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(xs(E,E.charAt(0)=="/"?Yo:Fu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",xs(E,Hu)),h.join("")},_n.prototype.resolve=function(h){const y=wt(this);let E=!!h.j;E?Ut(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)wr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=y.h.lastIndexOf("/");U!=-1&&(A=y.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ie=0;ie<U.length;){const be=U[ie++];be=="."?A&&ie==U.length&&H.push(""):be==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ie==U.length&&H.push("")):(H.push(be),A=!0)}A=H.join("/")}else A=U}return E?y.h=A:E=h.i.toString()!=="",E?Qo(y,Gu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function wt(h){return new _n(h)}function Ut(h,y,E){h.j=E?Si(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function wr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Qo(h,y,E){y instanceof Rr?(h.i=y,Ia(h.i,h.l)):(E||(y=xs(y,br)),h.i=new Rr(y,h.l))}function Qe(h,y,E){h.i.set(y,E)}function Ns(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Si(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xs(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,on),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function on(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ba=/[#\/\?@]/g,Fu=/[#\?:]/g,Yo=/[#\?]/g,br=/[#\?@]/g,Hu=/#/g;function Rr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function ln(h){h.g||(h.g=new Map,h.h=0,h.i&&wa(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Rr.prototype,i.add=function(h,y){ln(this),this.i=null,h=Ir(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function qu(h,y){ln(h),y=Ir(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Xo(h,y){return ln(h),y=Ir(h,y),h.g.has(y)}i.forEach=function(h,y){ln(this),this.g.forEach(function(E,A){E.forEach(function(U){h.call(y,U,A,this)},this)},this)};function Jo(h,y){ln(h);let E=[];if(typeof y=="string")Xo(h,y)&&(E=E.concat(h.g.get(Ir(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return ln(this),this.i=null,h=Ir(this,h),Xo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=Jo(this,h),h.length>0?String(h[0]):y):y};function Ra(h,y,E){qu(h,y),E.length>0&&(h.i=null,h.g.set(Ir(h,y),N(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const U=qi(E);E=Jo(this,E);for(let H=0;H<E.length;H++){let ie=U;E[H]!==""&&(ie+="="+qi(E[H])),h.push(ie)}}return this.i=h.join("&")};function Gu(h){const y=new Rr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Ir(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ia(h,y){y&&!h.j&&(ln(h),h.i=null,h.g.forEach(function(E,A){const U=A.toLowerCase();A!=U&&(qu(this,A),Ra(this,U,E))},h)),h.j=y}function Yn(h,y){const E=new $n;if(c.Image){const A=new Image;A.onload=v(Nn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Nn,E,"TestLoadImage: error",!1,y,A),A.onabort=v(Nn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Nn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function Zo(h,y){const E=new $n,A=new AbortController,U=setTimeout(()=>{A.abort(),Nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?Nn(E,"TestPingServer: ok",!0,y):Nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Nn(E,"TestPingServer: error",!1,y)})}function Nn(h,y,E,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(E)}catch{}}function Cr(){this.g=new xu}function Ai(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ai,Vu),Ai.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(h,y){Et.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Vs,Et),i=Vs.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Xn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Dr(this):Xn(this),this.readyState==3&&Ca(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Dr(this))},i.Na=function(h){this.g&&(this.response=h,Dr(this))},i.ga=function(){this.g&&Dr(this)};function Dr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Xn(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Xn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xn(h){let y="";return De(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Ms(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=xn(E),typeof h=="string"?E!=null&&qi(E):Qe(h,y,E))}function Ze(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,Et);var wi=/^https?$/i,Wo=["POST","PUT"];i=Ze.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){Ls(this,H);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)E.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())E.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Wo,y,void 0)>=0)||A||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of E)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){Ls(this,H)}};function Ls(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,el(h),Gi(h)}function el(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),Gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},i.Xa=function(){Ps(this)};function Ps(h){if(h.h&&typeof u<"u"){if(h.v&&Jn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=H===0){let ie=String(h.D).match(ju)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),A=!wi.test(ie?ie.toLowerCase():"")}E=A}if(E)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var U=Jn(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",el(h)}}finally{Gi(h)}}}}function Gi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Vt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),xf(y)}};function Ft(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const y={};h=(h.g&&Jn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var E=Uu(h[A]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=y[U]||[];y[U]=H,H.push(E)}je(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Or(h){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,h),this.Za=bi("retryDelaySeedMs",1e4,h),this.Ta=bi("forwardChannelMaxRetries",2,h),this.va=bi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(h&&h.concurrentRequestLimit),this.Ba=new Cr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Or.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){Tt(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Zu(this,null,this.W),Ri(this)};function tl(h){if(Da(h),h.I==3){var y=h.V++,E=wt(h.J);if(Qe(E,"SID",h.M),Qe(E,"RID",y),Qe(E,"TYPE","terminate"),ks(h,E),y=new Kn(h,h.j,y),y.M=2,y.A=Ns(wt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Wu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Ju(h)}function Nr(h){h.g&&(il(h),h.g.cancel(),h.g=null)}function Da(h){Nr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Na(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ri(h){if(!qo(h.h)&&!h.m){h.m=!0;var y=h.Ea;_e||b(),Te||(_e(),Te=!0),C.add(y,h),h.D=0}}function Oa(h,y){return Ei(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=mi(g(h.Ea,h,y),Xu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Kn(this,this.j,h);let H=this.o;if(this.U&&(H?(H=O(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=$u(this,U,y),E=wt(this.J),Qe(E,"RID",h),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),ks(this,E),H&&(this.R?y="headers="+qi(xn(H))+"&"+y:this.u&&Ms(E,this.u,H)),Go(this.h,U),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",y),Qe(E,"SID","null"),U.U=!0,gi(U,E,null)):gi(U,E,y),this.I=2}}else this.I==3&&(h?nl(this,h):this.i.length==0||qo(this.h)||nl(this))};function nl(h,y){var E;y?E=y.l:E=h.V++;const A=wt(h.J);Qe(A,"SID",h.M),Qe(A,"RID",E),Qe(A,"AID",h.K),ks(h,A),h.u&&h.o&&Ms(A,h.u,h.o),E=new Kn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=$u(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Go(h.h,E),gi(E,A,y)}function ks(h,y){h.H&&De(h.H,function(E,A){Qe(y,A,E)}),h.l&&De({},function(E,A){Qe(y,A,E)})}function $u(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var U=h.i;let be=-1;for(;;){const mt=["count="+E];be==-1?E>0?(be=U[0].g,mt.push("ofs="+be)):be=0:mt.push("ofs="+be);let Ge=!0;for(let ot=0;ot<E;ot++){var H=U[ot].g;const Vn=U[ot].map;if(H-=be,H<0)be=Math.max(0,U[ot].g-100),Ge=!1;else try{H="req"+H+"_"||"";try{var ie=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ci,Zn]of ie){let Wn=Zn;d(Zn)&&(Wn=Ar(Zn)),mt.push(H+Ci+"="+encodeURIComponent(Wn))}}catch(Ci){throw mt.push(H+"type="+encodeURIComponent("_badmap")),Ci}}catch{A&&A(Vn)}}if(Ge){ie=mt.join("&");break e}}ie=void 0}return h=h.i.splice(0,E),y.G=h,ie}function Ku(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;_e||b(),Te||(_e(),Te=!0),C.add(y,h),h.A=0}}function Us(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=mi(g(h.Da,h),Xu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=mi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Nr(this),Qu(this))};function il(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Qu(h){h.g=new Kn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=wt(h.na);Qe(y,"RID","rpc"),Qe(y,"SID",h.M),Qe(y,"AID",h.K),Qe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(y,"TO",h.ia),Qe(y,"TYPE","xmlhttp"),ks(h,y),h.u&&h.o&&Ms(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ns(wt(y)),E.u=null,E.R=!0,Sa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Nr(this),Us(this),Tt(19))};function Na(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Yu(h,y){var E=null;if(h.g==y){Na(h),il(h),h.g=null;var A=2}else if(Ti(h.h,y))E=y.G,$o(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;A=Ta(),Vt(A,new di(A,E)),Ri(h)}else Ku(h);else if(U=y.m,U==3||U==0&&y.X>0||!(A==1&&Oa(h,y)||A==2&&Us(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),U){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function Xu(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ii(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const U=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ut(A,"https"),Ns(A),U?Yn(A.toString(),E):Zo(A.toString(),E)}else Tt(2);h.I=0,h.l&&h.l.pa(y),Ju(h),Da(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Ju(h){if(h.I=0,h.ja=[],h.l){const y=Ko(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Zu(h,y,E){var A=E instanceof _n?wt(E):new _n(E);if(A.g!="")y&&(A.g=y+"."+A.g),wr(A,A.u);else{var U=c.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const H=new _n(null);A&&Ut(H,A),y&&(H.g=y),U&&wr(H,U),E&&(H.h=E),A=H}return E=h.G,y=h.wa,E&&y&&Qe(A,E,y),Qe(A,"VER",h.ka),ks(h,A),A}function Wu(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Ze(new Ai({ab:E})):new Ze(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}i=ec.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function xr(){}xr.prototype.g=function(h,y){return new sn(h,y)};function sn(h,y){Et.call(this),this.g=new Or(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ki(this)}T(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){tl(this.g)},sn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Ar(h),h=E);y.i.push(new At(y.Ya++,h)),y.I==3&&Ri(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,sn.Z.N.call(this)};function tc(h){jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(tc,jt);function nc(){Dn.call(this),this.status=1}T(nc,Dn);function Ki(h){this.g=h}T(Ki,ec),Ki.prototype.ra=function(){Vt(this.g,"a")},Ki.prototype.qa=function(h){Vt(this.g,new tc(h))},Ki.prototype.pa=function(h){Vt(this.g,new nc)},Ki.prototype.oa=function(){Vt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,XS=function(){return new xr},YS=function(){return Ta()},QS=dt,fp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Ah=Ds,jo.COMPLETE="complete",KS=jo,Mu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Kl=Mu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,$S=Ze}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const TT="@firebase/firestore",ST="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new of("@firebase/firestore");function ho(){return ua.logLevel}function oe(i,...e){if(ua.logLevel<=Le.DEBUG){const n=e.map(Wp);ua.debug(`Firestore (${xo}): ${i}`,...n)}}function _r(i,...e){if(ua.logLevel<=Le.ERROR){const n=e.map(Wp);ua.error(`Firestore (${xo}): ${i}`,...n)}}function To(i,...e){if(ua.logLevel<=Le.WARN){const n=e.map(Wp);ua.warn(`Firestore (${xo}): ${i}`,...n)}}function Wp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,JS(i,s,n)}function JS(i,e,n){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Ke(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||JS(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class z2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new ZS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class B2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new B2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=H2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function dp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Gm(o)===Gm(u)?Pe(o,u):Gm(o)?1:-1}return Pe(i.length,e.length)}const q2=55296,G2=57343;function Gm(i){const e=i.charCodeAt(0);return e>=q2&&e<=G2}function So(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class st extends Vi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Vi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wT}static keyField(){return new Qt([wT])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(st.fromString(e))}static fromName(e){return new me(st.fromString(e).popFirst(5))}static empty(){return new me(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(i,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function K2(i,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function bT(i){if(!me.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function RT(i){if(me.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function eA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function tg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function In(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(i);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i,e){const n={typeString:i};return e&&(n.value=e),n}function bu(i,e){if(!eA(i))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=-62135596800,CT=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*CT);return new Je(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IT)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CT}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Ot("string",Je._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Je(0,0))}static max(){return new Se(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function Q2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Je(n+1,0):new Je(n,s));return new fs(o,me.empty(),e)}function Y2(i){return new fs(i.readTime,i.key,hu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Se.min(),me.empty(),hu)}static max(){return new fs(Se.max(),me.empty(),hu)}}function X2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==J2)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,s)=>{n(e)}))}static reject(e){return new Z(((n,s)=>{s(e)}))}static waitFor(e){return new Z(((n,s)=>{let o=0,u=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Z(((s,o)=>{const u=e.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{c[g]=v,++d,d===u&&s(c)}),(v=>o(v)))}}))}static doWhile(e,n){return new Z(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function W2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function ff(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function eN(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="";function tN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=DT(e)),e=nN(i.get(n),e);return DT(e)}function nN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case tA:n+="";break;default:n+=u}}return n}function DT(i){return i+tA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ss(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function nA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(e){return new NT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class NT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Pt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iA("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=iN.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="server_timestamp",sA="__type__",aA="__previous_value__",oA="__local_write_time__";function ig(i){return(i?.mapValue?.fields||{})[sA]?.stringValue===rA}function df(i){const e=i.mapValue.fields[aA];return ig(e)?df(e):e}function fu(i){const e=ds(i.mapValue.fields[oA].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,s,o,u,c,d,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const jh="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||jh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===jh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="__type__",sN="__max__",fh={mapValue:{}},uA="__vector__",Fh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:oN(i)?9007199254740991:aN(i)?10:11:ye(28295,{value:i})}function Fi(i,e){if(i===e)return!0;const n=ps(i);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fu(i).isEqual(fu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=ds(o.timestampValue),d=ds(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=yt(o.doubleValue),d=yt(u.doubleValue);return c===d?Bh(c)===Bh(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(OT(c)!==OT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Fi(c[p],d[p])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function mu(i,e){return(i.values||[]).find((n=>Fi(n,e)))!==void 0}function Ao(i,e){if(i===e)return 0;const n=ps(i),s=ps(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const d=yt(u.integerValue||u.doubleValue),p=yt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return xT(i.timestampValue,e.timestampValue);case 4:return xT(fu(i),fu(e));case 5:return dp(i.stringValue,e.stringValue);case 6:return(function(u,c){const d=ms(u),p=ms(c);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Pe(d[g],p[g]);if(v!==0)return v}return Pe(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const d=Pe(yt(u.latitude),yt(c.latitude));return d!==0?d:Pe(yt(u.longitude),yt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return VT(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[Fh]?.arrayValue,v=p[Fh]?.arrayValue,T=Pe(g?.values?.length||0,v?.values?.length||0);return T!==0?T:VT(g,v)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===fh.mapValue&&c===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(c===fh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const w=dp(p[T],v[T]);if(w!==0)return w;const N=Ao(d[p[T]],g[v[T]]);if(N!==0)return N}return Pe(p.length,v.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function xT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=ds(i),s=ds(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function VT(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function wo(i){return mp(i)}function mp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ms(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=mp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${mp(n.fields[c])}`;return o+"}"})(i.mapValue):ye(61005,{value:i})}function wh(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=df(i);return e?16+wh(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+wh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ss(s.fields,((u,c)=>{o+=u.length+wh(c)})),o})(i.mapValue);default:throw ye(13486,{value:i})}}function pp(i){return!!i&&"integerValue"in i}function rg(i){return!!i&&"arrayValue"in i}function MT(i){return!!i&&"nullValue"in i}function LT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bh(i){return!!i&&"mapValue"in i}function aN(i){return(i?.mapValue?.fields||{})[lA]?.stringValue===uA}function eu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ss(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=eu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(i.arrayValue.values[n]);return e}return{...i}}function oN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===sN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=eu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ss(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(eu(this.value))}}function cA(i){const e=[];return Ss(i.fields,((n,s)=>{const o=new Qt([n]);if(bh(s)){const u=cA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function PT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(c.referenceValue),n.key):s=Ao(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function kT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Fi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{}class Lt extends hA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cN(e,n,s):n==="array-contains"?new dN(e,s):n==="in"?new mN(e,s):n==="not-in"?new pN(e,s):n==="array-contains-any"?new gN(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hN(e,s):new fN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends hA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hi(e,n)}matches(e){return fA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fA(i){return i.op==="and"}function dA(i){return uN(i)&&fA(i)}function uN(i){for(const e of i.filters)if(e instanceof Hi)return!1;return!0}function gp(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(dA(i))return i.filters.map((e=>gp(e))).join(",");{const e=i.filters.map((n=>gp(n))).join(",");return`${i.op}(${e})`}}function mA(i,e){return i instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(i,e):i instanceof Hi?(function(s,o){return o instanceof Hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&mA(c,o.filters[d])),!0):!1})(i,e):void ye(19439)}function pA(i){return i instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`})(i):i instanceof Hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(pA).join(" ,")+"}"})(i):"Filter"}class cN extends Lt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class hN extends Lt{constructor(e,n){super(e,"in",n),this.keys=gA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fN extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=gA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gA(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class dN extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&mu(n.arrayValue,this.value)}}class mN extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class pN extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class gN extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n=null,s=[],o=[],u=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function UT(i,e=null,n=[],s=[],o=null,u=null,c=null){return new yN(i,e,n,s,o,u,c)}function sg(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>gp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>wo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>wo(s))).join(",")),e.Te=n}return e.Te}function ag(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!lN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!mA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!kT(i.startAt,e.startAt)&&kT(i.endAt,e.endAt)}function yp(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _N(i,e,n,s,o,u,c,d){return new mf(i,e,n,s,o,u,c,d)}function pf(i){return new mf(i)}function zT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vN(i){return i.collectionGroup!==null}function tu(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pt(Qt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new qh(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new qh(Qt.keyField(),s))}return e.Ie}function ki(i){const e=we(i);return e.Ee||(e.Ee=EN(e,tu(i))),e.Ee}function EN(i,e){if(i.limitType==="F")return UT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new qh(o.field,u)}));const n=i.endAt?new Hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hh(i.startAt.position,i.startAt.inclusive):null;return UT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function _p(i,e,n){return new mf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function gf(i,e){return ag(ki(i),ki(e))&&i.limitType===e.limitType}function yA(i){return`${sg(ki(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>pA(o))).join(", ")}]`),ff(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>wo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>wo(o))).join(",")),`Target(${s})`})(ki(i))}; limitType=${i.limitType})`}function yf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=PT(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,tu(s),o)||s.endAt&&!(function(c,d,p){const g=PT(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,tu(s),o))})(i,e)}function TN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function _A(i){return(e,n)=>{let s=!1;for(const o of tu(i)){const u=SN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function SN(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Ao(p,g):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return nA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new ut(me.comparator);function vr(){return AN}const vA=new ut(me.comparator);function Ql(...i){let e=vA;for(const n of i)e=e.insert(n.key,n);return e}function EA(i){let e=vA;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return nu()}function TA(){return nu()}function nu(){return new ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const wN=new ut(me.comparator),bN=new Pt(me.comparator);function ke(...i){let e=bN;for(const n of i)e=e.add(n);return e}const RN=new Pt(Pe);function IN(){return RN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function SA(i){return{integerValue:""+i}}function CN(i,e){return eN(e)?SA(e):og(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function DN(i,e,n){return i instanceof Gh?(function(o,u){const c={fields:{[sA]:{stringValue:rA},[oA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=df(u)),u&&(c.fields[aA]=u),{mapValue:c}})(n,e):i instanceof pu?wA(i,e):i instanceof gu?bA(i,e):(function(o,u){const c=AA(o,u),d=BT(c)+BT(o.Ae);return pp(c)&&pp(o.Ae)?SA(d):og(o.serializer,d)})(i,e)}function ON(i,e,n){return i instanceof pu?wA(i,e):i instanceof gu?bA(i,e):n}function AA(i,e){return i instanceof $h?(function(s){return pp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Gh extends _f{}class pu extends _f{constructor(e){super(),this.elements=e}}function wA(i,e){const n=RA(e);for(const s of i.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gu extends _f{constructor(e){super(),this.elements=e}}function bA(i,e){let n=RA(e);for(const s of i.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class $h extends _f{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BT(i){return yt(i.integerValue||i.doubleValue)}function RA(i){return rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function NN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?So(s.elements,o.elements,Fi):s instanceof $h&&o instanceof $h?Fi(s.Ae,o.Ae):s instanceof Gh&&o instanceof Gh})(i.transform,e.transform)}class xN{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vf{}function IA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new lg(i.key,ri.none()):new Ru(i.key,i.data,ri.none());{const n=i.data,s=pn.empty();let o=new Pt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new As(i.key,s,new Rn(o.toArray()),ri.none())}}function VN(i,e,n){i instanceof Ru?(function(o,u,c){const d=o.value.clone(),p=FT(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,n):i instanceof As?(function(o,u,c){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=FT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(CA(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function iu(i,e,n,s){return i instanceof Ru?(function(u,c,d,p){if(!Rh(u.precondition,c))return d;const g=u.value.clone(),v=HT(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof As?(function(u,c,d,p){if(!Rh(u.precondition,c))return d;const g=HT(u.fieldTransforms,p,c),v=c.data;return v.setAll(CA(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,c,d){return Rh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,n)}function MN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=AA(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function jT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,c)=>NN(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ru extends vf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends vf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function CA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function FT(i,e,n){const s=new Map;Ke(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,d=e.data.field(u.field);s.set(u.field,ON(c,d,n[o]))}return s}function HT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,DN(u,c,e))}return s}class lg extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LN extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=TA();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=IA(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((n,s)=>jT(n,s)))&&So(this.baseMutations,e.baseMutations,((n,s)=>jT(n,s)))}}class ug{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return wN})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new ug(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Be;function zN(i){switch(i){case ee.OK:return ye(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function DA(i){if(i===void 0)return _r("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return ye(39323,{code:i})}}(Be=Dt||(Dt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new us([4294967295,4294967295],0);function qT(i){const e=BN().encode(i),n=new GS;return n.update(e),new Uint8Array(n.digest())}function GT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class cg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(jN)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qT(e),[s,o]=GT(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new cg(u,o,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=qT(e),[s,o]=GT(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ef(Se.min(),o,new ut(Pe),vr(),ke())}}class Iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Iu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class OA{constructor(e,n){this.targetId=e,this.Ce=n}}class NA{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class $T{constructor(){this.ve=0,this.Fe=KT(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Iu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=KT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FN{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=dh(),this.He=dh(),this.Ye=new ut(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(yp(u))if(s===0){const c=new me(u.path);this.et(n,c,Wt.newNoDocument(c,Se.min()))}else Ke(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=ms(s).toUint8Array()}catch(p){if(p instanceof iA)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new cg(c,o,u)}catch(p){return To(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&yp(d.target)){const p=new me(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Ef(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=dh(),this.He=dh(),this.Ye=new ut(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $T,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $T),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new ut(me.comparator)}function KT(){return new ut(me.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"};class $N{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vp(i,e){return i.useProto3Json||ff(e)?e:{value:e}}function Kh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function KN(i,e){return Kh(i,e.toTimestamp())}function Ui(i){return Ke(!!i,49232),Se.fromTimestamp((function(n){const s=ds(n);return new Je(s.seconds,s.nanos)})(i))}function hg(i,e){return Ep(i,e).canonicalString()}function Ep(i,e){const n=(function(o){return new st(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function VA(i){const e=st.fromString(i);return Ke(UA(e),10190,{key:e.toString()}),e}function Tp(i,e){return hg(i.databaseId,e.path)}function $m(i,e){const n=VA(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(LA(n))}function MA(i,e){return hg(i.databaseId,e)}function QN(i){const e=VA(i);return e.length===4?st.emptyPath():LA(e)}function Sp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function LA(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function QT(i,e,n){return{name:Tp(i,e),fields:n.value.mapValue.fields}}function YN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ee.UNKNOWN:DA(g.code);return new ue(v,g.message||"")})(c);n=new NA(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$m(i,s.document.name),u=Ui(s.document.updateTime),c=s.document.createTime?Ui(s.document.createTime):Se.min(),d=new pn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Ih(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$m(i,s.document),u=s.readTime?Ui(s.readTime):Se.min(),c=Wt.newNoDocument(o,u),d=s.removedTargetIds||[];n=new Ih([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$m(i,s.document),u=s.removedTargetIds||[];n=new Ih([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new UN(o,u),d=s.targetId;n=new OA(d,c)}}return n}function XN(i,e){let n;if(e instanceof Ru)n={update:QT(i,e.key,e.value)};else if(e instanceof lg)n={delete:Tp(i,e.key)};else if(e instanceof As)n={update:QT(i,e.key,e.data),updateMask:sx(e.fieldMask)};else{if(!(e instanceof LN))return ye(16599,{Vt:e.type});n={verify:Tp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof Gh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $h)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw ye(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:KN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),n}function JN(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?Ui(o.updateTime):Ui(u);return c.isEqual(Se.min())&&(c=Ui(u)),new xN(c,o.transformResults||[])})(n,e)))):[]}function ZN(i,e){return{documents:[MA(i,e.path)]}}function WN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=MA(i,o);const u=(function(g){if(g.length!==0)return kA(Hi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:mo(w.field),direction:nx(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=vp(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function ex(i){let e=QN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const w=PA(T);return w instanceof Hi&&dA(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((w=>(function(k){return new qh(po(k.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let w;return w=typeof T=="object"?T.value:T,ff(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,N=T.values||[];return new Hh(N,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,N=T.values||[];return new Hh(N,w)})(n.endAt)),_N(e,o,c,u,d,"F",p,g)}function tx(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=po(n.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Lt.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Hi.create(n.compositeFilter.filters.map((s=>PA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function nx(i){return HN[i]}function ix(i){return qN[i]}function rx(i){return GN[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return Qt.fromServerFormat(i.fieldPath)}function kA(i){return i instanceof Lt?(function(n){if(n.op==="=="){if(LT(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(MT(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LT(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(MT(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:ix(n.op),value:n.value}}})(i):i instanceof Hi?(function(n){const s=n.getFilters().map((o=>kA(o)));return s.length===1?s[0]:{compositeFilter:{op:rx(n.op),filters:s}}})(i):ye(54877,{filter:i})}function sx(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function UA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,s,o,u=Se.min(),c=Se.min(),d=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.yt=e}}function ox(i){const e=ex({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.Cn=new ux}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(fs.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class ux{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(st.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(zA,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="LruGarbageCollector",cx=1048576;function JT([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class hx{constructor(e){this.Ir=e,this.buffer=new Pt(JT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();JT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(XT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?oe(XT,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Vr(3e5)}))}}class dx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(hf.ce);const s=new hx(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(YT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),ho()<=Le.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function mx(i,e){return new dx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&iu(s.mutation,o,Rn.empty(),Je.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=Ql();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,o){let u=vr();const c=nu(),d=(function(){return nu()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof As)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),iu(v.mutation,g,v.mutation.getFieldMask(),Je.now())):c.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>d.set(g,new gx(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=nu();let o=new ut(((c,d)=>c-d)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Rn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const T=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=TA();v.forEach((w=>{if(!u.has(w)){const N=IA(n.get(w),s.get(w));N!==null&&T.set(w,N),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return Z.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(ia());let d=hu,p=u;return c.next((g=>Z.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((v=>({batchId:d,changes:EA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=Ql();return this.indexManager.getCollectionParents(e,u).next((d=>Z.forEach(d,(p=>{const g=(function(T,w){return new mf(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Wt.newInvalidDocument(v)))}));let d=Ql();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&iu(v.mutation,g,Rn.empty(),Je.now()),yf(n,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ox(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.overlays=new ut(me.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),u=n.length+1,c=new me(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ia(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return Z.resolve(d)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new kN(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new st([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new st([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PN(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Bt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ng:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Pe);return n.forEach((o=>{const u=new Bt(o,0),c=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const c=new Bt(new me(u),0);let d=new Pt(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),Z.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.ri=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const c=n.path,d=new me(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||X2(Y2(v),s)<=0||(o.has(v.key)||yf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Ax(this)}getSize(e){return Z.resolve(this.size)}}class Ax extends px{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.persistence=e,this.si=new ga((n=>sg(n)),ag),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new Ex,this.referenceDelegate=e(this),this.Pi=new wx(this),this.indexManager=new lx,this.remoteDocumentCache=(function(o){return new Sx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ax(n),this.Ii=new _x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Tx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new bx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class bx extends Z2{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.pi=new ga((s=>tN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=mx(this,n)}static mi(e,n){return new Qh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,u.removeEntry(c,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}br(e,n,s){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oC()?8:W2(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new Rx;return this.Ss(e,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ho()<=Le.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ho()<=Le.DEBUG&&oe("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ho()<=Le.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):Z.resolve())}ys(e,n){if(zT(n))return Z.resolve(null);let s=ki(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=_p(n,null,"F"),s=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=ke(...u);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(e,_p(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return zT(n)||o.isEqual(Se.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?Z.resolve(null):(ho()<=Le.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.vs(e,c,n,Q2(o,hu)).next((d=>d)))}))}Ds(e,n){let s=new Pt(_A(e));return n.forEach(((o,u)=>{yf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ho()<=Le.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ps.getDocumentsMatchingQuery(e,n,fs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="LocalStore",Cx=3e8;class Dx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Pe),this.xs=new ga((u=>sg(u)),ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Ox(i,e,n,s){return new Dx(i,e,n,s)}async function jA(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=ke();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function Nx(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const T=g.batch,w=T.keys();let N=Z.resolve();return w.forEach((k=>{N=N.next((()=>v.getEntry(p,k))).next((K=>{const F=g.docVersions.get(k);Ke(F!==null,48541),K.version.compareTo(F)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function FA(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xx(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];e.targetChanges.forEach(((v,T)=>{const w=o.get(T);if(!w)return;d.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,T))));let N=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(T,N),(function(K,F,te){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Cx?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,N,v)&&d.push(n.Pi.updateTargetData(u,N))}));let p=vr(),g=ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(Vx(u,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Se.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return Z.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function Vx(i,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=vr();return n.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):oe(pg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function Mx(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Lx(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new as(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ap(i,e,n){const s=we(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Mo(c))throw c;oe(pg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ZT(i,e,n){const s=we(i);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=we(p),w=T.xs.get(v);return w!==void 0?Z.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,v)})(s,c,ki(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Se.min(),n?u:ke()))).next((d=>(Px(s,TN(e),d),{documents:d,Qs:u})))))}function Px(i,e,n){let s=i.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class WT{constructor(){this.activeTargetIds=IN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kx{constructor(){this.Mo=new WT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="ConnectivityMonitor";class t0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(e0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(e0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function wp(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===jh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=wp(),d=this.zo(e,n.toUriEncodedString());oe(Km,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),v=Do(g);return this.Jo(e,d,p,s,v).then((T=>(oe(Km,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw To(Km,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=zx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class Fx extends Bx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=wp();return new Promise(((d,p)=>{const g=new $S;g.setWithCredentials(!0),g.listenOnce(KS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ah.NO_ERROR:const T=g.getResponseJson();oe(Jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Ah.TIMEOUT:oe(Jt,`RPC '${e}' ${c} timed out`),p(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const w=g.getStatus();if(oe(Jt,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N?.error;if(k&&k.status&&k.message){const K=(function(te){const W=te.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN})(k.status);p(new ue(K,k.message))}else p(new ue(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(Jt,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);oe(Jt,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=wp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=XS(),d=YS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");oe(Jt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let w=!1,N=!1;const k=new jx({Yo:F=>{N?oe(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(w||(oe(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),oe(Jt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),K=(F,te,W)=>{F.listen(te,(re=>{try{W(re)}catch(de){setTimeout((()=>{throw de}),0)}}))};return K(T,Kl.EventType.OPEN,(()=>{N||(oe(Jt,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),K(T,Kl.EventType.CLOSE,(()=>{N||(N=!0,oe(Jt,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(T))})),K(T,Kl.EventType.ERROR,(F=>{N||(N=!0,To(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),k.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),K(T,Kl.EventType.MESSAGE,(F=>{if(!N){const te=F.data[0];Ke(!!te,16349);const W=te,re=W?.error||W[0]?.error;if(re){oe(Jt,`RPC '${e}' stream ${o} received error:`,re);const de=re.status;let _e=(function(b){const R=Dt[b];if(R!==void 0)return DA(R)})(de),Te=re.message;_e===void 0&&(_e=ee.INTERNAL,Te="Unknown error status: "+de+" with message "+re.message),N=!0,k.a_(new ue(_e,Te)),T.close()}else oe(Jt,`RPC '${e}' stream ${o} received:`,te),k.u_(te)}})),K(d,QS.STAT_EVENT,(F=>{F.stat===fp.PROXY?oe(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===fp.NOPROXY&&oe(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(i){return new $N(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="PersistentStream";class qA{constructor(e,n,s,o,u,c,d,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(n0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(n0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hx extends qA{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?Ui(c.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Sp(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=yp(p)?{documents:ZN(u,p)}:{query:WN(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=xA(u,c.resumeToken);const g=vp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=Kh(u,c.snapshotVersion.toTimestamp());const g=vp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=tx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.q_(n)}}class qx extends qA{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JN(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>XN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{}class $x extends Gx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Ep(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Ep(n,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Kx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class Qx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{ya(this)&&(oe(ca,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await Cu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Sf(g)})(this))}))})),this.Ra=new Kx(s,o)}}async function Sf(i){if(ya(i))for(const e of i.da)await e(!0)}async function Cu(i){for(const e of i.da)await e(!1)}function GA(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),vg(n)?_g(n):Lo(n).O_()&&yg(n,e))}function gg(i,e){const n=we(i),s=Lo(n);n.Ia.delete(e),s.O_()&&$A(n,e),n.Ia.size===0&&(s.O_()?s.L_():ya(n)&&n.Ra.set("Unknown"))}function yg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(i).Y_(e)}function $A(i,e){i.Va.Ue(e),Lo(i).Z_(e)}function _g(i){i.Va=new FN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.Ra.ua()}function vg(i){return ya(i)&&!Lo(i).x_()&&i.Ia.size>0}function ya(i){return we(i).Ea.size===0}function KA(i){i.Va=void 0}async function Yx(i){i.Ra.set("Online")}async function Xx(i){i.Ia.forEach(((e,n)=>{yg(i,e)}))}async function Jx(i,e){KA(i),vg(i)?(i.Ra.ha(e),_g(i)):i.Ra.set("Unknown")}async function Zx(i,e,n){if(i.Ra.set("Online"),e instanceof NA&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(i,e)}catch(s){oe(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yh(i,s)}else if(e instanceof Ih?i.Va.Ze(e):e instanceof OA?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const s=await FA(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),$A(u,p);const T=new as(v.target,p,g,v.sequenceNumber);yg(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(i,n)}catch(s){oe(ca,"Failed to raise snapshot:",s),await Yh(i,s)}}async function Yh(i,e,n){if(!Mo(e))throw e;i.Ea.add(1),await Cu(i),i.Ra.set("Offline"),n||(n=()=>FA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe(ca,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Sf(i)}))}function QA(i,e){return e().catch((n=>Yh(i,n,e)))}async function Af(i){const e=we(i),n=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ng;for(;Wx(e);)try{const o=await Mx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,eV(e,o)}catch(o){await Yh(e,o)}YA(e)&&XA(e)}function Wx(i){return ya(i)&&i.Ta.length<10}function eV(i,e){i.Ta.push(e);const n=gs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function YA(i){return ya(i)&&!gs(i).x_()&&i.Ta.length>0}function XA(i){gs(i).start()}async function tV(i){gs(i).ra()}async function nV(i){const e=gs(i);for(const n of i.Ta)e.ea(n.mutations)}async function iV(i,e,n){const s=i.Ta.shift(),o=ug.from(s,e,n);await QA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Af(i)}async function rV(i,e){e&&gs(i).X_&&await(async function(s,o){if((function(c){return zN(c)&&c!==ee.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await QA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Af(s)}})(i,e),YA(i)&&XA(i)}async function i0(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),oe(ca,"RemoteStore received new credentials");const s=ya(n);n.Ea.add(3),await Cu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sf(n)}async function sV(i,e){const n=we(i);e?(n.Ea.delete(2),await Sf(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function Lo(i){return i.ma||(i.ma=(function(n,s,o){const u=we(n);return u.sa(),new Hx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:Yx.bind(null,i),t_:Xx.bind(null,i),r_:Jx.bind(null,i),H_:Zx.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),vg(i)?_g(i):i.Ra.set("Unknown")):(await i.ma.stop(),KA(i))}))),i.ma}function gs(i){return i.fa||(i.fa=(function(n,s,o){const u=we(n);return u.sa(),new qx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:tV.bind(null,i),r_:rV.bind(null,i),ta:nV.bind(null,i),na:iV.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Af(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,d=new Eg(e,n,c,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Mo(i))return new ue(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,u,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Ro(e,n,Eo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oV{constructor(){this.queries=s0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=s0(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function s0(){return new ga((i=>yA(i)),gf)}async function Sg(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new aV,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Tg(c,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&wg(n)}async function Ag(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function lV(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&wg(n)}function uV(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function wg(i){i.Ca.forEach((e=>{e.next()}))}var bp,a0;(a0=bp||(bp={})).Ma="default",a0.Cache="cache";class bg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.key=e}}class ZA{constructor(e){this.key=e}}class cV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=_A(e),this.tu=new Eo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new r0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const w=o.get(v),N=yf(this.query,T)?T:null,k=!!w&&this.mutatedKeys.has(w.key),K=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let F=!1;w&&N?w.data.isEqual(N.data)?k!==K&&(s.track({type:3,doc:N}),F=!0):this.su(w,N)||(s.track({type:2,doc:N}),F=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(d=!0)):!w&&N?(s.track({type:0,doc:N}),F=!0):w&&!N&&(s.track({type:1,doc:w}),F=!0,(p||g)&&(d=!0)),F&&(N?(c=c.add(N),u=K?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(N,k){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:F})}};return K(N)-K(k)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Ro(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new ZA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new JA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class hV{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fV{constructor(e){this.key=e,this.hu=!1}}class dV{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ga((d=>yA(d)),gf),this.Iu=new Map,this.Eu=new Set,this.du=new ut(me.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mV(i,e,n=!0){const s=rw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await WA(s,e,n,!0),o}async function pV(i,e){const n=rw(i);await WA(n,e,!0,!1)}async function WA(i,e,n,s){const o=await Lx(i.localStore,ki(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await gV(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&GA(i.remoteStore,o),d}async function gV(i,e,n,s,o){i.pu=(T,w,N)=>(async function(K,F,te,W){let re=F.view.ru(te);re.Cs&&(re=await ZT(K.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,re))));const de=W&&W.targetChanges.get(F.targetId),_e=W&&W.targetMismatches.get(F.targetId)!=null,Te=F.view.applyChanges(re,K.isPrimaryClient,de,_e);return l0(K,F.targetId,Te.au),Te.snapshot})(i,T,w,N);const u=await ZT(i.localStore,e,!0),c=new cV(e,u.Qs),d=c.ru(u.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(d,i.isPrimaryClient,p);l0(i,n,g.au);const v=new hV(e,n,c);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function yV(i,e,n){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!gf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&gg(s.remoteStore,o.targetId),Rp(s,o.targetId)})).catch(Vo)):(Rp(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function _V(i,e){const n=we(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),gg(n.remoteStore,s.targetId))}async function vV(i,e,n){const s=RV(i);try{const o=await(function(c,d){const p=we(c),g=Je.now(),v=d.reduce(((N,k)=>N.add(k.key)),ke());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let k=vr(),K=ke();return p.Ns.getEntries(N,v).next((F=>{k=F,k.forEach(((te,W)=>{W.isValidDocument()||(K=K.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,k))).next((F=>{T=F;const te=[];for(const W of d){const re=MN(W,T.get(W.key).overlayedDocument);re!=null&&te.push(new As(W.key,re,cA(re.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,te,d)})).next((F=>{w=F;const te=F.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(N,F.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:EA(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ut(Pe)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Du(s,o.changes),await Af(s.remoteStore)}catch(o){const u=Tg(o,"Failed to persist write");n.reject(u)}}async function ew(i,e){const n=we(i);try{const s=await xx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ke(c.hu,14607):o.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await Du(n,s,e)}catch(s){await Vo(s)}}function o0(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=we(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)})),g&&wg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EV(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new ut(me.comparator);c=c.insert(u,Wt.newNoDocument(u,Se.min()));const d=ke().add(u),p=new Ef(Se.min(),new Map,new ut(Pe),c,d);await ew(s,p),s.du=s.du.remove(u),s.Au.delete(e),Ig(s)}else await Ap(s.localStore,e,!1).then((()=>Rp(s,e,n))).catch(Vo)}async function TV(i,e){const n=we(i),s=e.batch.batchId;try{const o=await Nx(n.localStore,e);nw(n,s,null),tw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Du(n,o)}catch(o){await Vo(o)}}async function SV(i,e,n){const s=we(i);try{const o=await(function(c,d){const p=we(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(Ke(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);nw(s,e,n),tw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Du(s,o)}catch(o){await Vo(o)}}function tw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function nw(i,e,n){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Rp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||iw(i,s)}))}function iw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(gg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Ig(i))}function l0(i,e,n){for(const s of n)s instanceof JA?(i.Ru.addReference(s.key,e),AV(i,s)):s instanceof ZA?(oe(Rg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||iw(i,s.key)):ye(19791,{wu:s})}function AV(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(oe(Rg,"New document in limbo: "+n),i.Eu.add(s),Ig(i))}function Ig(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(st.fromString(e)),s=i.fu.next();i.Au.set(s,new fV(n)),i.du=i.du.insert(n,s),GA(i.remoteStore,new as(ki(pf(n.path)),s,"TargetPurposeLimboResolution",hf.ce))}}async function Du(i,e,n){const s=we(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=mg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=we(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(g,(w=>Z.forEach(w.Es,(N=>v.persistence.referenceDelegate.addReference(T,w.targetId,N))).next((()=>Z.forEach(w.ds,(N=>v.persistence.referenceDelegate.removeReference(T,w.targetId,N)))))))))}catch(T){if(!Mo(T))throw T;oe(pg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const N=v.Ms.get(w),k=N.snapshotVersion,K=N.withLastLimboFreeSnapshotVersion(k);v.Ms=v.Ms.insert(w,K)}}})(s.localStore,u))}async function wV(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){oe(Rg,"User change. New user:",e.toKey());const s=await jA(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new ue(ee.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Du(n,s.Ls)}}function bV(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function rw(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EV.bind(null,e),e.Pu.H_=lV.bind(null,e.eventManager),e.Pu.yu=uV.bind(null,e.eventManager),e}function RV(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SV.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Ox(this.persistence,new Ix,e.initialUser,this.serializer)}Cu(e){return new BA(dg.mi,this.serializer)}Du(e){return new kx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class IV extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new fx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new BA((s=>Qh.mi(s,n)),this.serializer)}}class Ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wV.bind(null,this.syncEngine),await sV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oV})()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=(function(u){return new Fx(u)})(e.databaseInfo);return(function(u,c,d,p){return new $x(u,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,d){return new Qx(s,o,u,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>o0(this.syncEngine,n,0)),(function(){return t0.v()?new t0:new Ux})())}createSyncEngine(e,n){return(function(o,u,c,d,p,g,v){const T=new dV(o,u,c,d,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);oe(ca,"RemoteStore shutting down."),s.Ea.add(5),await Cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class CV{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{oe(ys,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(oe(ys,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Tg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ym(i,e){i.asyncQueue.verifyOperationInProgress(),oe(ys,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await jA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function u0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await DV(i);oe(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>i0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>i0(e.remoteStore,o))),i._onlineComponents=e}async function DV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(ys,"Using user provided OfflineComponentProvider");try{await Ym(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Ym(i,new Xh)}}else oe(ys,"Using default OfflineComponentProvider"),await Ym(i,new IV(void 0));return i._offlineComponents}async function sw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(ys,"Using user provided OnlineComponentProvider"),await u0(i,i._uninitializedComponentsProvider._online)):(oe(ys,"Using default OnlineComponentProvider"),await u0(i,new Ip))),i._onlineComponents}function OV(i){return sw(i).then((e=>e.syncEngine))}async function Jh(i){const e=await sw(i),n=e.eventManager;return n.onListen=mV.bind(null,e.syncEngine),n.onUnlisten=yV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_V.bind(null,e.syncEngine),n}function NV(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const v=new Cg({next:w=>{v.Nu(),c.enqueueAndForget((()=>Ag(u,T)));const N=w.docs.has(d);!N&&w.fromCache?g.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&p&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new bg(pf(d.path),v,{includeMetadataChanges:!0,qa:!0});return Sg(u,T)})(await Jh(i),i.asyncQueue,e,n,s))),s.promise}function xV(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const v=new Cg({next:w=>{v.Nu(),c.enqueueAndForget((()=>Ag(u,T))),w.fromCache&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new bg(d,v,{includeMetadataChanges:!0,qa:!0});return Sg(u,T)})(await Jh(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firestore.googleapis.com",h0=!0;class f0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ow,this.ssl=h0}else this.host=e.host,this.ssl=e.ssl??h0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cx)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new k2;switch(s.type){case"firstParty":return new j2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=c0.get(n);s&&(oe("ComponentProvider","Removing Datastore"),c0.delete(n),s.terminate())})(this),Promise.resolve()}}function VV(i,e,n,s={}){i=In(i,wf);const o=Do(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${n}`;o&&(W0(`https://${d}`),eS("Firestore",!0)),u.host!==ow&&u.host!==d&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!hs(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=Zt.MOCK_USER;else{g=WI(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Zt(T)}i._authCredentials=new U2(new ZS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ou(this.firestore,e,this._query)}}class _t{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bu(n,_t._jsonSchema))return new _t(e,s||null,new me(st.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Ot("string",_t._jsonSchemaVersion),referencePath:Ot("string")};class cs extends Ou{constructor(e,n,s){super(e,n,pf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new me(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function $L(i,e,...n){if(i=vt(i),WS("collection","path",e),i instanceof wf){const s=st.fromString(e,...n);return RT(s),new cs(i,null,s)}{if(!(i instanceof _t||i instanceof cs))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return RT(s),new cs(i.firestore,null,s)}}function Er(i,e,...n){if(i=vt(i),arguments.length===1&&(e=eg.newId()),WS("doc","path",e),i instanceof wf){const s=st.fromString(e,...n);return bT(s),new _t(i,null,new me(s))}{if(!(i instanceof _t||i instanceof cs))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return bT(s),new _t(i.firestore,i instanceof cs?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="AsyncQueue";class m0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HA(this,"async_queue_retry"),this._c=()=>{const s=Qm();s&&oe(d0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;oe(d0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",p0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Eg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function p0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class _s extends wf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new m0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m0(e),this._firestoreClient=void 0,await e}}}function MV(i,e){const n=typeof i=="object"?i:Hp(),s=typeof i=="string"?i:jh,o=ma(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=JI("firestore");u&&VV(o,...u)}return o}function bf(i){if(i._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||LV(i),i._firestoreClient}function LV(i){const e=i._freezeSettings(),n=(function(o,u,c,d){return new rN(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new CV(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Yt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ot("string",Hn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(bu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ot("string",zi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ot("string",Bi._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=/^__.*__$/;class kV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class lw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:i})}}class Og{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uw(this.Ac)&&PV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}Cc(e,n,s,o=!1){return new Og({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cw(i){const e=i._freezeSettings(),n=Tf(i._databaseId);return new UV(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zV(i,e,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Ng("Data must be an object, but it was:",c,s);const d=hw(s,c);let p,g;if(u.merge)p=new Rn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const w=Cp(e,T,n);if(!c.contains(w))throw new ue(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);dw(v,w)||v.push(w)}p=new Rn(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new kV(new pn(d),p,g)}class If extends Dg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}function BV(i,e,n,s){const o=i.Cc(1,e,n);Ng("Data must be an object, but it was:",o,s);const u=[],c=pn.empty();Ss(s,((p,g)=>{const v=xg(e,p,n);g=vt(g);const T=o.yc(v);if(g instanceof If)u.push(v);else{const w=Cf(g,T);w!=null&&(u.push(v),c.set(v,w))}}));const d=new Rn(u);return new lw(c,d,o.fieldTransforms)}function jV(i,e,n,s,o,u){const c=i.Cc(1,e,n),d=[Cp(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)d.push(Cp(e,u[w])),p.push(u[w+1]);const g=[],v=pn.empty();for(let w=d.length-1;w>=0;--w)if(!dw(g,d[w])){const N=d[w];let k=p[w];k=vt(k);const K=c.yc(N);if(k instanceof If)g.push(N);else{const F=Cf(k,K);F!=null&&(g.push(N),v.set(N,F))}}const T=new Rn(g);return new lw(v,T,c.fieldTransforms)}function Cf(i,e){if(fw(i=vt(i)))return Ng("Unsupported field value:",e,i),hw(i,e);if(i instanceof Dg)return(function(s,o){if(!uw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=Cf(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:Kh(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Kh(o.serializer,u)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:xA(o.serializer,s._byteString)};if(s instanceof _t){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(c,d){return{mapValue:{fields:{[lA]:{stringValue:uA},[Fh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return og(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${tg(s)}`)})(i,e)}function hw(i,e){const n={};return nA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(i,((s,o)=>{const u=Cf(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function fw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Je||i instanceof zi||i instanceof Hn||i instanceof _t||i instanceof Dg||i instanceof Bi)}function Ng(i,e,n){if(!fw(n)||!eA(n)){const s=tg(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Cp(i,e,n){if((e=vt(e))instanceof Rf)return e._internalPath;if(typeof e=="string")return xg(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const FV=new RegExp("[~\\*/\\[\\]]");function xg(i,e,n){if(e.search(FV)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zh(i,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ue(ee.INVALID_ARGUMENT,d+i+p)}function dw(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HV extends mw{data(){return super.data()}}function pw(i,e){return typeof e=="string"?xg(i,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qV{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ss(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Fh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new zi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=df(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ke(UA(s),9688,{name:e});const o=new du(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sa extends mw{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=sa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sa._jsonSchemaVersion="firestore/documentSnapshot/1.0",sa._jsonSchema={type:Ot("string",sa._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Ch extends sa{data(e={}){return super.data(e)}}class aa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ch(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Xl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new Ch(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Xl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:$V(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $V(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(i){i=In(i,_t);const e=In(i.firestore,_s);return NV(bf(e),i._key).then((n=>_w(e,i,n)))}aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:Ot("string",aa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Vg extends qV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function KL(i){i=In(i,Ou);const e=In(i.firestore,_s),n=bf(e),s=new Vg(e);return gw(i._query),xV(n,i._query).then((o=>new aa(e,s,i,o)))}function yw(i,e,n){i=In(i,_t);const s=In(i.firestore,_s),o=GV(i.converter,e);return Mg(s,[zV(cw(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ri.none())])}function QL(i,e,n,...s){i=In(i,_t);const o=In(i.firestore,_s),u=cw(o);let c;return c=typeof(e=vt(e))=="string"||e instanceof Rf?jV(u,"updateDoc",i._key,e,n,s):BV(u,"updateDoc",i._key,e),Mg(o,[c.toMutation(i._key,ri.exists(!0))])}function y0(i){return Mg(In(i.firestore,_s),[new lg(i._key,ri.none())])}function KV(i,...e){i=vt(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||g0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(g0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,c,d;if(i instanceof _t)c=In(i.firestore,_s),d=pf(i._key.path),u={next:p=>{e[s]&&e[s](_w(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=In(i,Ou);c=In(p.firestore,_s),d=p._query;const g=new Vg(c);u={next:v=>{e[s]&&e[s](new aa(c,g,p,v))},error:e[s+1],complete:e[s+2]},gw(i._query)}return(function(g,v,T,w){const N=new Cg(w),k=new bg(v,N,T);return g.asyncQueue.enqueueAndForget((async()=>Sg(await Jh(g),k))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>Ag(await Jh(g),k)))}})(bf(c),d,o,u)}function Mg(i,e){return(function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget((async()=>vV(await OV(s),o,u))),u.promise})(bf(i),e)}function _w(i,e,n){const s=n.docs.get(e._key),o=new Vg(i);return new sa(i,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){xo=o})(Oo),ji(new ai("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new _s(new z2(s.getProvider("auth-internal")),new F2(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),qn(TT,ST,e),qn(TT,ST,"esm2020")})();var QV="firebase",YV="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(QV,YV,"app");const vw="@firebase/installations",Lg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=1e4,Tw=`w:${Lg}`,Sw="FIS_v2",XV="https://firebaseinstallations.googleapis.com/v1",JV=3600*1e3,ZV="installations",WV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ha=new da(ZV,WV,eM);function Aw(i){return i instanceof ci&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww({projectId:i}){return`${XV}/projects/${i}/installations`}function bw(i){return{token:i.token,requestStatus:2,expiresIn:nM(i.expiresIn),creationTime:Date.now()}}async function Rw(i,e){const s=(await e.json()).error;return ha.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Iw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function tM(i,{refreshToken:e}){const n=Iw(i);return n.append("Authorization",iM(e)),n}async function Cw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function nM(i){return Number(i.replace("s","000"))}function iM(i){return`${Sw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=ww(i),o=Iw(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:n,authVersion:Sw,appId:i.appId,sdkVersion:Tw},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await Cw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:bw(g.authToken)}}else throw await Rw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=/^[cdef][\w-]{21}$/,Dp="";function oM(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=lM(i);return aM.test(n)?n:Dp}catch{return Dp}}function lM(i){return sM(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;function Nw(i,e){const n=Df(i);xw(n,e),uM(n,e)}function xw(i,e){const n=Ow.get(i);if(n)for(const s of n)s(e)}function uM(i,e){const n=cM();n&&n.postMessage({key:i,fid:e}),hM()}let ra=null;function cM(){return!ra&&"BroadcastChannel"in self&&(ra=new BroadcastChannel("[Firebase] FID Change"),ra.onmessage=i=>{xw(i.data.key,i.data.fid)}),ra}function hM(){Ow.size===0&&ra&&(ra.close(),ra=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="firebase-installations-database",dM=1,fa="firebase-installations-store";let Xm=null;function Pg(){return Xm||(Xm=rS(fM,dM,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(fa)}}})),Xm}async function Wh(i,e){const n=Df(i),o=(await Pg()).transaction(fa,"readwrite"),u=o.objectStore(fa),c=await u.get(n);return await u.put(e,n),await o.done,(!c||c.fid!==e.fid)&&Nw(i,e.fid),e}async function Vw(i){const e=Df(i),s=(await Pg()).transaction(fa,"readwrite");await s.objectStore(fa).delete(e),await s.done}async function Of(i,e){const n=Df(i),o=(await Pg()).transaction(fa,"readwrite"),u=o.objectStore(fa),c=await u.get(n),d=e(c);return d===void 0?await u.delete(n):await u.put(d,n),await o.done,d&&(!c||c.fid!==d.fid)&&Nw(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(i){let e;const n=await Of(i.appConfig,s=>{const o=mM(s),u=pM(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Dp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function mM(i){const e=i||{fid:oM(),registrationStatus:0};return Mw(e)}function pM(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ha.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=gM(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yM(i)}:{installationEntry:e}}async function gM(i,e){try{const n=await rM(i,e);return Wh(i.appConfig,n)}catch(n){throw Aw(n)&&n.customData.serverCode===409?await Vw(i.appConfig):await Wh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yM(i){let e=await _0(i.appConfig);for(;e.registrationStatus===1;)await Dw(100),e=await _0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await kg(i);return s||n}return e}function _0(i){return Of(i,e=>{if(!e)throw ha.create("installation-not-found");return Mw(e)})}function Mw(i){return _M(i)?{fid:i.fid,registrationStatus:0}:i}function _M(i){return i.registrationStatus===1&&i.registrationTime+Ew<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM({appConfig:i,heartbeatServiceProvider:e},n){const s=EM(i,n),o=tM(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:Tw,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await Cw(()=>fetch(s,d));if(p.ok){const g=await p.json();return bw(g)}else throw await Rw("Generate Auth Token",p)}function EM(i,{fid:e}){return`${ww(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(i,e=!1){let n;const s=await Of(i.appConfig,u=>{if(!Lw(u))throw ha.create("not-registered");const c=u.authToken;if(!e&&AM(c))return u;if(c.requestStatus===1)return n=TM(i,e),u;{if(!navigator.onLine)throw ha.create("app-offline");const d=bM(u);return n=SM(i,d),d}});return n?await n:s.authToken}async function TM(i,e){let n=await v0(i.appConfig);for(;n.authToken.requestStatus===1;)await Dw(100),n=await v0(i.appConfig);const s=n.authToken;return s.requestStatus===0?Ug(i,e):s}function v0(i){return Of(i,e=>{if(!Lw(e))throw ha.create("not-registered");const n=e.authToken;return RM(n)?{...e,authToken:{requestStatus:0}}:e})}async function SM(i,e){try{const n=await vM(i,e),s={...e,authToken:n};return await Wh(i.appConfig,s),n}catch(n){if(Aw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Vw(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Wh(i.appConfig,s)}throw n}}function Lw(i){return i!==void 0&&i.registrationStatus===2}function AM(i){return i.requestStatus===2&&!wM(i)}function wM(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+JV}function bM(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function RM(i){return i.requestStatus===1&&i.requestTime+Ew<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(i){const e=i,{installationEntry:n,registrationPromise:s}=await kg(e);return s?s.catch(console.error):Ug(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(i,e=!1){const n=i;return await DM(n),(await Ug(n,e)).token}async function DM(i){const{registrationPromise:e}=await kg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(i){if(!i||!i.options)throw Jm("App Configuration");if(!i.name)throw Jm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Jm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Jm(i){return ha.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="installations",NM="installations-internal",xM=i=>{const e=i.getProvider("app").getImmediate(),n=OM(e),s=ma(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},VM=i=>{const e=i.getProvider("app").getImmediate(),n=ma(e,Pw).getImmediate();return{getId:()=>IM(n),getToken:o=>CM(n,o)}};function MM(){ji(new ai(Pw,xM,"PUBLIC")),ji(new ai(NM,VM,"PRIVATE"))}MM();qn(vw,Lg);qn(vw,Lg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="analytics",LM="firebase_id",PM="origin",kM=60*1e3,UM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new da("analytics","Analytics",zM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(i){if(!i.startsWith(zg)){const e=Cn.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(e.message),""}return i}function kw(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function jM(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function FM(i,e){const n=jM("firebase-js-sdk-policy",{createScriptURL:BM}),s=document.createElement("script"),o=`${zg}?l=${i}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function HM(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function qM(i,e,n,s,o,u){const c=s[o];try{if(c)await e[c];else{const p=(await kw(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){gn.error(d)}i("config",o,u)}async function GM(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await kw(n);for(const p of c){const g=d.find(T=>T.measurementId===p),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){gn.error(u)}}function $M(i,e,n,s){async function o(u,...c){try{if(u==="event"){const[d,p]=c;await GM(i,e,n,d,p)}else if(u==="config"){const[d,p]=c;await qM(i,e,n,s,d,p)}else if(u==="consent"){const[d,p]=c;i("consent",d,p)}else if(u==="get"){const[d,p,g]=c;i("get",d,p,g)}else if(u==="set"){const[d]=c;i("set",d)}else i(u,...c)}catch(d){gn.error(d)}}return o}function KM(i,e,n,s,o){let u=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=$M(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function QM(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(zg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=30,XM=1e3;class JM{constructor(e={},n=XM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uw=new JM;function ZM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function WM(i){const{appId:e,apiKey:n}=i,s={method:"GET",headers:ZM(n)},o=UM.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function eL(i,e=Uw,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Cn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Cn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new iL;return setTimeout(async()=>{d.abort()},kM),zw({appId:s,apiKey:o,measurementId:u},c,d,e)}async function zw(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=Uw){const{appId:u,measurementId:c}=i;try{await tL(s,e)}catch(d){if(c)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await WM(i);return o.deleteThrottleMetadata(u),d}catch(d){const p=d;if(!nL(p)){if(o.deleteThrottleMetadata(u),c)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw d}const g=Number(p?.customData?.httpStatus)===503?$E(n,o.intervalMillis,YM):$E(n,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,v),gn.debug(`Calling attemptFetch again in ${g} millis`),zw(i,v,s,o)}}function tL(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nL(i){if(!(i instanceof ci)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class iL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rL(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,c={...s,send_to:u};i("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(){if(Bp())try{await jp()}catch(i){return gn.warn(Cn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return gn.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aL(i,e,n,s,o,u,c){const d=eL(i);d.then(w=>{n[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>gn.error(w)),e.push(d);const p=sL().then(w=>{if(w)return s.getId()}),[g,v]=await Promise.all([d,p]);QM(u)||FM(u,g.measurementId),o("js",new Date);const T=c?.config??{};return T[PM]="firebase",T.update=!0,v!=null&&(T[LM]=v),o("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.app=e}_delete(){return delete ru[this.app.options.appId],Promise.resolve()}}let ru={},E0=[];const T0={};let Zm="dataLayer",lL="gtag",S0,Bw,A0=!1;function uL(){const i=[];if(zp()&&i.push("This is a browser extension environment."),tS()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Cn.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function cL(i,e,n){uL();const s=i.options.appId;if(!s)throw Cn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(ru[s]!=null)throw Cn.create("already-exists",{id:s});if(!A0){HM(Zm);const{wrappedGtag:u,gtagCore:c}=KM(ru,E0,T0,Zm,lL);Bw=u,S0=c,A0=!0}return ru[s]=aL(i,E0,T0,e,S0,Zm,n),new oL(i)}function hL(i=Hp()){i=vt(i);const e=ma(i,ef);return e.isInitialized()?e.getImmediate():fL(i)}function fL(i,e={}){const n=ma(i,ef);if(n.isInitialized()){const o=n.getImmediate();if(hs(e,n.getOptions()))return o;throw Cn.create("already-initialized")}return n.initialize({options:e})}async function dL(){if(zp()||!tS()||!Bp())return!1;try{return await jp()}catch{return!1}}function mL(i,e,n,s){i=vt(i),rL(Bw,ru[i.app.options.appId],e,n,s).catch(o=>gn.error(o))}const w0="@firebase/analytics",b0="0.10.18";function pL(){ji(new ai(ef,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return cL(s,o,n)},"PUBLIC")),ji(new ai("analytics-internal",i,"PRIVATE")),qn(w0,b0),qn(w0,b0,"esm2020");function i(e){try{const n=e.getProvider(ef).getImmediate();return{logEvent:(s,o,u)=>mL(n,s,o,u)}}catch(n){throw Cn.create("interop-component-reg-failed",{reason:n})}}}pL();const gL={VITE_FIREBASE_API_KEY:"AIzaSyCo8bdOYNnQ7dI5djj6PAfmlkVMym3qfjQ",VITE_FIREBASE_APP_ID:"1:753224318997:web:22c337131a9a9f54c60e1c",VITE_FIREBASE_AUTH_DOMAIN:"bloodlink-1cd80.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-QYBR5DYCWZ",VITE_FIREBASE_MESSAGING_SENDER_ID:"753224318997",VITE_FIREBASE_PROJECT_ID:"bloodlink-1cd80",VITE_FIREBASE_STORAGE_BUCKET:"bloodlink-1cd80.appspot.com"},ta=gL,yL={apiKey:ta.VITE_FIREBASE_API_KEY,authDomain:ta.VITE_FIREBASE_AUTH_DOMAIN,projectId:ta.VITE_FIREBASE_PROJECT_ID,storageBucket:ta.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:ta.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:ta.VITE_FIREBASE_APP_ID,measurementId:ta.VITE_FIREBASE_MEASUREMENT_ID},Bg=sS(yL),Tr=MV(Bg);qS(Bg);dL().then(i=>{i&&hL(Bg)});const jw=(i,e)=>{const n=Er(Tr,"users",i);return yw(n,{...e,uid:i,createdAt:Je.now(),updatedAt:Je.now()})},_L=(i,e)=>{const n=Er(Tr,"blood_banks",i);return yw(n,{...e,id:i,approved:e.approved??!1,createdAt:Je.now(),updatedAt:Je.now()})},YL=i=>{const e=Er(Tr,"users",i);return yu(e)},hr=qS(),vL=(i,e)=>Xp(hr,i,e),EL=async(i,e,n)=>{const s=await Xp(hr,i,e),o=s.user.uid;try{return await jw(o,n),s}catch(u){try{await VS(s.user)}catch(c){console.error("Failed to delete auth user after profile write failure",c)}throw u}},TL=async(i,e)=>{const n=await SO(hr,i,e),s=n.user,o=Er(Tr,"users",s.uid),u=await yu(o);if(u.exists()){if(u.data().userType==="bloodBank"){const d=Er(Tr,"blood_banks",s.uid),p=await yu(d),g=p.exists()?p.data():null;if(!p.exists()||!g.approved)throw await Eh(hr),new Error("This blood bank account is not approved. Please contact an administrator.");if(g.status==="rejected")throw await Eh(hr),new Error("This account has been revoked. Contact an administrator.")}return n}else throw await Eh(hr),new Error("User data not found.")},SL=async(i,e,n,s)=>{const o=await Xp(hr,i,e),u=o.user.uid;try{return await jw(u,n),await _L(u,s),o}catch(c){try{await y0(Er(Tr,"users",u))}catch(d){console.warn("Failed to delete users doc during rollback",d)}try{await y0(Er(Tr,"blood_banks",u))}catch(d){console.warn("Failed to delete blood_banks doc during rollback",d)}try{await VS(o.user)}catch(d){console.error("Failed to delete auth user during rollback",d)}throw c}},Fw=()=>Eh(hr),Hw=i=>{const e=bO(hr,async n=>{if(!n){i(null);return}const s=Er(Tr,"users",n.uid),o=await yu(s);let u={};try{u=(await mS(n)).claims||{}}catch(p){console.warn("Failed to fetch ID token result",p)}const c=o.exists()?{...n,...o.data()}:{...n};let d=null;try{const p=c.userType||c.type||"",g=p.toString().toLowerCase();if(g==="bloodbank"||g==="blood_bank"||g==="blood-bank"||p==="bloodBank"){const T=Er(Tr,"blood_banks",n.uid),w=await yu(T),N=w.exists()?w.data():{};i({...c,claims:u,...N}),d=KV(T,k=>{const K=k.exists()?k.data():{};i({...c,claims:u,...K})});return}}catch(p){console.warn("Failed to attach bank doc listener",p)}i({...c,claims:u})});return()=>{try{e()}catch{}}},XL=Object.freeze(Object.defineProperty({__proto__:null,authStateListener:Hw,signIn:TL,signOut:Fw,signUpBloodBank:SL,signUpDonor:vL,signUpDonorProfile:EL},Symbol.toStringTag,{value:"Module"})),qw=$.createContext(void 0),AL=({children:i})=>{const[e,n]=$.useState(null),[s,o]=$.useState(!0);return $.useEffect(()=>Hw(c=>{if(n(c||null),o(!1),c){const d={...c,claims:c.claims||{}};try{console.debug("[AuthProvider] persist user:",{uid:d.uid||d.user?.uid||null,type:d.userType||d.type||null,approved:!!d.approved}),localStorage.setItem("bloodlink_user",JSON.stringify(d))}catch{}}else try{localStorage.removeItem("bloodlink_user")}catch{}}),[]),qe.jsx(qw.Provider,{value:{user:e,loading:s,signOut:Fw},children:i})},wL=()=>{const i=$.useContext(qw);if(!i)throw new Error("useAuth must be used within AuthProvider");return i};function ph({children:i,allowedRoles:e,requireApproved:n}){const{user:s,loading:o}=wL();if(o)return null;if(!s)return qe.jsx(oh,{to:"/auth",replace:!0});const u=(s.userType||s.type||"").toString().toLowerCase(),d=!!(s.claims&&(s.claims.superAdmin||s.claims.superadmin))?"superadmin":u.includes("blood")?"bloodbank":u.includes("admin")?"superadmin":"donor";if(e&&!e.includes(d))return qe.jsx(oh,{to:"/",replace:!0});if(n&&d==="bloodbank"){const p=!!s.approved;if((s.status||"").toString().toLowerCase()==="rejected")return qe.jsx(oh,{to:"/access-revoked",replace:!0});if(!p)return qe.jsx(oh,{to:"/",replace:!0})}return qe.jsx(qe.Fragment,{children:i})}const bL=$.lazy(()=>nn(()=>import("./page-eoN-7b4o.js"),__vite__mapDeps([0,1,2,3]))),RL=$.lazy(()=>nn(()=>import("./page-zEFwpBlv.js"),__vite__mapDeps([4,1,2]))),IL=$.lazy(()=>nn(()=>import("./page-CVzEVKGf.js"),__vite__mapDeps([5,1,2]))),CL=$.lazy(()=>nn(()=>import("./page-Bm7r3mol.js"),__vite__mapDeps([6,1,2,3]))),DL=$.lazy(()=>nn(()=>import("./page-CelyTULn.js"),__vite__mapDeps([7,1,2,3]))),OL=$.lazy(()=>nn(()=>import("./page-9LME2Dr5.js"),__vite__mapDeps([8,1,2,3]))),NL=$.lazy(()=>nn(()=>import("./page-D0x8EEFT.js"),__vite__mapDeps([9,1,2,3]))),xL=$.lazy(()=>nn(()=>import("./page-BEW1gqpq.js"),__vite__mapDeps([10,1,2,3]))),VL=$.lazy(()=>nn(()=>import("./page-BgYx1qOU.js"),__vite__mapDeps([11,1,2,3]))),ML=$.lazy(()=>nn(()=>import("./page-mdzxi1Mh.js"),__vite__mapDeps([12,1,2,3]))),LL=$.lazy(()=>nn(()=>import("./page-4GELJ9AM.js"),__vite__mapDeps([13,1,2,3]))),PL=$.lazy(()=>nn(()=>import("./page-IZW6Z5He.js"),__vite__mapDeps([14,1,2,3]))),kL=$.lazy(()=>nn(()=>import("./page-CRBBMLXg.js"),__vite__mapDeps([15,1,2,3]))),UL=$.lazy(()=>nn(()=>import("./page-BotTclkn.js"),__vite__mapDeps([16,1,2,3]))),zL=$.lazy(()=>nn(()=>import("./page-mAynIQ4c.js"),__vite__mapDeps([17,1]))),BL=$.lazy(()=>nn(()=>import("./NotFound-EbBZPG5Q.js"),[])),jL=[{path:"/",element:qe.jsx(bL,{})},{path:"/about",element:qe.jsx(RL,{})},{path:"/auth",element:qe.jsx(IL,{})},{path:"/request",element:qe.jsx(CL,{})},{path:"/donate",element:qe.jsx(DL,{})},{path:"/profile",element:qe.jsx(OL,{})},{path:"/blood-banks",element:qe.jsx(NL,{})},{path:"/blood-banks/:id",element:qe.jsx(xL,{})},{path:"/blood-banks/dashboard",element:qe.jsx(ph,{allowedRoles:["bloodbank"],requireApproved:!0,children:qe.jsx(VL,{})})},{path:"/donor/dashboard",element:qe.jsx(ph,{allowedRoles:["donor"],children:qe.jsx(ML,{})})},{path:"/facilities",element:qe.jsx(LL,{})},{path:"/facilities/:id",element:qe.jsx(PL,{})},{path:"/facilities/dashboard",element:qe.jsx(ph,{allowedRoles:["bloodbank"],requireApproved:!0,children:qe.jsx(kL,{})})},{path:"/admin/dashboard",element:qe.jsx(ph,{allowedRoles:["superadmin"],children:qe.jsx(UL,{})})},{path:"/access-revoked",element:qe.jsx(zL,{})},{path:"*",element:qe.jsx(BL,{})}];let Gw;new Promise(i=>{Gw=i});function FL(){const i=YR(jL);if(!window.REACT_APP_NAVIGATE){const e=Mp();$.useEffect(()=>{window.REACT_APP_NAVIGATE=e,Gw(window.REACT_APP_NAVIGATE)})}return i}function HL(){return qe.jsx(NI,{basename:"/",children:qe.jsx(FL,{})})}vR.createRoot(document.getElementById("root")).render(qe.jsx($.StrictMode,{children:qe.jsx(AL,{children:qe.jsx(HL,{})})}));export{G0 as L,Je as T,nn as _,SL as a,EL as b,qL as c,wL as d,$L as e,Tr as f,YL as g,KL as h,Er as i,qe as j,QL as k,vs as l,XL as m,$ as r,TL as s,Mp as u};
//# sourceMappingURL=index-BKgZRCvf.js.map
