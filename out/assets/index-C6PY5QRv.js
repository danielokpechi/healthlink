const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/page-C2YMXTVh.js","assets/Footer-BepvwvVu.js","assets/Card-D3mEm6qj.js","assets/page-C6YDVofL.js","assets/page-D12tzNbF.js","assets/page-CeL9L42m.js","assets/page-DKdaObWG.js","assets/page-WoHDNzYT.js","assets/page-Dh9y8-2O.js","assets/Badge-B-7gq-4s.js","assets/blood-bank-C40kJasn.js","assets/page-DErFgPyP.js","assets/page-DqZ5JREc.js","assets/page-BNB2_9mm.js","assets/page-DfwD-11L.js","assets/page-JSPdQ9j4.js","assets/page-BSpxYVPJ.js","assets/page-oy4ispwz.js","assets/page-YlOaqrow.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Lp={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function z1(){if(mE)return Fl;mE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=t,Fl.jsxs=t,Fl}var gE;function B1(){return gE||(gE=1,Lp.exports=z1()),Lp.exports}var ze=B1(),Pp={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function j1(){if(yE)return Ae;yE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,q={};function te(O,Y,se){this.props=O,this.context=Y,this.refs=q,this.updater=se||P}te.prototype.isReactComponent={},te.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},te.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ee(){}ee.prototype=te.prototype;function re(O,Y,se){this.props=O,this.context=Y,this.refs=q,this.updater=se||P}var pe=re.prototype=new ee;pe.constructor=re,K(pe,te.prototype),pe.isPureReactComponent=!0;var _e=Array.isArray;function Te(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,Y,se){var oe=se.ref;return{$$typeof:i,type:O,key:Y,ref:oe!==void 0?oe:null,props:se}}function M(O,Y){return R(O.type,Y,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Y[se]})}var I=/\/+/g;function xe(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function ht(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Te,Te):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,se,oe,ve){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Ie){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case i:case e:Be=!0;break;case v:return Be=O._init,G(Be(O._payload),Y,se,oe,ve)}}if(Be)return ve=ve(O),Be=oe===""?"."+xe(O,0):oe,_e(ve)?(se="",Be!=null&&(se=Be.replace(I,"$&/")+"/"),G(ve,Y,se,"",function(bs){return bs})):ve!=null&&(x(ve)&&(ve=M(ve,se+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+Be)),Y.push(ve)),1;Be=0;var Vt=oe===""?".":oe+":";if(_e(O))for(var at=0;at<O.length;at++)oe=O[at],Ie=Vt+xe(oe,at),Be+=G(oe,Y,se,Ie,ve);else if(at=N(O),typeof at=="function")for(O=at.call(O),at=0;!(oe=O.next()).done;)oe=oe.value,Ie=Vt+xe(oe,at++),Be+=G(oe,Y,se,Ie,ve);else if(Ie==="object"){if(typeof O.then=="function")return G(ht(O),Y,se,oe,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ne(O,Y,se){if(O==null)return O;var oe=[],ve=0;return G(O,oe,"","",function(Ie){return Y.call(se,Ie,ve++)}),oe}function he(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var De=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qe={map:ne,forEach:function(O,Y,se){ne(O,function(){Y.apply(this,arguments)},se)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=T,Ae.Children=qe,Ae.Component=te,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=re,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,Y,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=K({},O.props),ve=O.key;if(Y!=null)for(Ie in Y.key!==void 0&&(ve=""+Y.key),Y)!b.call(Y,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&Y.ref===void 0||(oe[Ie]=Y[Ie]);var Ie=arguments.length-2;if(Ie===1)oe.children=se;else if(1<Ie){for(var Be=Array(Ie),Vt=0;Vt<Ie;Vt++)Be[Vt]=arguments[Vt+2];oe.children=Be}return R(O.type,ve,oe)},Ae.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ae.createElement=function(O,Y,se){var oe,ve={},Ie=null;if(Y!=null)for(oe in Y.key!==void 0&&(Ie=""+Y.key),Y)b.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ve[oe]=Y[oe]);var Be=arguments.length-2;if(Be===1)ve.children=se;else if(1<Be){for(var Vt=Array(Be),at=0;at<Be;at++)Vt[at]=arguments[at+2];ve.children=Vt}if(O&&O.defaultProps)for(oe in Be=O.defaultProps,Be)ve[oe]===void 0&&(ve[oe]=Be[oe]);return R(O,Ie,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:d,render:O}},Ae.isValidElement=x,Ae.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:he}},Ae.memo=function(O,Y){return{$$typeof:g,type:O,compare:Y===void 0?null:Y}},Ae.startTransition=function(O){var Y=C.T,se={};C.T=se;try{var oe=O(),ve=C.S;ve!==null&&ve(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Te,De)}catch(Ie){De(Ie)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),C.T=Y}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(O){return C.H.use(O)},Ae.useActionState=function(O,Y,se){return C.H.useActionState(O,Y,se)},Ae.useCallback=function(O,Y){return C.H.useCallback(O,Y)},Ae.useContext=function(O){return C.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},Ae.useEffect=function(O,Y){return C.H.useEffect(O,Y)},Ae.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(O,Y,se){return C.H.useImperativeHandle(O,Y,se)},Ae.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},Ae.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},Ae.useMemo=function(O,Y){return C.H.useMemo(O,Y)},Ae.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},Ae.useReducer=function(O,Y,se){return C.H.useReducer(O,Y,se)},Ae.useRef=function(O){return C.H.useRef(O)},Ae.useState=function(O){return C.H.useState(O)},Ae.useSyncExternalStore=function(O,Y,se){return C.H.useSyncExternalStore(O,Y,se)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.0",Ae}var _E;function km(){return _E||(_E=1,Pp.exports=j1()),Pp.exports}var $=km();const Ee=i=>typeof i=="string",Hl=()=>{let i,e;const t=new Promise((s,o)=>{i=s,e=o});return t.resolve=i,t.reject=e,t},vE=i=>i==null?"":""+i,q1=(i,e,t)=>{i.forEach(s=>{e[s]&&(t[s]=e[s])})},F1=/###/g,EE=i=>i&&i.indexOf("###")>-1?i.replace(F1,"."):i,TE=i=>!i||Ee(i),eu=(i,e,t)=>{const s=Ee(e)?e.split("."):e;let o=0;for(;o<s.length-1;){if(TE(i))return{};const u=EE(s[o]);!i[u]&&t&&(i[u]=new t),Object.prototype.hasOwnProperty.call(i,u)?i=i[u]:i={},++o}return TE(i)?{}:{obj:i,k:EE(s[o])}},SE=(i,e,t)=>{const{obj:s,k:o}=eu(i,e,Object);if(s!==void 0||e.length===1){s[o]=t;return}let u=e[e.length-1],c=e.slice(0,e.length-1),d=eu(i,c,Object);for(;d.obj===void 0&&c.length;)u=`${c[c.length-1]}.${u}`,c=c.slice(0,c.length-1),d=eu(i,c,Object),d?.obj&&typeof d.obj[`${d.k}.${u}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${u}`]=t},H1=(i,e,t,s)=>{const{obj:o,k:u}=eu(i,e,Object);o[u]=o[u]||[],o[u].push(t)},Vh=(i,e)=>{const{obj:t,k:s}=eu(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,s))return t[s]},G1=(i,e,t)=>{const s=Vh(i,t);return s!==void 0?s:Vh(e,t)},U0=(i,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in i?Ee(i[s])||i[s]instanceof String||Ee(e[s])||e[s]instanceof String?t&&(i[s]=e[s]):U0(i[s],e[s],t):i[s]=e[s]);return i},uo=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var $1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const K1=i=>Ee(i)?i.replace(/[&<>"'\/]/g,e=>$1[e]):i;class Q1{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Y1=[" ",",","?","!",";"],X1=new Q1(20),J1=(i,e,t)=>{e=e||"",t=t||"";const s=Y1.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(s.length===0)return!0;const o=X1.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let u=!o.test(i);if(!u){const c=i.indexOf(t);c>0&&!o.test(i.substring(0,c))&&(u=!0)}return u},sm=(i,e,t=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const s=e.split(t);let o=i;for(let u=0;u<s.length;){if(!o||typeof o!="object")return;let c,d="";for(let m=u;m<s.length;++m)if(m!==u&&(d+=t),d+=s[m],c=o[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&m<s.length-1)continue;u+=m-u+1;break}o=c}return o},lu=i=>i?.replace("_","-"),W1={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){console?.[i]?.apply?.(console,e)}};let Z1=class am{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||W1,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,o){return o&&!this.debug?null:(Ee(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new am(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new am(this.logger,e)}};var Li=new Z1;class rf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const o=this.observers[s].get(t)||0;this.observers[s].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,u])=>{for(let c=0;c<u;c++)o(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,u])=>{for(let c=0;c<u;c++)o.apply(o,[e,...t])})}}class AE extends rf{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,o={}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],s&&(Array.isArray(s)?d.push(...s):Ee(s)&&u?d.push(...s.split(u)):d.push(s)));const m=Vh(this.data,d);return!m&&!t&&!s&&e.indexOf(".")>-1&&(e=d[0],t=d[1],s=d.slice(2).join(".")),m||!c||!Ee(s)?m:sm(this.data?.[e]?.[t],s,u)}addResource(e,t,s,o,u={silent:!1}){const c=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let d=[e,t];s&&(d=d.concat(c?s.split(c):s)),e.indexOf(".")>-1&&(d=e.split("."),o=t,t=d[1]),this.addNamespaces(t),SE(this.data,d,o),u.silent||this.emit("added",e,t,s,o)}addResources(e,t,s,o={silent:!1}){for(const u in s)(Ee(s[u])||Array.isArray(s[u]))&&this.addResource(e,t,u,s[u],{silent:!0});o.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,o,u,c={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),o=s,s=t,t=d[1]),this.addNamespaces(t);let m=Vh(this.data,d)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),o?U0(m,s,u):m={...m,...s},SE(this.data,d,m),c.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var z0={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,s,o){return i.forEach(u=>{e=this.processors[u]?.process(e,t,s,o)??e}),e}};const B0=Symbol("i18next/PATH_KEY");function eR(){const i=[],e=Object.create(null);let t;return e.get=(s,o)=>(t?.revoke?.(),o===B0?i:(i.push(o),t=Proxy.revocable(s,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function om(i,e){const{[B0]:t}=i(eR());return t.join(e?.keySeparator??".")}const wE={},bE=i=>!Ee(i)&&typeof i!="boolean"&&typeof i!="number";class Mh extends rf{constructor(e,t={}){super(),q1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Li.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};return e==null?!1:this.resolve(e,s)?.res!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let u=t.ns||this.options.defaultNS||[];const c=s&&e.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!J1(e,s,o);if(c&&!d){const m=e.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:e,namespaces:Ee(u)?[u]:u};const g=e.split(s);(s!==o||s===o&&this.options.ns.indexOf(g[0])>-1)&&(u=g.shift()),e=g.join(o)}return{key:e,namespaces:Ee(u)?[u]:u}}translate(e,t,s){let o=typeof t=="object"?{...t}:t;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=om(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const u=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:d,namespaces:m}=this.extractFromKey(e[e.length-1],o),g=m[m.length-1];let v=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const T=o.lng||this.language,w=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T?.toLowerCase()==="cimode")return w?u?{res:`${g}${v}${d}`,usedKey:d,exactUsedKey:d,usedLng:T,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:`${g}${v}${d}`:u?{res:d,usedKey:d,exactUsedKey:d,usedLng:T,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:d;const N=this.resolve(e,o);let P=N?.res;const K=N?.usedKey||d,q=N?.exactUsedKey||d,te=["[object Number]","[object Function]","[object RegExp]"],ee=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,re=!this.i18nFormat||this.i18nFormat.handleAsObject,pe=o.count!==void 0&&!Ee(o.count),_e=Mh.hasDefaultValue(o),Te=pe?this.pluralResolver.getSuffix(T,o.count,o):"",C=o.ordinal&&pe?this.pluralResolver.getSuffix(T,o.count,{ordinal:!1}):"",b=pe&&!o.ordinal&&o.count===0,R=b&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${Te}`]||o[`defaultValue${C}`]||o.defaultValue;let M=P;re&&!P&&_e&&(M=R);const x=bE(M),k=Object.prototype.toString.apply(M);if(re&&M&&x&&te.indexOf(k)<0&&!(Ee(ee)&&Array.isArray(M))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(K,M,{...o,ns:m}):`key '${d} (${this.language})' returned an object instead of string.`;return u?(N.res=I,N.usedParams=this.getUsedParamsDetails(o),N):I}if(c){const I=Array.isArray(M),xe=I?[]:{},ht=I?q:K;for(const G in M)if(Object.prototype.hasOwnProperty.call(M,G)){const ne=`${ht}${c}${G}`;_e&&!P?xe[G]=this.translate(ne,{...o,defaultValue:bE(R)?R[G]:void 0,joinArrays:!1,ns:m}):xe[G]=this.translate(ne,{...o,joinArrays:!1,ns:m}),xe[G]===ne&&(xe[G]=M[G])}P=xe}}else if(re&&Ee(ee)&&Array.isArray(P))P=P.join(ee),P&&(P=this.extendTranslation(P,e,o,s));else{let I=!1,xe=!1;!this.isValidLookup(P)&&_e&&(I=!0,P=R),this.isValidLookup(P)||(xe=!0,P=d);const G=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&xe?void 0:P,ne=_e&&R!==P&&this.options.updateMissing;if(xe||I||ne){if(this.logger.log(ne?"updateKey":"missingKey",T,g,d,ne?R:P),c){const O=this.resolve(d,{...o,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let he=[];const De=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&De&&De[0])for(let O=0;O<De.length;O++)he.push(De[O]);else this.options.saveMissingTo==="all"?he=this.languageUtils.toResolveHierarchy(o.lng||this.language):he.push(o.lng||this.language);const qe=(O,Y,se)=>{const oe=_e&&se!==P?se:G;this.options.missingKeyHandler?this.options.missingKeyHandler(O,g,Y,oe,ne,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(O,g,Y,oe,ne,o),this.emit("missingKey",O,g,Y,P)};this.options.saveMissing&&(this.options.saveMissingPlurals&&pe?he.forEach(O=>{const Y=this.pluralResolver.getSuffixes(O,o);b&&o[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(se=>{qe([O],d+se,o[`defaultValue${se}`]||R)})}):qe(he,d,R))}P=this.extendTranslation(P,e,o,N,s),xe&&P===d&&this.options.appendNamespaceToMissingKey&&(P=`${g}${v}${d}`),(xe||I)&&this.options.parseMissingKeyHandler&&(P=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${v}${d}`:d,I?P:void 0,o))}return u?(N.res=P,N.usedParams=this.getUsedParamsDetails(o),N):P}extendTranslation(e,t,s,o,u){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const m=Ee(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(m){const T=e.match(this.interpolator.nestingRegexp);g=T&&T.length}let v=s.replace&&!Ee(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,s.lng||this.language||o.usedLng,s),m){const T=e.match(this.interpolator.nestingRegexp),w=T&&T.length;g<w&&(s.nest=!1)}!s.lng&&o&&o.res&&(s.lng=this.language||o.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>u?.[0]===T[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,d=Ee(c)?[c]:c;return e!=null&&d?.length&&s.applyPostProcessor!==!1&&(e=z0.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,o,u,c,d;return Ee(e)&&(e=[e]),e.forEach(m=>{if(this.isValidLookup(s))return;const g=this.extractFromKey(m,t),v=g.key;o=v;let T=g.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Ee(t.count),N=w&&!t.ordinal&&t.count===0,P=t.context!==void 0&&(Ee(t.context)||typeof t.context=="number")&&t.context!=="",K=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);T.forEach(q=>{this.isValidLookup(s)||(d=q,!wE[`${K[0]}-${q}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(wE[`${K[0]}-${q}`]=!0,this.logger.warn(`key "${o}" for languages "${K.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),K.forEach(te=>{if(this.isValidLookup(s))return;c=te;const ee=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(ee,v,te,q,t);else{let pe;w&&(pe=this.pluralResolver.getSuffix(te,t.count,t));const _e=`${this.options.pluralSeparator}zero`,Te=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(t.ordinal&&pe.indexOf(Te)===0&&ee.push(v+pe.replace(Te,this.options.pluralSeparator)),ee.push(v+pe),N&&ee.push(v+_e)),P){const C=`${v}${this.options.contextSeparator||"_"}${t.context}`;ee.push(C),w&&(t.ordinal&&pe.indexOf(Te)===0&&ee.push(C+pe.replace(Te,this.options.pluralSeparator)),ee.push(C+pe),N&&ee.push(C+_e))}}let re;for(;re=ee.pop();)this.isValidLookup(s)||(u=re,s=this.getResource(te,q,re,t))}))})}),{res:s,usedKey:o,exactUsedKey:u,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,o):this.resourceStore.getResource(e,t,s,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Ee(e.replace);let o=s?e.replace:e;if(s&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!s){o={...o};for(const u of t)delete o[u]}return o}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}class RE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Li.create("languageUtils")}getScriptPartFromCode(e){if(e=lu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=lu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ee(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const o=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const o=this.getScriptPartFromCode(s);if(this.isSupportedCode(o))return t=o;const u=this.getLanguagePartFromCode(s);if(this.isSupportedCode(u))return t=u;t=this.options.supportedLngs.find(c=>{if(c===u)return c;if(!(c.indexOf("-")<0&&u.indexOf("-")<0)&&(c.indexOf("-")>0&&u.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===u||c.indexOf(u)===0&&u.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ee(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),o=[],u=c=>{c&&(this.isSupportedCode(c)?o.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Ee(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(e))):Ee(e)&&u(this.formatLanguageCode(e)),s.forEach(c=>{o.indexOf(c)<0&&u(this.formatLanguageCode(c))}),o}}const IE={zero:0,one:1,two:2,few:3,many:4,other:5},CE={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tR{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Li.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=lu(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:s,type:o});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let c;try{c=new Intl.PluralRules(s,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),CE;if(!e.match(/-|_/))return CE;const m=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(m,t)}return this.pluralRulesCache[u]=c,c}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(o=>`${t}${o}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((o,u)=>IE[o]-IE[u]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t,s={}){const o=this.getRule(e,s);return o?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const DE=(i,e,t,s=".",o=!0)=>{let u=G1(i,e,t);return!u&&o&&Ee(t)&&(u=sm(i,t,s),u===void 0&&(u=sm(e,t,s))),u},kp=i=>i.replace(/\$/g,"$$$$");class nR{constructor(e={}){this.logger=Li.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:o,prefix:u,prefixEscaped:c,suffix:d,suffixEscaped:m,formatSeparator:g,unescapeSuffix:v,unescapePrefix:T,nestingPrefix:w,nestingPrefixEscaped:N,nestingSuffix:P,nestingSuffixEscaped:K,nestingOptionsSeparator:q,maxReplaces:te,alwaysFormat:ee}=e.interpolation;this.escape=t!==void 0?t:K1,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=u?uo(u):c||"{{",this.suffix=d?uo(d):m||"}}",this.formatSeparator=g||",",this.unescapePrefix=v?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=w?uo(w):N||uo("$t("),this.nestingSuffix=P?uo(P):K||uo(")"),this.nestingOptionsSeparator=q||",",this.maxReplaces=te||1e3,this.alwaysFormat=ee!==void 0?ee:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t?.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,s,o){let u,c,d;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=N=>{if(N.indexOf(this.formatSeparator)<0){const te=DE(t,m,N,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,s,{...o,...t,interpolationkey:N}):te}const P=N.split(this.formatSeparator),K=P.shift().trim(),q=P.join(this.formatSeparator).trim();return this.format(DE(t,m,K,this.options.keySeparator,this.options.ignoreJSONStructure),q,s,{...o,...t,interpolationkey:K})};this.resetRegExp();const v=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,T=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:N=>kp(N)},{regex:this.regexp,safeValue:N=>this.escapeValue?kp(this.escape(N)):kp(N)}].forEach(N=>{for(d=0;u=N.regex.exec(e);){const P=u[1].trim();if(c=g(P),c===void 0)if(typeof v=="function"){const q=v(e,u,o);c=Ee(q)?q:""}else if(o&&Object.prototype.hasOwnProperty.call(o,P))c="";else if(T){c=u[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),c="";else!Ee(c)&&!this.useRawValueToEscape&&(c=vE(c));const K=N.safeValue(c);if(e=e.replace(u[0],K),T?(N.regex.lastIndex+=c.length,N.regex.lastIndex-=u[0].length):N.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,s={}){let o,u,c;const d=(m,g)=>{const v=this.nestingOptionsSeparator;if(m.indexOf(v)<0)return m;const T=m.split(new RegExp(`${v}[ ]*{`));let w=`{${T[1]}`;m=T[0],w=this.interpolate(w,c);const N=w.match(/'/g),P=w.match(/"/g);((N?.length??0)%2===0&&!P||P.length%2!==0)&&(w=w.replace(/'/g,'"'));try{c=JSON.parse(w),g&&(c={...g,...c})}catch(K){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,K),`${m}${v}${w}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,m};for(;o=this.nestingRegexp.exec(e);){let m=[];c={...s},c=c.replace&&!Ee(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const g=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(g!==-1&&(m=o[1].slice(g).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),o[1]=o[1].slice(0,g)),u=t(d.call(this,o[1].trim(),c),c),u&&o[0]===e&&!Ee(u))return u;Ee(u)||(u=vE(u)),u||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),u=""),m.length&&(u=m.reduce((v,T)=>this.format(v,T,s.lng,{...s,interpolationkey:o[1].trim()}),u.trim())),e=e.replace(o[0],u),this.regexp.lastIndex=0}return e}}const iR=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const s=i.split("(");e=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(c=>{if(c){const[d,...m]=c.split(":"),g=m.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=g),g==="false"&&(t[v]=!1),g==="true"&&(t[v]=!0),isNaN(g)||(t[v]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},OE=i=>{const e={};return(t,s,o)=>{let u=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(u={...u,[o.interpolationkey]:void 0});const c=s+JSON.stringify(u);let d=e[c];return d||(d=i(lu(s),o),e[c]=d),d(t)}},rR=i=>(e,t,s)=>i(lu(t),s)(e);class sR{constructor(e={}){this.logger=Li.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?OE:rR;this.formats={number:s((o,u)=>{const c=new Intl.NumberFormat(o,{...u});return d=>c.format(d)}),currency:s((o,u)=>{const c=new Intl.NumberFormat(o,{...u,style:"currency"});return d=>c.format(d)}),datetime:s((o,u)=>{const c=new Intl.DateTimeFormat(o,{...u});return d=>c.format(d)}),relativetime:s((o,u)=>{const c=new Intl.RelativeTimeFormat(o,{...u});return d=>c.format(d,u.range||"day")}),list:s((o,u)=>{const c=new Intl.ListFormat(o,{...u});return d=>c.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=OE(t)}format(e,t,s,o={}){const u=t.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(d=>d.indexOf(")")>-1)){const d=u.findIndex(m=>m.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,d)].join(this.formatSeparator)}return u.reduce((d,m)=>{const{formatName:g,formatOptions:v}=iR(m);if(this.formats[g]){let T=d;try{const w=o?.formatParams?.[o.interpolationkey]||{},N=w.locale||w.lng||o.locale||o.lng||s;T=this.formats[g](d,N,{...v,...o,...w})}catch(w){this.logger.warn(w)}return T}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const aR=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class oR extends rf{constructor(e,t,s,o={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=Li.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,o.backend,o)}queueLoad(e,t,s,o){const u={},c={},d={},m={};return e.forEach(g=>{let v=!0;t.forEach(T=>{const w=`${g}|${T}`;!s.reload&&this.store.hasResourceBundle(g,T)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?c[w]===void 0&&(c[w]=!0):(this.state[w]=1,v=!1,c[w]===void 0&&(c[w]=!0),u[w]===void 0&&(u[w]=!0),m[T]===void 0&&(m[T]=!0)))}),v||(d[g]=!0)}),(Object.keys(u).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(u),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(m)}}loaded(e,t,s){const o=e.split("|"),u=o[0],c=o[1];t&&this.emit("failedLoading",u,c,t),!t&&s&&this.store.addResourceBundle(u,c,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const d={};this.queue.forEach(m=>{H1(m.loaded,[u],c),aR(m,e),t&&m.errors.push(t),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(g=>{d[g]||(d[g]={});const v=m.loaded[g];v.length&&v.forEach(T=>{d[g][T]===void 0&&(d[g][T]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(m=>!m.done)}read(e,t,s,o=0,u=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:o,wait:u,callback:c});return}this.readingCalls++;const d=(g,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(g&&v&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,o+1,u*2,c)},u);return}c(g,v)},m=this.backend[s].bind(this.backend);if(m.length===2){try{const g=m(e,t);g&&typeof g.then=="function"?g.then(v=>d(null,v)).catch(d):d(null,g)}catch(g){d(g)}return}return m(e,t,d)}prepareLoading(e,t,s={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();Ee(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ee(t)&&(t=[t]);const u=this.queueLoad(e,t,s,o);if(!u.toLoad.length)return u.pending.length||o(),null;u.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),o=s[0],u=s[1];this.read(o,u,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${u} for language ${o} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${u} for language ${o}`,d),this.loaded(e,c,d)})}saveMissing(e,t,s,o,u,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const m={...c,isUpdate:u},g=this.backend.create.bind(this.backend);if(g.length<6)try{let v;g.length===5?v=g(e,t,s,o,m):v=g(e,t,s,o),v&&typeof v.then=="function"?v.then(T=>d(null,T)).catch(d):d(null,v)}catch(v){d(v)}else g(e,t,s,o,d,m)}!e||!e[0]||this.store.addResource(e[0],t,s,o)}}}const NE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),Ee(i[1])&&(e.defaultValue=i[1]),Ee(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),xE=i=>(Ee(i.ns)&&(i.ns=[i.ns]),Ee(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),Ee(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs?.indexOf?.("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i),ch=()=>{},lR=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class uu extends rf{constructor(e={},t){if(super(),this.options=xE(e),this.services={},this.logger=Li,this.modules={external:[]},lR(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Ee(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=NE();this.options={...s,...this.options,...xE(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Li.init(o(this.modules.logger),this.options):Li.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=sR;const v=new RE(this.options);this.store=new AE(this.options.resources,this.options);const T=this.services;T.logger=Li,T.resourceStore=this.store,T.languageUtils=v,T.pluralResolver=new tR(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(T.formatter=o(g),T.formatter.init&&T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new nR(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new oR(o(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",(N,...P)=>{this.emit(N,...P)}),this.modules.languageDetector&&(T.languageDetector=o(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=o(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new Mh(this.services,this.options),this.translator.on("*",(N,...P)=>{this.emit(N,...P)}),this.modules.external.forEach(N=>{N.init&&N.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ch),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...v)=>this.store[g](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...v)=>(this.store[g](...v),this)});const d=Hl(),m=()=>{const g=(v,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(T),t(v,T)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),d}loadResources(e,t=ch){let s=t;const o=Ee(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const u=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&u.indexOf(g)<0&&u.push(g)})};o?c(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>c(m)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(u,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(e,t,s){const o=Hl();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=ch),this.services.backendConnector.reload(e,t,u=>{o.resolve(),s(u)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&z0.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=Hl();this.emit("languageChanging",e);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},u=(d,m)=>{m?this.isLanguageChangingTo===e&&(o(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,s.resolve((...g)=>this.t(...g)),t&&t(d,(...g)=>this.t(...g))},c=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const m=Ee(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(Ee(d)?[d]:d);g&&(this.language||o(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,v=>{u(v,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}getFixedT(e,t,s){const o=(u,c,...d)=>{let m;typeof c!="object"?m=this.options.overloadTranslationOptionHandler([u,c].concat(d)):m={...c},m.lng=m.lng||o.lng,m.lngs=m.lngs||o.lngs,m.ns=m.ns||o.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||s||o.keyPrefix);const g=this.options.keySeparator||".";let v;return m.keyPrefix&&Array.isArray(u)?v=u.map(T=>(typeof T=="function"&&(T=om(T,{...this.options,...c})),`${m.keyPrefix}${g}${T}`)):(typeof u=="function"&&(u=om(u,{...this.options,...c})),v=m.keyPrefix?`${m.keyPrefix}${g}${u}`:u),this.t(v,m)};return Ee(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=s,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(d,m)=>{const g=this.services.backendConnector.state[`${d}|${m}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,e)&&(!o||c(u,e)))}loadNamespaces(e,t){const s=Hl();return this.options.ns?(Ee(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{s.resolve(),t&&t(o)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=Hl();Ee(e)&&(e=[e]);const o=this.options.preload||[],u=e.filter(c=>o.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return u.length?(this.options.preload=o.concat(u),this.loadResources(c=>{s.resolve(),t&&t(c)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const u=o.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new RE(NE());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new uu(e,t)}cloneInstance(e={},t=ch){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},u=new uu(o);if((e.debug!==void 0||e.prefix!==void 0)&&(u.logger=u.logger.clone(e)),["store","services","language"].forEach(d=>{u[d]=this[d]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},s){const d=Object.keys(this.store.data).reduce((m,g)=>(m[g]={...this.store.data[g]},m[g]=Object.keys(m[g]).reduce((v,T)=>(v[T]={...m[g][T]},v),m[g]),m),{});u.store=new AE(d,o),u.services.resourceStore=u.store}return u.translator=new Mh(u.services,o),u.translator.on("*",(d,...m)=>{u.emit(d,...m)}),u.init(o,t),u.translator.options=o,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const tn=uu.createInstance();tn.createInstance=uu.createInstance;tn.createInstance;tn.dir;tn.init;tn.loadResources;tn.reloadResources;tn.use;tn.changeLanguage;tn.getFixedT;tn.t;tn.exists;tn.setDefaultNamespace;tn.hasLoadedNamespace;tn.loadNamespaces;tn.loadLanguages;const uR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,cR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},hR=i=>cR[i],fR=i=>i.replace(uR,hR);let VE={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fR};const dR=(i={})=>{VE={...VE,...i}},pR={type:"3rdParty",init(i){dR(i.options.react)}},{slice:mR,forEach:gR}=[];function yR(i){return gR.call(mR.call(arguments,1),e=>{if(e)for(const t in e)i[t]===void 0&&(i[t]=e[t])}),i}function _R(i){return typeof i!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(i))}const ME=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,vR=function(i,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let u=`${i}=${o}`;if(s.maxAge>0){const c=s.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");u+=`; Max-Age=${Math.floor(c)}`}if(s.domain){if(!ME.test(s.domain))throw new TypeError("option domain is invalid");u+=`; Domain=${s.domain}`}if(s.path){if(!ME.test(s.path))throw new TypeError("option path is invalid");u+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(u+="; Partitioned"),u},LE={create(i,e,t,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+t*60*1e3)),s&&(o.domain=s),document.cookie=vR(i,e,o)},read(i){const e=`${i}=`,t=document.cookie.split(";");for(let s=0;s<t.length;s++){let o=t[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(i,e){this.create(i,"",-1,e)}};var ER={name:"cookie",lookup(i){let{lookupCookie:e}=i;if(e&&typeof document<"u")return LE.read(e)||void 0},cacheUserLanguage(i,e){let{lookupCookie:t,cookieMinutes:s,cookieDomain:o,cookieOptions:u}=e;t&&typeof document<"u"&&LE.create(t,i,s,o,u)}},TR={name:"querystring",lookup(i){let{lookupQuerystring:e}=i,t;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let c=0;c<u.length;c++){const d=u[c].indexOf("=");d>0&&u[c].substring(0,d)===e&&(t=u[c].substring(d+1))}}return t}},SR={name:"hash",lookup(i){let{lookupHash:e,lookupFromHashIndex:t}=i,s;if(typeof window<"u"){const{hash:o}=window.location;if(o&&o.length>2){const u=o.substring(1);if(e){const c=u.split("&");for(let d=0;d<c.length;d++){const m=c[d].indexOf("=");m>0&&c[d].substring(0,m)===e&&(s=c[d].substring(m+1))}}if(s)return s;if(!s&&t>-1){const c=o.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?c[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return s}};let co=null;const PE=()=>{if(co!==null)return co;try{if(co=typeof window<"u"&&window.localStorage!==null,!co)return!1;const i="i18next.translate.boo";window.localStorage.setItem(i,"foo"),window.localStorage.removeItem(i)}catch{co=!1}return co};var AR={name:"localStorage",lookup(i){let{lookupLocalStorage:e}=i;if(e&&PE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupLocalStorage:t}=e;t&&PE()&&window.localStorage.setItem(t,i)}};let ho=null;const kE=()=>{if(ho!==null)return ho;try{if(ho=typeof window<"u"&&window.sessionStorage!==null,!ho)return!1;const i="i18next.translate.boo";window.sessionStorage.setItem(i,"foo"),window.sessionStorage.removeItem(i)}catch{ho=!1}return ho};var wR={name:"sessionStorage",lookup(i){let{lookupSessionStorage:e}=i;if(e&&kE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupSessionStorage:t}=e;t&&kE()&&window.sessionStorage.setItem(t,i)}},bR={name:"navigator",lookup(i){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:s,language:o}=navigator;if(t)for(let u=0;u<t.length;u++)e.push(t[u]);s&&e.push(s),o&&e.push(o)}return e.length>0?e:void 0}},RR={name:"htmlTag",lookup(i){let{htmlTag:e}=i,t;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(t=s.getAttribute("lang")),t}},IR={name:"path",lookup(i){let{lookupFromPathIndex:e}=i;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},CR={name:"subdomain",lookup(i){let{lookupFromSubdomainIndex:e}=i;const t=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[t]}};let j0=!1;try{document.cookie,j0=!0}catch{}const q0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];j0||q0.splice(1,1);const DR=()=>({order:q0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:i=>i});class F0{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=yR(t,this.options||{},DR()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(ER),this.addDetector(TR),this.addDetector(AR),this.addDetector(wR),this.addDetector(bR),this.addDetector(RR),this.addDetector(IR),this.addDetector(CR),this.addDetector(SR)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(s=>{if(this.detectors[s]){let o=this.detectors[s].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(t=t.concat(o))}}),t=t.filter(s=>s!=null&&!_R(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}F0.type="languageDetector";const UE=Object.assign({}),Kl={};Object.keys(UE).forEach(i=>{const e=i.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(e){const[,t]=e,s=UE[i];Kl[t]||(Kl[t]={translation:{}}),s.default&&(Kl[t].translation={...Kl[t].translation,...s.default})}});tn.use(F0).use(pR).init({lng:"en",fallbackLng:"en",debug:!1,resources:Kl,interpolation:{escapeValue:!1}});var Up={exports:{}},Gl={},zp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function OR(){return zE||(zE=1,(function(i){function e(G,ne){var he=G.length;G.push(ne);e:for(;0<he;){var De=he-1>>>1,qe=G[De];if(0<o(qe,ne))G[De]=ne,G[he]=qe,he=De;else break e}}function t(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ne=G[0],he=G.pop();if(he!==ne){G[0]=he;e:for(var De=0,qe=G.length,O=qe>>>1;De<O;){var Y=2*(De+1)-1,se=G[Y],oe=Y+1,ve=G[oe];if(0>o(se,he))oe<qe&&0>o(ve,se)?(G[De]=ve,G[oe]=he,De=oe):(G[De]=se,G[Y]=he,De=Y);else if(oe<qe&&0>o(ve,he))G[De]=ve,G[oe]=he,De=oe;else break e}}return ne}function o(G,ne){var he=G.sortIndex-ne.sortIndex;return he!==0?he:G.id-ne.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,T=null,w=3,N=!1,P=!1,K=!1,q=!1,te=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function pe(G){for(var ne=t(g);ne!==null;){if(ne.callback===null)s(g);else if(ne.startTime<=G)s(g),ne.sortIndex=ne.expirationTime,e(m,ne);else break;ne=t(g)}}function _e(G){if(K=!1,pe(G),!P)if(t(m)!==null)P=!0,Te||(Te=!0,k());else{var ne=t(g);ne!==null&&ht(_e,ne.startTime-G)}}var Te=!1,C=-1,b=5,R=-1;function M(){return q?!0:!(i.unstable_now()-R<b)}function x(){if(q=!1,Te){var G=i.unstable_now();R=G;var ne=!0;try{e:{P=!1,K&&(K=!1,ee(C),C=-1),N=!0;var he=w;try{t:{for(pe(G),T=t(m);T!==null&&!(T.expirationTime>G&&M());){var De=T.callback;if(typeof De=="function"){T.callback=null,w=T.priorityLevel;var qe=De(T.expirationTime<=G);if(G=i.unstable_now(),typeof qe=="function"){T.callback=qe,pe(G),ne=!0;break t}T===t(m)&&s(m),pe(G)}else s(m);T=t(m)}if(T!==null)ne=!0;else{var O=t(g);O!==null&&ht(_e,O.startTime-G),ne=!1}}break e}finally{T=null,w=he,N=!1}ne=void 0}}finally{ne?k():Te=!1}}}var k;if(typeof re=="function")k=function(){re(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,xe=I.port2;I.port1.onmessage=x,k=function(){xe.postMessage(null)}}else k=function(){te(x,0)};function ht(G,ne){C=te(function(){G(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(G){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var he=w;w=ne;try{return G()}finally{w=he}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=w;w=G;try{return ne()}finally{w=he}},i.unstable_scheduleCallback=function(G,ne,he){var De=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?De+he:De):he=De,G){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=he+qe,G={id:v++,callback:ne,priorityLevel:G,startTime:he,expirationTime:qe,sortIndex:-1},he>De?(G.sortIndex=he,e(g,G),t(m)===null&&G===t(g)&&(K?(ee(C),C=-1):K=!0,ht(_e,he-De))):(G.sortIndex=qe,e(m,G),P||N||(P=!0,Te||(Te=!0,k()))),G},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(G){var ne=w;return function(){var he=w;w=ne;try{return G.apply(this,arguments)}finally{w=he}}}})(Bp)),Bp}var BE;function NR(){return BE||(BE=1,zp.exports=OR()),zp.exports}var jp={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function xR(){if(jE)return Xt;jE=1;var i=km();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},Xt.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},Xt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Xt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Xt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:N}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Xt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Xt.requestFormReset=function(m){s.d.r(m)},Xt.unstable_batchedUpdates=function(m,g){return m(g)},Xt.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var qE;function VR(){if(qE)return jp.exports;qE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jp.exports=xR(),jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function MR(){if(FE)return Gl;FE=1;var i=NR(),e=km(),t=VR();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return m(f),n;if(p===l)return m(f),r;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=p;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=p;break}if(S===l){_=!0,l=f,a=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===a){_=!0,a=p,l=f;break}if(S===l){_=!0,l=p,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),re=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case K:return"Fragment";case te:return"Profiler";case q:return"StrictMode";case _e:return"Suspense";case Te:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case re:return n.displayName||"Context";case ee:return(n._context.displayName||"Context")+".Consumer";case pe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return r=n.displayName||null,r!==null?r:xe(n.type)||"Memo";case b:r=n._payload,n=n._init;try{return xe(n(r))}catch{}}return null}var ht=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},De=[],qe=-1;function O(n){return{current:n}}function Y(n){0>qe||(n.current=De[qe],De[qe]=null,qe--)}function se(n,r){qe++,De[qe]=n.current,n.current=r}var oe=O(null),ve=O(null),Ie=O(null),Be=O(null);function Vt(n,r){switch(se(Ie,r),se(ve,n),se(oe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Uv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Uv(r),n=zv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Y(oe),se(oe,n)}function at(){Y(oe),Y(ve),Y(Ie)}function bs(n){n.memoizedState!==null&&se(Be,n);var r=oe.current,a=zv(r,n.type);r!==a&&(se(ve,n),se(oe,a))}function va(n){ve.current===n&&(Y(oe),Y(ve)),Be.current===n&&(Y(Be),zl._currentValue=he)}var Ea,Ta;function fi(n){if(Ea===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ea=r&&r[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+n+Ta}var zo=!1;function Rs(n,r){if(!n||zo)return"";zo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var j=H}Reflect.construct(n,[],W)}else{try{W.call()}catch(H){j=H}n.call(W.prototype)}}else{try{throw Error()}catch(H){j=H}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),_=p[0],S=p[1];if(_&&S){var D=_.split(`
`),B=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var Q=`
`+D[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=f);break}}}finally{zo=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?fi(a):""}function Bo(n,r){switch(n.tag){case 26:case 27:case 5:return fi(n.type);case 16:return fi("Lazy");case 13:return n.child!==r&&r!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Rs(n.type,!1);case 11:return Rs(n.type.render,!1);case 1:return Rs(n.type,!0);case 31:return fi("Activity");default:return""}}function jo(n){try{var r="",a=null;do r+=Bo(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,wr=i.unstable_cancelCallback,kf=i.unstable_shouldYield,Lu=i.unstable_requestPaint,rn=i.unstable_now,Is=i.unstable_getCurrentPriorityLevel,qo=i.unstable_ImmediatePriority,Fo=i.unstable_UserBlockingPriority,br=i.unstable_NormalPriority,Uf=i.unstable_LowPriority,Pu=i.unstable_IdlePriority,ku=i.log,Uu=i.unstable_setDisableYieldValue,$n=null,jt=null;function Dn(n){if(typeof ku=="function"&&Uu(n),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode($n,n)}catch{}}var mt=Math.clz32?Math.clz32:Bu,zu=Math.log,Sa=Math.LN2;function Bu(n){return n>>>=0,n===0?32:31-(zu(n)/Sa|0)|0}var di=256,Cs=262144,Tt=4194304;function pi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mi(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?f=pi(l):(_&=S,_!==0?f=pi(_):a||(a=S&~n,a!==0&&(f=pi(a))))):(S=l&~p,S!==0?f=pi(S):_!==0?f=pi(_):a||(a=l&~n,a!==0&&(f=pi(a)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,a=r&-r,p>=a||p===32&&(a&4194048)!==0)?r:f}function Kn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function zf(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var n=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),n}function gi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ds(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bf(n,r,a,l,f,p){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,B=n.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-mt(a),W=1<<Q;S[Q]=0,D[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&Os(n,l,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~r))}function Os(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-mt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Ho(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-mt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function Go(n,r){var a=r&-r;return a=(a&42)!==0?1:Ns(a),(a&(n.suspendedLanes|r))!==0?0:a}function Ns(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Gi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function qu(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:lE(n.type))}function Qn(n,r){var a=ne.p;try{return ne.p=n,r()}finally{ne.p=a}}var Yn=Math.random().toString(36).slice(2),St="__reactFiber$"+Yn,kt="__reactProps$"+Yn,yi="__reactContainer$"+Yn,Aa="__reactEvents$"+Yn,jf="__reactListeners$"+Yn,Fu="__reactHandles$"+Yn,Hu="__reactResources$"+Yn,_i="__reactMarker$"+Yn;function wa(n){delete n[St],delete n[kt],delete n[Aa],delete n[jf],delete n[Fu]}function vi(n){var r=n[St];if(r)return r;for(var a=n.parentNode;a;){if(r=a[yi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=$v(n);n!==null;){if(a=n[St])return a;n=$v(n)}return r}n=a,a=n.parentNode}return null}function On(n){if(n=n[St]||n[yi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function _n(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Ei(n){var r=n[Hu];return r||(r=n[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(n){n[_i]=!0}var $o=new Set,Ko={};function Ti(n,r){Si(n,r),Si(n+"Capture",r)}function Si(n,r){for(Ko[n]=r,n=0;n<r.length;n++)$o.add(r[n])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Xo={};function Gu(n){return Et.call(Xo,n)?!0:Et.call(Yo,n)?!1:Qo.test(n)?Xo[n]=!0:(Yo[n]=!0,!1)}function ba(n,r,a){if(Gu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function vn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function wt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function Ut(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Rr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Jo(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,p.call(this,_)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Qe(n){if(!n._valueTracker){var r=Rr(n)?"checked":"value";n._valueTracker=Jo(n,r,""+n[r])}}function xs(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Rr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ai(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vs=/[\n"\\]/g;function on(n){return n.replace(Vs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ra(n,r,a,l,f,p,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ut(r)):n.value!==""+Ut(r)&&(n.value=""+Ut(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Wo(n,_,Ut(r)):a!=null?Wo(n,_,Ut(a)):l!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+Ut(S):n.removeAttribute("name")}function $u(n,r,a,l,f,p,_,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Qe(n);return}a=a!=null?""+Ut(a):"",r=r!=null?""+Ut(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Qe(n)}function Wo(n,r,a){r==="number"&&Ai(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ir(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Ut(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ku(n,r,a){if(r!=null&&(r=""+Ut(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+Ut(a):""}function Cr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ut(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Qe(n)}function ln(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Qu.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function el(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Zo(n,f,l)}else for(var p in r)r.hasOwnProperty(p)&&Zo(n,p,r[p])}function Ia(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(n){return Dr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Xn(){}var tl=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Or=null,wi=null;function Ms(n){var r=On(n);if(r&&(n=r.stateNode)){var a=n[kt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Ra(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[kt]||null;if(!f)throw Error(s(90));Ra(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&xs(l)}break e;case"textarea":Ku(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(n,!!a.multiple,r,!1)}}}var Da=!1;function Nr(n,r,a){if(Da)return n(r,a);Da=!0;try{var l=n(r);return l}finally{if(Da=!1,(Or!==null||wi!==null)&&(qc(),Or&&(r=Or,n=wi,wi=Or=null,Ms(r),n)))for(r=0;r<n.length;r++)Ms(n[r])}}function Jn(n,r){var a=n.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(xn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ls=!1}var bi=null,nl=null,Ps=null;function il(){if(Ps)return Ps;var n,r=nl,a=r.length,l,f="value"in bi?bi.value:bi.textContent,p=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===f[p-l];l++);return Ps=f.slice(n,1<l?1-l:void 0)}function ks(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function $i(){return!0}function Wn(){return!1}function qt(n){function r(a,l,f,p,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$i:Wn,this.isPropagationStopped=Wn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),r}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=qt(Ki),xr=T({},Ki,{view:0,detail:0}),rl=qt(xr),Vr,Oa,Ii,Na=T({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ii&&(Ii&&n.type==="mousemove"?(Vr=n.screenX-Ii.screenX,Oa=n.screenY-Ii.screenY):Oa=Vr=0,Ii=n),Vr)},movementY:function(n){return"movementY"in n?n.movementY:Oa}}),sl=qt(Na),Us=T({},Na,{dataTransfer:0}),Xu=qt(Us),Ju=T({},xr,{relatedTarget:0}),zs=qt(Ju),al=T({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=qt(al),xa=T({},Ki,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Zu=qt(xa),ec=T({},Ki,{data:0}),Ci=qt(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ic[n])?!!r[n]:!1}function Mr(){return rc}var sn=T({},xr,{key:function(n){if(n.key){var r=tc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ks(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(n){return n.type==="keypress"?ks(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ks(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),sc=qt(sn),ac=T({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=qt(ac),h=T({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),y=qt(h),E=T({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(E),U=T({},Na,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),F=qt(U),ie=T({},Ki,{newState:0,oldState:0}),be=qt(ie),gt=[9,13,27,32],Ge=xn&&"CompositionEvent"in window,ot=null;xn&&"documentMode"in document&&(ot=document.documentMode);var Vn=xn&&"TextEvent"in window&&!ot,Di=xn&&(!Ge||ot&&8<ot&&11>=ot),Zn=" ",ei=!1;function Bs(n,r){switch(n){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ma=!1;function ub(n,r){switch(n){case"compositionend":return Va(r);case"keypress":return r.which!==32?null:(ei=!0,Zn);case"textInput":return n=r.data,n===Zn&&ei?null:n;default:return null}}function cb(n,r){if(Ma)return n==="compositionend"||!Ge&&Bs(n,r)?(n=il(),Ps=nl=bi=null,Ma=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Di&&r.locale!=="ko"?null:r.data;default:return null}}var hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yg(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!hb[n.type]:r==="textarea"}function Xg(n,r,a,l){Or?wi?wi.push(l):wi=[l]:Or=l,r=Yc(r,"onChange"),0<r.length&&(a=new Ri("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var ol=null,ll=null;function fb(n){xv(n,0)}function oc(n){var r=_n(n);if(xs(r))return n}function Jg(n,r){if(n==="change")return r}var Wg=!1;if(xn){var qf;if(xn){var Ff="oninput"in document;if(!Ff){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Ff=typeof Zg.oninput=="function"}qf=Ff}else qf=!1;Wg=qf&&(!document.documentMode||9<document.documentMode)}function ey(){ol&&(ol.detachEvent("onpropertychange",ty),ll=ol=null)}function ty(n){if(n.propertyName==="value"&&oc(ll)){var r=[];Xg(r,ll,n,Nn(n)),Nr(fb,r)}}function db(n,r,a){n==="focusin"?(ey(),ol=r,ll=a,ol.attachEvent("onpropertychange",ty)):n==="focusout"&&ey()}function pb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return oc(ll)}function mb(n,r){if(n==="click")return oc(r)}function gb(n,r){if(n==="input"||n==="change")return oc(r)}function yb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var En=typeof Object.is=="function"?Object.is:yb;function ul(n,r){if(En(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Et.call(r,f)||!En(n[f],r[f]))return!1}return!0}function ny(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function iy(n,r){var a=ny(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ny(a)}}function ry(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ry(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function sy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ai(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ai(n.document)}return r}function Hf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var _b=xn&&"documentMode"in document&&11>=document.documentMode,La=null,Gf=null,cl=null,$f=!1;function ay(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$f||La==null||La!==Ai(l)||(l=La,"selectionStart"in l&&Hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Yc(Gf,"onSelect"),0<l.length&&(r=new Ri("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=La)))}function js(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Pa={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Kf={},oy={};xn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function qs(n){if(Kf[n])return Kf[n];if(!Pa[n])return n;var r=Pa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in oy)return Kf[n]=r[a];return n}var ly=qs("animationend"),uy=qs("animationiteration"),cy=qs("animationstart"),vb=qs("transitionrun"),Eb=qs("transitionstart"),Tb=qs("transitioncancel"),hy=qs("transitionend"),fy=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function ti(n,r){fy.set(n,r),Ti(r,[n])}var lc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Mn=[],ka=0,Yf=0;function uc(){for(var n=ka,r=Yf=ka=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var f=Mn[r];Mn[r++]=null;var p=Mn[r];if(Mn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}p!==0&&dy(a,f,p)}}function cc(n,r,a,l){Mn[ka++]=n,Mn[ka++]=r,Mn[ka++]=a,Mn[ka++]=l,Yf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Xf(n,r,a,l){return cc(n,r,a,l),hc(n)}function Fs(n,r){return cc(n,null,null,r),hc(n)}function dy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,p=n.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&r!==null&&(f=31-mt(a),n=p.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),p):null}function hc(n){if(50<xl)throw xl=0,sp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ua={};function Sb(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(n,r,a,l){return new Sb(n,r,a,l)}function Jf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yi(n,r){var a=n.alternate;return a===null?(a=Tn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function py(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function fc(n,r,a,l,f,p){var _=0;if(l=n,typeof n=="function")Jf(n)&&(_=1);else if(typeof n=="string")_=I1(n,a,oe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Tn(31,a,r,f),n.elementType=R,n.lanes=p,n;case K:return Hs(a.children,f,p,r);case q:_=8,f|=24;break;case te:return n=Tn(12,a,r,f|2),n.elementType=te,n.lanes=p,n;case _e:return n=Tn(13,a,r,f),n.elementType=_e,n.lanes=p,n;case Te:return n=Tn(19,a,r,f),n.elementType=Te,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case re:_=10;break e;case ee:_=9;break e;case pe:_=11;break e;case C:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Tn(_,a,r,f),r.elementType=n,r.type=l,r.lanes=p,r}function Hs(n,r,a,l){return n=Tn(7,n,l,r),n.lanes=a,n}function Wf(n,r,a){return n=Tn(6,n,null,r),n.lanes=a,n}function my(n){var r=Tn(18,null,null,0);return r.stateNode=n,r}function Zf(n,r,a){return r=Tn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var gy=new WeakMap;function Ln(n,r){if(typeof n=="object"&&n!==null){var a=gy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:jo(r)},gy.set(n,r),r)}return{value:n,source:r,stack:jo(r)}}var za=[],Ba=0,dc=null,hl=0,Pn=[],kn=0,Lr=null,Oi=1,Ni="";function Xi(n,r){za[Ba++]=hl,za[Ba++]=dc,dc=n,hl=r}function yy(n,r,a){Pn[kn++]=Oi,Pn[kn++]=Ni,Pn[kn++]=Lr,Lr=n;var l=Oi;n=Ni;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var p=32-mt(r)+f;if(30<p){var _=f-f%5;p=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Oi=1<<32-mt(r)+f|a<<f|l,Ni=p+n}else Oi=1<<p|a<<f|l,Ni=n}function ed(n){n.return!==null&&(Xi(n,1),yy(n,1,0))}function td(n){for(;n===dc;)dc=za[--Ba],za[Ba]=null,hl=za[--Ba],za[Ba]=null;for(;n===Lr;)Lr=Pn[--kn],Pn[kn]=null,Ni=Pn[--kn],Pn[kn]=null,Oi=Pn[--kn],Pn[kn]=null}function _y(n,r){Pn[kn++]=Oi,Pn[kn++]=Ni,Pn[kn++]=Lr,Oi=r.id,Ni=r.overflow,Lr=n}var Ft=null,rt=null,Ue=!1,Pr=null,Un=!1,nd=Error(s(519));function kr(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Ln(r,n)),nd}function vy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[St]=n,r[kt]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ne(Ml[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),$u(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),Cr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Pv(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=Xn),r=!0):r=!1,r||kr(n,!0)}function Ey(n){for(Ft=n.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ft=Ft.return}}function ja(n){if(n!==Ft)return!1;if(!Ue)return Ey(n),Ue=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Ep(n.type,n.memoizedProps)),a=!a),a&&rt&&kr(n),Ey(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));rt=Gv(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));rt=Gv(n)}else r===27?(r=rt,Jr(n.type)?(n=bp,bp=null,rt=n):rt=r):rt=Ft?Bn(n.stateNode.nextSibling):null;return!0}function Gs(){rt=Ft=null,Ue=!1}function id(){var n=Pr;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Pr=null),n}function fl(n){Pr===null?Pr=[n]:Pr.push(n)}var rd=O(null),$s=null,Ji=null;function Ur(n,r,a){se(rd,r._currentValue),r._currentValue=a}function Wi(n){n._currentValue=rd.current,Y(rd)}function sd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function ad(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var _=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),sd(p.return,a,n),l||(_=null);break e}p=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,p=_.alternate,p!==null&&(p.lanes|=a),sd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function qa(n,r,a,l){n=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;En(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===Be.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(zl):n=[zl])}f=f.return}n!==null&&ad(r,n,a,l),r.flags|=262144}function pc(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ks(n){$s=n,Ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ht(n){return Ty($s,n)}function mc(n,r){return $s===null&&Ks(n),Ty(n,r)}function Ty(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ji===null){if(n===null)throw Error(s(308));Ji=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ji=Ji.next=r;return a}var Ab=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},wb=i.unstable_scheduleCallback,bb=i.unstable_NormalPriority,bt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new Ab,data:new Map,refCount:0}}function dl(n){n.refCount--,n.refCount===0&&wb(bb,function(){n.controller.abort()})}var pl=null,ld=0,Fa=0,Ha=null;function Rb(n,r){if(pl===null){var a=pl=[];ld=0,Fa=hp(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ld++,r.then(Sy,Sy),r}function Sy(){if(--ld===0&&pl!==null){Ha!==null&&(Ha.status="fulfilled");var n=pl;pl=null,Fa=0,Ha=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Ib(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ay=G.S;G.S=function(n,r){av=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Rb(n,r),Ay!==null&&Ay(n,r)};var Qs=O(null);function ud(){var n=Qs.current;return n!==null?n:nt.pooledCache}function gc(n,r){r===null?se(Qs,Qs.current):se(Qs,r.pool)}function wy(){var n=ud();return n===null?null:{parent:bt._currentValue,pool:n}}var Ga=Error(s(460)),cd=Error(s(474)),yc=Error(s(542)),_c={then:function(){}};function by(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ry(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Xn,Xn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Cy(n),n;default:if(typeof r.status=="string")r.then(Xn,Xn);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Cy(n),n}throw Xs=r,Ga}}function Ys(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,Ga):a}}var Xs=null;function Iy(){if(Xs===null)throw Error(s(459));var n=Xs;return Xs=null,n}function Cy(n){if(n===Ga||n===yc)throw Error(s(483))}var $a=null,ml=0;function vc(n){var r=ml;return ml+=1,$a===null&&($a=[]),Ry($a,n,r)}function gl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ec(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Dy(n){function r(L,V){if(n){var z=L.deletions;z===null?(L.deletions=[V],L.flags|=16):z.push(V)}}function a(L,V){if(!n)return null;for(;V!==null;)r(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=Yi(L,V),L.index=0,L.sibling=null,L}function p(L,V,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<V?(L.flags|=67108866,V):z):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function _(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function S(L,V,z,X){return V===null||V.tag!==6?(V=Wf(z,L.mode,X),V.return=L,V):(V=f(V,z),V.return=L,V)}function D(L,V,z,X){var fe=z.type;return fe===K?Q(L,V,z.props.children,X,z.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Ys(fe)===V.type)?(V=f(V,z.props),gl(V,z),V.return=L,V):(V=fc(z.type,z.key,z.props,null,L.mode,X),gl(V,z),V.return=L,V)}function B(L,V,z,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Zf(z,L.mode,X),V.return=L,V):(V=f(V,z.children||[]),V.return=L,V)}function Q(L,V,z,X,fe){return V===null||V.tag!==7?(V=Hs(z,L.mode,X,fe),V.return=L,V):(V=f(V,z),V.return=L,V)}function W(L,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Wf(""+V,L.mode,z),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return z=fc(V.type,V.key,V.props,null,L.mode,z),gl(z,V),z.return=L,z;case P:return V=Zf(V,L.mode,z),V.return=L,V;case b:return V=Ys(V),W(L,V,z)}if(ht(V)||k(V))return V=Hs(V,L.mode,z,null),V.return=L,V;if(typeof V.then=="function")return W(L,vc(V),z);if(V.$$typeof===re)return W(L,mc(L,V),z);Ec(L,V)}return null}function j(L,V,z,X){var fe=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:S(L,V,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return z.key===fe?D(L,V,z,X):null;case P:return z.key===fe?B(L,V,z,X):null;case b:return z=Ys(z),j(L,V,z,X)}if(ht(z)||k(z))return fe!==null?null:Q(L,V,z,X,null);if(typeof z.then=="function")return j(L,V,vc(z),X);if(z.$$typeof===re)return j(L,V,mc(L,z),X);Ec(L,z)}return null}function H(L,V,z,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,S(V,L,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return L=L.get(X.key===null?z:X.key)||null,D(V,L,X,fe);case P:return L=L.get(X.key===null?z:X.key)||null,B(V,L,X,fe);case b:return X=Ys(X),H(L,V,z,X,fe)}if(ht(X)||k(X))return L=L.get(z)||null,Q(V,L,X,fe,null);if(typeof X.then=="function")return H(L,V,z,vc(X),fe);if(X.$$typeof===re)return H(L,V,z,mc(V,X),fe);Ec(V,X)}return null}function ue(L,V,z,X){for(var fe=null,Fe=null,ce=V,Ce=V=0,Me=null;ce!==null&&Ce<z.length;Ce++){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var He=j(L,ce,z[Ce],X);if(He===null){ce===null&&(ce=Me);break}n&&ce&&He.alternate===null&&r(L,ce),V=p(He,V,Ce),Fe===null?fe=He:Fe.sibling=He,Fe=He,ce=Me}if(Ce===z.length)return a(L,ce),Ue&&Xi(L,Ce),fe;if(ce===null){for(;Ce<z.length;Ce++)ce=W(L,z[Ce],X),ce!==null&&(V=p(ce,V,Ce),Fe===null?fe=ce:Fe.sibling=ce,Fe=ce);return Ue&&Xi(L,Ce),fe}for(ce=l(ce);Ce<z.length;Ce++)Me=H(ce,L,Ce,z[Ce],X),Me!==null&&(n&&Me.alternate!==null&&ce.delete(Me.key===null?Ce:Me.key),V=p(Me,V,Ce),Fe===null?fe=Me:Fe.sibling=Me,Fe=Me);return n&&ce.forEach(function(ns){return r(L,ns)}),Ue&&Xi(L,Ce),fe}function me(L,V,z,X){if(z==null)throw Error(s(151));for(var fe=null,Fe=null,ce=V,Ce=V=0,Me=null,He=z.next();ce!==null&&!He.done;Ce++,He=z.next()){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var ns=j(L,ce,He.value,X);if(ns===null){ce===null&&(ce=Me);break}n&&ce&&ns.alternate===null&&r(L,ce),V=p(ns,V,Ce),Fe===null?fe=ns:Fe.sibling=ns,Fe=ns,ce=Me}if(He.done)return a(L,ce),Ue&&Xi(L,Ce),fe;if(ce===null){for(;!He.done;Ce++,He=z.next())He=W(L,He.value,X),He!==null&&(V=p(He,V,Ce),Fe===null?fe=He:Fe.sibling=He,Fe=He);return Ue&&Xi(L,Ce),fe}for(ce=l(ce);!He.done;Ce++,He=z.next())He=H(ce,L,Ce,He.value,X),He!==null&&(n&&He.alternate!==null&&ce.delete(He.key===null?Ce:He.key),V=p(He,V,Ce),Fe===null?fe=He:Fe.sibling=He,Fe=He);return n&&ce.forEach(function(U1){return r(L,U1)}),Ue&&Xi(L,Ce),fe}function tt(L,V,z,X){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case N:e:{for(var fe=z.key;V!==null;){if(V.key===fe){if(fe=z.type,fe===K){if(V.tag===7){a(L,V.sibling),X=f(V,z.props.children),X.return=L,L=X;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===b&&Ys(fe)===V.type){a(L,V.sibling),X=f(V,z.props),gl(X,z),X.return=L,L=X;break e}a(L,V);break}else r(L,V);V=V.sibling}z.type===K?(X=Hs(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=fc(z.type,z.key,z.props,null,L.mode,X),gl(X,z),X.return=L,L=X)}return _(L);case P:e:{for(fe=z.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(L,V.sibling),X=f(V,z.children||[]),X.return=L,L=X;break e}else{a(L,V);break}else r(L,V);V=V.sibling}X=Zf(z,L.mode,X),X.return=L,L=X}return _(L);case b:return z=Ys(z),tt(L,V,z,X)}if(ht(z))return ue(L,V,z,X);if(k(z)){if(fe=k(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),me(L,V,z,X)}if(typeof z.then=="function")return tt(L,V,vc(z),X);if(z.$$typeof===re)return tt(L,V,mc(L,z),X);Ec(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(L,V.sibling),X=f(V,z),X.return=L,L=X):(a(L,V),X=Wf(z,L.mode,X),X.return=L,L=X),_(L)):a(L,V)}return function(L,V,z,X){try{ml=0;var fe=tt(L,V,z,X);return $a=null,fe}catch(ce){if(ce===Ga||ce===yc)throw ce;var Fe=Tn(29,ce,null,L.mode);return Fe.lanes=X,Fe.return=L,Fe}finally{}}}var Js=Dy(!0),Oy=Dy(!1),zr=!1;function hd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Br(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function jr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=hc(n),dy(n,null,a),r}return cc(n,l,r,a),hc(n)}function yl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ho(n,a)}}function dd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=_:p=p.next=_,a=a.next}while(a!==null);p===null?f=p=r:p=p.next=r}else f=p=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var pd=!1;function _l(){if(pd){var n=Ha;if(n!==null)throw n}}function vl(n,r,a,l){pd=!1;var f=n.updateQueue;zr=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,B=D.next;D.next=null,_===null?p=B:_.next=B,_=D;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==_&&(S===null?Q.firstBaseUpdate=B:S.next=B,Q.lastBaseUpdate=D))}if(p!==null){var W=f.baseState;_=0,Q=B=D=null,S=p;do{var j=S.lane&-536870913,H=j!==S.lane;if(H?(Ve&j)===j:(l&j)===j){j!==0&&j===Fa&&(pd=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ue=n,me=S;j=r;var tt=a;switch(me.tag){case 1:if(ue=me.payload,typeof ue=="function"){W=ue.call(tt,W,j);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=me.payload,j=typeof ue=="function"?ue.call(tt,W,j):ue,j==null)break e;W=T({},W,j);break e;case 2:zr=!0}}j=S.callback,j!==null&&(n.flags|=64,H&&(n.flags|=8192),H=f.callbacks,H===null?f.callbacks=[j]:H.push(j))}else H={lane:j,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(B=Q=H,D=W):Q=Q.next=H,_|=j;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;H=S,S=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Q===null&&(D=W),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,p===null&&(f.shared.lanes=0),$r|=_,n.lanes=_,n.memoizedState=W}}function Ny(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function xy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Ny(a[n],r)}var Ka=O(null),Tc=O(0);function Vy(n,r){n=or,se(Tc,n),se(Ka,r),or=n|r.baseLanes}function md(){se(Tc,or),se(Ka,Ka.current)}function gd(){or=Tc.current,Y(Ka),Y(Tc)}var Sn=O(null),zn=null;function qr(n){var r=n.alternate;se(yt,yt.current&1),se(Sn,n),zn===null&&(r===null||Ka.current!==null||r.memoizedState!==null)&&(zn=n)}function yd(n){se(yt,yt.current),se(Sn,n),zn===null&&(zn=n)}function My(n){n.tag===22?(se(yt,yt.current),se(Sn,n),zn===null&&(zn=n)):Fr()}function Fr(){se(yt,yt.current),se(Sn,Sn.current)}function An(n){Y(Sn),zn===n&&(zn=null),Y(yt)}var yt=O(0);function Sc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ap(a)||wp(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zi=0,Re=null,Ze=null,Rt=null,Ac=!1,Qa=!1,Ws=!1,wc=0,El=0,Ya=null,Cb=0;function ft(){throw Error(s(321))}function _d(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!En(n[a],r[a]))return!1;return!0}function vd(n,r,a,l,f,p){return Zi=p,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=n===null||n.memoizedState===null?y_:Md,Ws=!1,p=a(l,f),Ws=!1,Qa&&(p=Py(r,a,l,f)),Ly(n),p}function Ly(n){G.H=Al;var r=Ze!==null&&Ze.next!==null;if(Zi=0,Rt=Ze=Re=null,Ac=!1,El=0,Ya=null,r)throw Error(s(300));n===null||It||(n=n.dependencies,n!==null&&pc(n)&&(It=!0))}function Py(n,r,a,l){Re=n;var f=0;do{if(Qa&&(Ya=null),El=0,Qa=!1,25<=f)throw Error(s(301));if(f+=1,Rt=Ze=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=__,p=r(a,l)}while(Qa);return p}function Db(){var n=G.H,r=n.useState()[0];return r=typeof r.then=="function"?Tl(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Re.flags|=1024),r}function Ed(){var n=wc!==0;return wc=0,n}function Td(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Sd(n){if(Ac){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ac=!1}Zi=0,Rt=Ze=Re=null,Qa=!1,El=wc=0,Ya=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function _t(){if(Ze===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=Rt===null?Re.memoizedState:Rt.next;if(r!==null)Rt=r,Ze=n;else{if(n===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Re.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(n){var r=El;return El+=1,Ya===null&&(Ya=[]),n=Ry(Ya,n,r),r=Re,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?y_:Md),n}function Rc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Tl(n);if(n.$$typeof===re)return Ht(n)}throw Error(s(438,String(n)))}function Ad(n){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function er(n,r){return typeof r=="function"?r(n):r}function Ic(n){var r=_t();return wd(r,Ze,n)}function wd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,p=l.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}r.baseQueue=f=p,l.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{r=f.next;var S=_=null,D=null,B=r,Q=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Ve&W)===W:(Zi&W)===W){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Fa&&(Q=!0);else if((Zi&j)===j){B=B.next,j===Fa&&(Q=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=W,_=p):D=D.next=W,Re.lanes|=j,$r|=j;W=B.action,Ws&&a(p,W),p=B.hasEagerState?B.eagerState:a(p,W)}else j={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=j,_=p):D=D.next=j,Re.lanes|=W,$r|=W;B=B.next}while(B!==null&&B!==r);if(D===null?_=p:D.next=S,!En(p,n.memoizedState)&&(It=!0,Q&&(a=Ha,a!==null)))throw a;n.memoizedState=p,n.baseState=_,n.baseQueue=D,l.lastRenderedState=p}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function bd(n){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,p=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do p=n(p,_.action),_=_.next;while(_!==f);En(p,r.memoizedState)||(It=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),a.lastRenderedState=p}return[p,l]}function ky(n,r,a){var l=Re,f=_t(),p=Ue;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!En((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,Cd(By.bind(null,l,f,n),[n]),f.getSnapshot!==r||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},zy.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));p||(Zi&127)!==0||Uy(l,r,a)}return a}function Uy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=bc(),Re.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function zy(n,r,a,l){r.value=a,r.getSnapshot=l,jy(r)&&qy(n)}function By(n,r,a){return a(function(){jy(r)&&qy(n)})}function jy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!En(n,a)}catch{return!0}}function qy(n){var r=Fs(n,2);r!==null&&dn(r,n,2)}function Rd(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),Ws){Dn(!0);try{a()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:n},r}function Fy(n,r,a,l){return n.baseState=a,wd(n,Ze,typeof l=="function"?l:er)}function Ob(n,r,a,l,f){if(Oc(n))throw Error(s(485));if(n=r.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};G.T!==null?a(!0):p.isTransition=!1,l(p),a=r.pending,a===null?(p.next=r.pending=p,Hy(r,p)):(p.next=a.next,r.pending=a.next=p)}}function Hy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var p=G.T,_={};G.T=_;try{var S=a(f,l),D=G.S;D!==null&&D(_,S),Gy(n,r,S)}catch(B){Id(n,r,B)}finally{p!==null&&_.types!==null&&(p.types=_.types),G.T=p}}else try{p=a(f,l),Gy(n,r,p)}catch(B){Id(n,r,B)}}function Gy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$y(n,r,l)},function(l){return Id(n,r,l)}):$y(n,r,a)}function $y(n,r,a){r.status="fulfilled",r.value=a,Ky(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Hy(n,a)))}function Id(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ky(r),r=r.next;while(r!==l)}n.action=null}function Ky(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Qy(n,r){return r}function Yy(n,r){if(Ue){var a=nt.formState;if(a!==null){e:{var l=Re;if(Ue){if(rt){t:{for(var f=rt,p=Un;f.nodeType!==8;){if(!p){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){rt=Bn(f.nextSibling),l=f.data==="F!";break e}}kr(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:r},a.queue=l,a=p_.bind(null,Re,l),l.dispatch=a,l=Rd(!1),p=Vd.bind(null,Re,!1,l.queue),l=an(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=Ob.bind(null,Re,f,p,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Xy(n){var r=_t();return Jy(r,Ze,n)}function Jy(n,r,a){if(r=wd(n,r,Qy)[0],n=Ic(er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Tl(r)}catch(_){throw _===Ga?yc:_}else l=r;r=_t();var f=r.queue,p=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Xa(9,{destroy:void 0},Nb.bind(null,f,a),null)),[l,p,n]}function Nb(n,r){n.action=r}function Wy(n){var r=_t(),a=Ze;if(a!==null)return Jy(r,a,n);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Xa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=bc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Zy(){return _t().memoizedState}function Cc(n,r,a,l){var f=an();Re.flags|=n,f.memoizedState=Xa(1|r,{destroy:void 0},a,l===void 0?null:l)}function Dc(n,r,a,l){var f=_t();l=l===void 0?null:l;var p=f.memoizedState.inst;Ze!==null&&l!==null&&_d(l,Ze.memoizedState.deps)?f.memoizedState=Xa(r,p,a,l):(Re.flags|=n,f.memoizedState=Xa(1|r,p,a,l))}function e_(n,r){Cc(8390656,8,n,r)}function Cd(n,r){Dc(2048,8,n,r)}function xb(n){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=bc(),Re.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function t_(n){var r=_t().memoizedState;return xb({ref:r,nextImpl:n}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function n_(n,r){return Dc(4,2,n,r)}function i_(n,r){return Dc(4,4,n,r)}function r_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function s_(n,r,a){a=a!=null?a.concat([n]):null,Dc(4,4,r_.bind(null,r,n),a)}function Dd(){}function a_(n,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&_d(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function o_(n,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&_d(r,l[1]))return l[0];if(l=n(),Ws){Dn(!0);try{n()}finally{Dn(!1)}}return a.memoizedState=[l,r],l}function Od(n,r,a){return a===void 0||(Zi&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=lv(),Re.lanes|=n,$r|=n,a)}function l_(n,r,a,l){return En(a,r)?a:Ka.current!==null?(n=Od(n,a,l),En(n,r)||(It=!0),n):(Zi&42)===0||(Zi&1073741824)!==0&&(Ve&261930)===0?(It=!0,n.memoizedState=a):(n=lv(),Re.lanes|=n,$r|=n,r)}function u_(n,r,a,l,f){var p=ne.p;ne.p=p!==0&&8>p?p:8;var _=G.T,S={};G.T=S,Vd(n,!1,r,a);try{var D=f(),B=G.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=Ib(D,l);Sl(n,r,Q,Rn(n))}else Sl(n,r,l,Rn(n))}catch(W){Sl(n,r,{then:function(){},status:"rejected",reason:W},Rn())}finally{ne.p=p,_!==null&&S.types!==null&&(_.types=S.types),G.T=_}}function Vb(){}function Nd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=c_(n).queue;u_(n,f,r,he,a===null?Vb:function(){return h_(n),a(l)})}function c_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:he},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function h_(n){var r=c_(n);r.next===null&&(r=n.alternate.memoizedState),Sl(n,r.next.queue,{},Rn())}function xd(){return Ht(zl)}function f_(){return _t().memoizedState}function d_(){return _t().memoizedState}function Mb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Rn();n=Br(a);var l=jr(r,n,a);l!==null&&(dn(l,r,a),yl(l,r,a)),r={cache:od()},n.payload=r;return}r=r.return}}function Lb(n,r,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(n)?m_(r,a):(a=Xf(n,r,a,l),a!==null&&(dn(a,n,l),g_(a,r,l)))}function p_(n,r,a){var l=Rn();Sl(n,r,a,l)}function Sl(n,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oc(n))m_(r,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,a);if(f.hasEagerState=!0,f.eagerState=S,En(S,_))return cc(n,r,f,0),nt===null&&uc(),!1}catch{}finally{}if(a=Xf(n,r,f,l),a!==null)return dn(a,n,l),g_(a,r,l),!0}return!1}function Vd(n,r,a,l){if(l={lane:2,revertLane:hp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Oc(n)){if(r)throw Error(s(479))}else r=Xf(n,a,l,2),r!==null&&dn(r,n,2)}function Oc(n){var r=n.alternate;return n===Re||r!==null&&r===Re}function m_(n,r){Qa=Ac=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function g_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Ho(n,a)}}var Al={readContext:Ht,use:Rc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Al.useEffectEvent=ft;var y_={readContext:Ht,use:Rc,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Ht,useEffect:e_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Cc(4194308,4,r_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Cc(4194308,4,n,r)},useInsertionEffect:function(n,r){Cc(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(Ws){Dn(!0);try{n()}finally{Dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var f=a(r);if(Ws){Dn(!0);try{a(r)}finally{Dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Lb.bind(null,Re,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=Rd(n);var r=n.queue,a=p_.bind(null,Re,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Dd,useDeferredValue:function(n,r){var a=an();return Od(a,n,r)},useTransition:function(){var n=Rd(!1);return n=u_.bind(null,Re,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Re,f=an();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Ve&127)!==0||Uy(l,r,a)}f.memoizedState=a;var p={value:a,getSnapshot:r};return f.queue=p,e_(By.bind(null,l,p,n),[n]),l.flags|=2048,Xa(9,{destroy:void 0},zy.bind(null,l,p,a,r),null),a},useId:function(){var n=an(),r=nt.identifierPrefix;if(Ue){var a=Ni,l=Oi;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=wc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Cb++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:xd,useFormState:Yy,useActionState:Yy,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Vd.bind(null,Re,!0,a),a.dispatch=r,[n,r]},useMemoCache:Ad,useCacheRefresh:function(){return an().memoizedState=Mb.bind(null,Re)},useEffectEvent:function(n){var r=an(),a={impl:n};return r.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Md={readContext:Ht,use:Rc,useCallback:a_,useContext:Ht,useEffect:Cd,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:Ic,useRef:Zy,useState:function(){return Ic(er)},useDebugValue:Dd,useDeferredValue:function(n,r){var a=_t();return l_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Ic(er)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:Tl(n),r]},useSyncExternalStore:ky,useId:f_,useHostTransitionStatus:xd,useFormState:Xy,useActionState:Xy,useOptimistic:function(n,r){var a=_t();return Fy(a,Ze,n,r)},useMemoCache:Ad,useCacheRefresh:d_};Md.useEffectEvent=t_;var __={readContext:Ht,use:Rc,useCallback:a_,useContext:Ht,useEffect:Cd,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:bd,useRef:Zy,useState:function(){return bd(er)},useDebugValue:Dd,useDeferredValue:function(n,r){var a=_t();return Ze===null?Od(a,n,r):l_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=bd(er)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:Tl(n),r]},useSyncExternalStore:ky,useId:f_,useHostTransitionStatus:xd,useFormState:Wy,useActionState:Wy,useOptimistic:function(n,r){var a=_t();return Ze!==null?Fy(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:d_};__.useEffectEvent=t_;function Ld(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Pd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Rn(),f=Br(l);f.payload=r,a!=null&&(f.callback=a),r=jr(n,f,l),r!==null&&(dn(r,n,l),yl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Rn(),f=Br(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=jr(n,f,l),r!==null&&(dn(r,n,l),yl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Rn(),l=Br(a);l.tag=2,r!=null&&(l.callback=r),r=jr(n,l,a),r!==null&&(dn(r,n,a),yl(r,n,a))}};function v_(n,r,a,l,f,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,_):r.prototype&&r.prototype.isPureReactComponent?!ul(a,l)||!ul(f,p):!0}function E_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Pd.enqueueReplaceState(r,r.state,null)}function Zs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function T_(n){lc(n)}function S_(n){console.error(n)}function A_(n){lc(n)}function Nc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function w_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(n,r,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(n,r)},a}function b_(n){return n=Br(n),n.tag=3,n}function R_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;n.payload=function(){return f(p)},n.callback=function(){w_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){w_(r,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Pb(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&qa(r,a,f,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Fc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_c?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),lp(n,l,f)),!1;case 22:return a.flags|=65536,l===_c?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),lp(n,l,f)),!1}throw Error(s(435,a.tag))}return lp(n,l,f),Fc(),!1}if(Ue)return r=Sn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nd&&(n=Error(s(422),{cause:l}),fl(Ln(n,a)))):(l!==nd&&(r=Error(s(423),{cause:l}),fl(Ln(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Ln(l,a),f=kd(n.stateNode,l,f),dd(n,f),dt!==4&&(dt=2)),!1;var p=Error(s(520),{cause:l});if(p=Ln(p,a),Nl===null?Nl=[p]:Nl.push(p),dt!==4&&(dt=2),r===null)return!0;l=Ln(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=kd(a.stateNode,l,n),dd(a,n),!1;case 1:if(r=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kr===null||!Kr.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=b_(f),R_(f,n,a,l),dd(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(s(461)),It=!1;function Gt(n,r,a,l){r.child=n===null?Oy(r,null,a,l):Js(r,n.child,a,l)}function I_(n,r,a,l,f){a=a.render;var p=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ks(r),l=vd(n,r,a,_,p,f),S=Ed(),n!==null&&!It?(Td(n,r,f),tr(n,r,f)):(Ue&&S&&ed(r),r.flags|=1,Gt(n,r,l,f),r.child)}function C_(n,r,a,l,f){if(n===null){var p=a.type;return typeof p=="function"&&!Jf(p)&&p.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=p,D_(n,r,p,l,f)):(n=fc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!$d(n,f)){var _=p.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(_,l)&&n.ref===r.ref)return tr(n,r,f)}return r.flags|=1,n=Yi(p,l),n.ref=r.ref,n.return=r,r.child=n}function D_(n,r,a,l,f){if(n!==null){var p=n.memoizedProps;if(ul(p,l)&&n.ref===r.ref)if(It=!1,r.pendingProps=l=p,$d(n,f))(n.flags&131072)!==0&&(It=!0);else return r.lanes=n.lanes,tr(n,r,f)}return zd(n,r,a,l,f)}function O_(n,r,a,l){var f=l.children,p=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|a:a,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,r.child=null;return N_(n,r,p,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&gc(r,p!==null?p.cachePool:null),p!==null?Vy(r,p):md(),My(r);else return l=r.lanes=536870912,N_(n,r,p!==null?p.baseLanes|a:a,a,l)}else p!==null?(gc(r,p.cachePool),Vy(r,p),Fr(),r.memoizedState=null):(n!==null&&gc(r,null),md(),Fr());return Gt(n,r,f,a),r.child}function wl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function N_(n,r,a,l,f){var p=ud();return p=p===null?null:{parent:bt._currentValue,pool:p},r.memoizedState={baseLanes:a,cachePool:p},n!==null&&gc(r,null),md(),My(r),n!==null&&qa(n,r,l,!0),r.childLanes=f,null}function xc(n,r){return r=Mc({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function x_(n,r,a){return Js(r,n.child,null,a),n=xc(r,r.pendingProps),n.flags|=2,An(r),r.memoizedState=null,n}function kb(n,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Ue){if(l.mode==="hidden")return n=xc(r,l),r.lanes=536870912,wl(null,n);if(yd(r),(n=rt)?(n=Hv(n,Un),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=my(n),a.return=r,r.child=a,Ft=r,rt=null)):n=null,n===null)throw kr(r);return r.lanes=536870912,null}return xc(r,l)}var p=n.memoizedState;if(p!==null){var _=p.dehydrated;if(yd(r),f)if(r.flags&256)r.flags&=-257,r=x_(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||qa(n,r,a,!1),f=(a&n.childLanes)!==0,It||f){if(l=nt,l!==null&&(_=Go(l,a),_!==0&&_!==p.retryLane))throw p.retryLane=_,Fs(n,_),dn(l,n,_),Ud;Fc(),r=x_(n,r,a)}else n=p.treeContext,rt=Bn(_.nextSibling),Ft=r,Ue=!0,Pr=null,Un=!1,n!==null&&_y(r,n),r=xc(r,l),r.flags|=4096;return r}return n=Yi(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Vc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function zd(n,r,a,l,f){return Ks(r),a=vd(n,r,a,l,void 0,f),l=Ed(),n!==null&&!It?(Td(n,r,f),tr(n,r,f)):(Ue&&l&&ed(r),r.flags|=1,Gt(n,r,a,f),r.child)}function V_(n,r,a,l,f,p){return Ks(r),r.updateQueue=null,a=Py(r,l,a,f),Ly(n),l=Ed(),n!==null&&!It?(Td(n,r,p),tr(n,r,p)):(Ue&&l&&ed(r),r.flags|=1,Gt(n,r,a,p),r.child)}function M_(n,r,a,l,f){if(Ks(r),r.stateNode===null){var p=Ua,_=a.contextType;typeof _=="object"&&_!==null&&(p=Ht(_)),p=new a(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Pd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},hd(r),_=a.contextType,p.context=typeof _=="object"&&_!==null?Ht(_):Ua,p.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ld(r,a,_,l),p.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Pd.enqueueReplaceState(p,p.state,null),vl(r,l,p,f),_l(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){p=r.stateNode;var S=r.memoizedProps,D=Zs(a,S);p.props=D;var B=p.context,Q=a.contextType;_=Ua,typeof Q=="object"&&Q!==null&&(_=Ht(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||B!==_)&&E_(r,p,l,_),zr=!1;var j=r.memoizedState;p.state=j,vl(r,l,p,f),_l(),B=r.memoizedState,S||j!==B||zr?(typeof W=="function"&&(Ld(r,a,W,l),B=r.memoizedState),(D=zr||v_(r,a,D,l,j,B,_))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),p.props=l,p.state=B,p.context=_,l=D):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,fd(n,r),_=r.memoizedProps,Q=Zs(a,_),p.props=Q,W=r.pendingProps,j=p.context,B=a.contextType,D=Ua,typeof B=="object"&&B!==null&&(D=Ht(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==W||j!==D)&&E_(r,p,l,D),zr=!1,j=r.memoizedState,p.state=j,vl(r,l,p,f),_l();var H=r.memoizedState;_!==W||j!==H||zr||n!==null&&n.dependencies!==null&&pc(n.dependencies)?(typeof S=="function"&&(Ld(r,a,S,l),H=r.memoizedState),(Q=zr||v_(r,a,Q,l,j,H,D)||n!==null&&n.dependencies!==null&&pc(n.dependencies))?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,H,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,H,D)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),p.props=l,p.state=H,p.context=D,l=Q):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),l=!1)}return p=l,Vc(n,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&l?(r.child=Js(r,n.child,null,f),r.child=Js(r,null,a,f)):Gt(n,r,a,f),r.memoizedState=p.state,n=r.child):n=tr(n,r,f),n}function L_(n,r,a,l){return Gs(),r.flags|=256,Gt(n,r,a,l),r.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(n){return{baseLanes:n,cachePool:wy()}}function qd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=bn),n}function P_(n,r,a){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(yt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ue){if(f?qr(r):Fr(),(n=rt)?(n=Hv(n,Un),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Lr!==null?{id:Oi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=my(n),a.return=r,r.child=a,Ft=r,rt=null)):n=null,n===null)throw kr(r);return wp(n)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Fr(),f=r.mode,S=Mc({mode:"hidden",children:S},f),l=Hs(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=jd(a),l.childLanes=qd(n,_,a),r.memoizedState=Bd,wl(null,l)):(qr(r),Fd(r,S))}var D=n.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(p)r.flags&256?(qr(r),r.flags&=-257,r=Hd(n,r,a)):r.memoizedState!==null?(Fr(),r.child=n.child,r.flags|=128,r=null):(Fr(),S=l.fallback,f=r.mode,l=Mc({mode:"visible",children:l.children},f),S=Hs(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,Js(r,n.child,null,a),l=r.child,l.memoizedState=jd(a),l.childLanes=qd(n,_,a),r.memoizedState=Bd,r=wl(null,l));else if(qr(r),wp(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),r=Hd(n,r,a)}else if(It||qa(n,r,a,!1),_=(a&n.childLanes)!==0,It||_){if(_=nt,_!==null&&(l=Go(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Fs(n,l),dn(_,n,l),Ud;Ap(S)||Fc(),r=Hd(n,r,a)}else Ap(S)?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,rt=Bn(S.nextSibling),Ft=r,Ue=!0,Pr=null,Un=!1,n!==null&&_y(r,n),r=Fd(r,l.children),r.flags|=4096);return r}return f?(Fr(),S=l.fallback,f=r.mode,D=n.child,B=D.sibling,l=Yi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?S=Yi(B,S):(S=Hs(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,wl(null,l),l=r.child,S=n.child.memoizedState,S===null?S=jd(a):(f=S.cachePool,f!==null?(D=bt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=wy(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=qd(n,_,a),r.memoizedState=Bd,wl(n.child,l)):(qr(r),a=n.child,n=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function Fd(n,r){return r=Mc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Mc(n,r){return n=Tn(22,n,null,r),n.lanes=0,n}function Hd(n,r,a){return Js(r,n.child,null,a),n=Fd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function k_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),sd(n.return,r,a)}function Gd(n,r,a,l,f,p){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:p}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=p)}function U_(n,r,a){var l=r.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,se(yt,_),Gt(n,r,l,a),l=Ue?hl:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&k_(n,a,r);else if(n.tag===19)k_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Sc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Gd(r,!1,f,a,p,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Sc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Gd(r,!0,a,null,p,l);break;case"together":Gd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function tr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),$r|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(qa(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Yi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Yi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function $d(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&pc(n)))}function Ub(n,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Ur(r,bt,n.memoizedState.cache),Gs();break;case 27:case 5:bs(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Ur(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,yd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?P_(n,r,a):(qr(r),n=tr(n,r,a),n!==null?n.sibling:null);qr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(qa(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return U_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(yt,yt.current),l)break;return null;case 22:return r.lanes=0,O_(n,r,a,r.pendingProps);case 24:Ur(r,bt,n.memoizedState.cache)}return tr(n,r,a)}function z_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)It=!0;else{if(!$d(n,a)&&(r.flags&128)===0)return It=!1,Ub(n,r,a);It=(n.flags&131072)!==0}else It=!1,Ue&&(r.flags&1048576)!==0&&yy(r,hl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=Ys(r.elementType),r.type=n,typeof n=="function")Jf(n)?(l=Zs(n,l),r.tag=1,r=M_(null,r,n,l,a)):(r.tag=0,r=zd(null,r,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===pe){r.tag=11,r=I_(null,r,n,l,a);break e}else if(f===C){r.tag=14,r=C_(null,r,n,l,a);break e}}throw r=xe(n)||n,Error(s(306,r,""))}}return r;case 0:return zd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Zs(l,r.pendingProps),M_(n,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,fd(n,r),vl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Ur(r,bt,l),l!==p.cache&&ad(r,[bt],a,!0),_l(),l=_.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=L_(n,r,l,a);break e}else if(l!==f){f=Ln(Error(s(424)),r),fl(f),r=L_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(rt=Bn(n.firstChild),Ft=r,Ue=!0,Pr=null,Un=!0,a=Oy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gs(),l===f){r=tr(n,r,a);break e}Gt(n,r,l,a)}r=r.child}return r;case 26:return Vc(n,r),n===null?(a=Xv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ue||(a=r.type,n=r.pendingProps,l=Xc(Ie.current).createElement(a),l[St]=r,l[kt]=n,$t(l,a,n),At(l),r.stateNode=l):r.memoizedState=Xv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return bs(r),n===null&&Ue&&(l=r.stateNode=Kv(r.type,r.pendingProps,Ie.current),Ft=r,Un=!0,f=rt,Jr(r.type)?(bp=f,rt=Bn(l.firstChild)):rt=f),Gt(n,r,r.pendingProps.children,a),Vc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ue&&((f=l=rt)&&(l=p1(l,r.type,r.pendingProps,Un),l!==null?(r.stateNode=l,Ft=r,rt=Bn(l.firstChild),Un=!1,f=!0):f=!1),f||kr(r)),bs(r),f=r.type,p=r.pendingProps,_=n!==null?n.memoizedProps:null,l=p.children,Ep(f,p)?l=null:_!==null&&Ep(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=vd(n,r,Db,null,null,a),zl._currentValue=f),Vc(n,r),Gt(n,r,l,a),r.child;case 6:return n===null&&Ue&&((n=a=rt)&&(a=m1(a,r.pendingProps,Un),a!==null?(r.stateNode=a,Ft=r,rt=null,n=!0):n=!1),n||kr(r)),null;case 13:return P_(n,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Js(r,null,l,a):Gt(n,r,l,a),r.child;case 11:return I_(n,r,r.type,r.pendingProps,a);case 7:return Gt(n,r,r.pendingProps,a),r.child;case 8:return Gt(n,r,r.pendingProps.children,a),r.child;case 12:return Gt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ur(r,r.type,l.value),Gt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Ht(f),l=l(f),r.flags|=1,Gt(n,r,l,a),r.child;case 14:return C_(n,r,r.type,r.pendingProps,a);case 15:return D_(n,r,r.type,r.pendingProps,a);case 19:return U_(n,r,a);case 31:return kb(n,r,a);case 22:return O_(n,r,a,r.pendingProps);case 24:return Ks(r),l=Ht(bt),n===null?(f=ud(),f===null&&(f=nt,p=od(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),r.memoizedState={parent:l,cache:f},hd(r),Ur(r,bt,f)):((n.lanes&a)!==0&&(fd(n,r),vl(r,null,null,a),_l()),f=n.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ur(r,bt,l)):(l=p.cache,Ur(r,bt,l),l!==f.cache&&ad(r,[bt],a,!0))),Gt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function nr(n){n.flags|=4}function Kd(n,r,a,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(fv())n.flags|=8192;else throw Xs=_c,cd}else n.flags&=-16777217}function B_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!tE(r))if(fv())n.flags|=8192;else throw Xs=_c,cd}function Lc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ju():536870912,n.lanes|=r,eo|=r)}function bl(n,r){if(!Ue)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function zb(n,r,a){var l=r.pendingProps;switch(td(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Wi(bt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ja(r)?nr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,id())),st(r),null;case 26:var f=r.type,p=r.memoizedState;return n===null?(nr(r),p!==null?(st(r),B_(r,p)):(st(r),Kd(r,f,null,l,a))):p?p!==n.memoizedState?(nr(r),st(r),B_(r,p)):(st(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&nr(r),st(r),Kd(r,f,n,l,a)),null;case 27:if(va(r),a=Ie.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}n=oe.current,ja(r)?vy(r):(n=Kv(f,l,a),r.stateNode=n,nr(r))}return st(r),null;case 5:if(va(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(p=oe.current,ja(r))vy(r);else{var _=Xc(Ie.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}p[St]=r,p[kt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=p;e:switch($t(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(r)}}return st(r),Kd(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ie.current,ja(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=Ft,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[St]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pv(n.nodeValue,a)),n||kr(r,!0)}else n=Xc(n).createTextNode(l),n[St]=r,r.stateNode=n}return st(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=ja(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[St]=r}else Gs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),n=!1}else a=id(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(An(r),r):(An(r),null);if((r.flags&128)!==0)throw Error(s(558))}return st(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ja(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else Gs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else f=id(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(An(r),r):(An(r),null)}return An(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),Lc(r,r.updateQueue),st(r),null);case 4:return at(),n===null&&mp(r.stateNode.containerInfo),st(r),null;case 10:return Wi(r.type),st(r),null;case 19:if(Y(yt),l=r.memoizedState,l===null)return st(r),null;if(f=(r.flags&128)!==0,p=l.rendering,p===null)if(f)bl(l,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Sc(n),p!==null){for(r.flags|=128,bl(l,!1),n=p.updateQueue,r.updateQueue=n,Lc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)py(a,n),a=a.sibling;return se(yt,yt.current&1|2),Ue&&Xi(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&rn()>Bc&&(r.flags|=128,f=!0,bl(l,!1),r.lanes=4194304)}else{if(!f)if(n=Sc(p),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Lc(r,n),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ue)return st(r),null}else 2*rn()-l.renderingStartTime>Bc&&a!==536870912&&(r.flags|=128,f=!0,bl(l,!1),r.lanes=4194304);l.isBackwards?(p.sibling=r.child,r.child=p):(n=l.last,n!==null?n.sibling=p:r.child=p,l.last=p)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=rn(),n.sibling=null,a=yt.current,se(yt,f?a&1|2:a&1),Ue&&Xi(r,l.treeForkCount),n):(st(r),null);case 22:case 23:return An(r),gd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Lc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&Y(Qs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Wi(bt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Bb(n,r){switch(td(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Wi(bt),at(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return va(r),null;case 31:if(r.memoizedState!==null){if(An(r),r.alternate===null)throw Error(s(340));Gs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(An(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Gs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Y(yt),null;case 4:return at(),null;case 10:return Wi(r.type),null;case 22:case 23:return An(r),gd(),n!==null&&Y(Qs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Wi(bt),null;case 25:return null;default:return null}}function j_(n,r){switch(td(r),r.tag){case 3:Wi(bt),at();break;case 26:case 27:case 5:va(r);break;case 4:at();break;case 31:r.memoizedState!==null&&An(r);break;case 13:An(r);break;case 19:Y(yt);break;case 10:Wi(r.type);break;case 22:case 23:An(r),gd(),n!==null&&Y(Qs);break;case 24:Wi(bt)}}function Rl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var p=a.create,_=a.inst;l=p(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Xe(r,r.return,S)}}function Hr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&n)===n){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var D=a,B=S;try{B()}catch(Q){Xe(f,D,Q)}}}l=l.next}while(l!==p)}}catch(Q){Xe(r,r.return,Q)}}function q_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{xy(r,a)}catch(l){Xe(n,n.return,l)}}}function F_(n,r,a){a.props=Zs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(n,r,l)}}function Il(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Xe(n,r,f)}}function xi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(n,r,f)}else a.current=null}function H_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(n,n.return,f)}}function Qd(n,r,a){try{var l=n.stateNode;l1(l,n.type,a,r),l[kt]=r}catch(f){Xe(n,n.return,f)}}function G_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Jr(n.type)||n.tag===4}function Yd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||G_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Xn));else if(l!==4&&(l===27&&Jr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Xd(n,r,a),n=n.sibling;n!==null;)Xd(n,r,a),n=n.sibling}function Pc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Jr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Pc(n,r,a),n=n.sibling;n!==null;)Pc(n,r,a),n=n.sibling}function $_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[St]=n,r[kt]=a}catch(p){Xe(n,n.return,p)}}var ir=!1,Ct=!1,Jd=!1,K_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function jb(n,r){if(n=n.containerInfo,_p=ih,n=sy(n),Hf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,B=0,Q=0,W=n,j=null;t:for(;;){for(var H;W!==a||f!==0&&W.nodeType!==3||(S=_+f),W!==p||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(H=W.firstChild)!==null;)j=W,W=H;for(;;){if(W===n)break t;if(j===a&&++B===f&&(S=_),j===p&&++Q===l&&(D=_),(H=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=H}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(vp={focusedElem:n,selectionRange:a},ih=!1,zt=r;zt!==null;)if(r=zt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,zt=n;else for(;zt!==null;){switch(r=zt,p=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,a=r,f=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var ue=Zs(a.type,f);n=l.getSnapshotBeforeUpdate(ue,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(me){Xe(a,a.return,me)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Sp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,zt=n;break}zt=r.return}}function Q_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(n,a),l&4&&Rl(5,a);break;case 1:if(sr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var f=Zs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&q_(a),l&512&&Il(a,a.return);break;case 3:if(sr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{xy(n,r)}catch(_){Xe(a,a.return,_)}}break;case 27:r===null&&l&4&&$_(a);case 26:case 5:sr(n,a),r===null&&l&4&&H_(a),l&512&&Il(a,a.return);break;case 12:sr(n,a);break;case 31:sr(n,a),l&4&&J_(n,a);break;case 13:sr(n,a),l&4&&W_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Xb.bind(null,a),g1(n,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){r=r!==null&&r.memoizedState!==null||Ct,f=ir;var p=Ct;ir=l,(Ct=r)&&!p?ar(n,a,(a.subtreeFlags&8772)!==0):sr(n,a),ir=f,Ct=p}break;case 30:break;default:sr(n,a)}}function Y_(n){var r=n.alternate;r!==null&&(n.alternate=null,Y_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&wa(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,un=!1;function rr(n,r,a){for(a=a.child;a!==null;)X_(n,r,a),a=a.sibling}function X_(n,r,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Ct||xi(a,r),rr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||xi(a,r);var l=lt,f=un;Jr(a.type)&&(lt=a.stateNode,un=!1),rr(n,r,a),Pl(a.stateNode),lt=l,un=f;break;case 5:Ct||xi(a,r);case 6:if(l=lt,f=un,lt=null,rr(n,r,a),lt=l,un=f,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(p){Xe(a,r,p)}else try{lt.removeChild(a.stateNode)}catch(p){Xe(a,r,p)}break;case 18:lt!==null&&(un?(n=lt,qv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),lo(n)):qv(lt,a.stateNode));break;case 4:l=lt,f=un,lt=a.stateNode.containerInfo,un=!0,rr(n,r,a),lt=l,un=f;break;case 0:case 11:case 14:case 15:Hr(2,a,r),Ct||Hr(4,a,r),rr(n,r,a);break;case 1:Ct||(xi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&F_(a,r,l)),rr(n,r,a);break;case 21:rr(n,r,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,rr(n,r,a),Ct=l;break;default:rr(n,r,a)}}function J_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{lo(n)}catch(a){Xe(r,r.return,a)}}}function W_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{lo(n)}catch(a){Xe(r,r.return,a)}}function qb(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new K_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new K_),r;default:throw Error(s(435,n.tag))}}function kc(n,r){var a=qb(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Jb.bind(null,n,l);l.then(f,f)}})}function cn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],p=n,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Jr(S.type)){lt=S.stateNode,un=!1;break e}break;case 5:lt=S.stateNode,un=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,un=!0;break e}S=S.return}if(lt===null)throw Error(s(160));X_(p,_,f),lt=null,un=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Z_(r,n),r=r.sibling}var ni=null;function Z_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:cn(r,n),hn(n),l&4&&(Hr(3,n,n.return),Rl(3,n),Hr(5,n,n.return));break;case 1:cn(r,n),hn(n),l&512&&(Ct||a===null||xi(a,a.return)),l&64&&ir&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(cn(r,n),hn(n),l&512&&(Ct||a===null||xi(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[_i]||p[St]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),$t(p,l,a),p[St]=n,At(p),l=p;break e;case"link":var _=Zv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(p=_[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}p=f.createElement(l),$t(p,l,a),f.head.appendChild(p);break;case"meta":if(_=Zv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(p=_[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}p=f.createElement(l),$t(p,l,a),f.head.appendChild(p);break;default:throw Error(s(468,l))}p[St]=n,At(p),l=p}n.stateNode=l}else eE(f,n.type,n.stateNode);else n.stateNode=Wv(f,l,n.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?eE(f,n.type,n.stateNode):Wv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Qd(n,n.memoizedProps,a.memoizedProps)}break;case 27:cn(r,n),hn(n),l&512&&(Ct||a===null||xi(a,a.return)),a!==null&&l&4&&Qd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(cn(r,n),hn(n),l&512&&(Ct||a===null||xi(a,a.return)),n.flags&32){f=n.stateNode;try{ln(f,"")}catch(ue){Xe(n,n.return,ue)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Qd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(cn(r,n),hn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ue){Xe(n,n.return,ue)}}break;case 3:if(Zc=null,f=ni,ni=Jc(r.containerInfo),cn(r,n),ni=f,hn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(r.containerInfo)}catch(ue){Xe(n,n.return,ue)}Jd&&(Jd=!1,ev(n));break;case 4:l=ni,ni=Jc(n.stateNode.containerInfo),cn(r,n),hn(n),ni=l;break;case 12:cn(r,n),hn(n);break;case 31:cn(r,n),hn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,kc(n,l)));break;case 13:cn(r,n),hn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,kc(n,l)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=ir,Q=Ct;if(ir=B||f,Ct=Q||D,cn(r,n),Ct=Q,ir=B,hn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||ir||Ct||ea(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(p=D.stateNode,f)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var W=D.memoizedProps.style,j=W!=null&&W.hasOwnProperty("display")?W.display:null;S.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ue){Xe(D,D.return,ue)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ue){Xe(D,D.return,ue)}}}else if(r.tag===18){if(a===null){D=r;try{var H=D.stateNode;f?Fv(H,!0):Fv(D.stateNode,!1)}catch(ue){Xe(D,D.return,ue)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kc(n,a))));break;case 19:cn(r,n),hn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,kc(n,l)));break;case 30:break;case 21:break;default:cn(r,n),hn(n)}}function hn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(G_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=Yd(n);Pc(n,p,f);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var S=Yd(n);Pc(n,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Yd(n);Xd(n,B,D);break;default:throw Error(s(161))}}catch(Q){Xe(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function ev(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function sr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Q_(n,r.alternate,r),r=r.sibling}function ea(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Hr(4,r,r.return),ea(r);break;case 1:xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&F_(r,r.return,a),ea(r);break;case 27:Pl(r.stateNode);case 26:case 5:xi(r,r.return),ea(r);break;case 22:r.memoizedState===null&&ea(r);break;case 30:ea(r);break;default:ea(r)}n=n.sibling}}function ar(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,p=r,_=p.flags;switch(p.tag){case 0:case 11:case 15:ar(f,p,a),Rl(4,p);break;case 1:if(ar(f,p,a),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=p,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Ny(D[f],S)}catch(B){Xe(l,l.return,B)}}a&&_&64&&q_(p),Il(p,p.return);break;case 27:$_(p);case 26:case 5:ar(f,p,a),a&&l===null&&_&4&&H_(p),Il(p,p.return);break;case 12:ar(f,p,a);break;case 31:ar(f,p,a),a&&_&4&&J_(f,p);break;case 13:ar(f,p,a),a&&_&4&&W_(f,p);break;case 22:p.memoizedState===null&&ar(f,p,a),Il(p,p.return);break;case 30:break;default:ar(f,p,a)}r=r.sibling}}function Wd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&dl(a))}function Zd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&dl(n))}function ii(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tv(n,r,a,l),r=r.sibling}function tv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ii(n,r,a,l),f&2048&&Rl(9,r);break;case 1:ii(n,r,a,l);break;case 3:ii(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&dl(n)));break;case 12:if(f&2048){ii(n,r,a,l),n=r.stateNode;try{var p=r.memoizedProps,_=p.id,S=p.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Xe(r,r.return,D)}}else ii(n,r,a,l);break;case 31:ii(n,r,a,l);break;case 13:ii(n,r,a,l);break;case 23:break;case 22:p=r.stateNode,_=r.alternate,r.memoizedState!==null?p._visibility&2?ii(n,r,a,l):Cl(n,r):p._visibility&2?ii(n,r,a,l):(p._visibility|=2,Ja(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Wd(_,r);break;case 24:ii(n,r,a,l),f&2048&&Zd(r.alternate,r);break;default:ii(n,r,a,l)}}function Ja(n,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=n,_=r,S=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ja(p,_,S,D,f),Rl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Ja(p,_,S,D,f):Cl(p,_):(Q._visibility|=2,Ja(p,_,S,D,f)),f&&B&2048&&Wd(_.alternate,_);break;case 24:Ja(p,_,S,D,f),f&&B&2048&&Zd(_.alternate,_);break;default:Ja(p,_,S,D,f)}r=r.sibling}}function Cl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Cl(a,l),f&2048&&Wd(l.alternate,l);break;case 24:Cl(a,l),f&2048&&Zd(l.alternate,l);break;default:Cl(a,l)}r=r.sibling}}var Dl=8192;function Wa(n,r,a){if(n.subtreeFlags&Dl)for(n=n.child;n!==null;)nv(n,r,a),n=n.sibling}function nv(n,r,a){switch(n.tag){case 26:Wa(n,r,a),n.flags&Dl&&n.memoizedState!==null&&C1(a,ni,n.memoizedState,n.memoizedProps);break;case 5:Wa(n,r,a);break;case 3:case 4:var l=ni;ni=Jc(n.stateNode.containerInfo),Wa(n,r,a),ni=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,Wa(n,r,a),Dl=l):Wa(n,r,a));break;default:Wa(n,r,a)}}function iv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ol(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,sv(l,n)}iv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rv(n),n=n.sibling}function rv(n){switch(n.tag){case 0:case 11:case 15:Ol(n),n.flags&2048&&Hr(9,n,n.return);break;case 3:Ol(n);break;case 12:Ol(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Uc(n)):Ol(n);break;default:Ol(n)}}function Uc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,sv(l,n)}iv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Hr(8,r,r.return),Uc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(r));break;default:Uc(r)}n=n.sibling}}function sv(n,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Hr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=n;zt!==null;){l=zt;var f=l.sibling,p=l.return;if(Y_(l),l===a){zt=null;break e}if(f!==null){f.return=p,zt=f;break e}zt=p}}}var Fb={getCacheForType:function(n){var r=Ht(bt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return Ht(bt).controller.signal}},Hb=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Oe=null,Ve=0,Ye=0,wn=null,Gr=!1,Za=!1,ep=!1,or=0,dt=0,$r=0,ta=0,tp=0,bn=0,eo=0,Nl=null,fn=null,np=!1,zc=0,av=0,Bc=1/0,jc=null,Kr=null,Lt=0,Qr=null,to=null,lr=0,ip=0,rp=null,ov=null,xl=0,sp=null;function Rn(){return($e&2)!==0&&Ve!==0?Ve&-Ve:G.T!==null?hp():qu()}function lv(){if(bn===0)if((Ve&536870912)===0||Ue){var n=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),bn=n}else bn=536870912;return n=Sn.current,n!==null&&(n.flags|=32),bn}function dn(n,r,a){(n===nt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(no(n,0),Yr(n,Ve,bn,!1)),Ds(n,a),(($e&2)===0||n!==nt)&&(n===nt&&(($e&2)===0&&(ta|=a),dt===4&&Yr(n,Ve,bn,!1)),Vi(n))}function uv(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Kn(n,r),f=l?Kb(n,r):op(n,r,!0),p=l;do{if(f===0){Za&&!l&&Yr(n,r,0,!1);break}else{if(a=n.current.alternate,p&&!Gb(a)){f=op(n,r,!1),p=!1;continue}if(f===2){if(p=r,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=n;f=Nl;var D=S.current.memoizedState.isDehydrated;if(D&&(no(S,_).flags|=256),_=op(S,_,!1),_!==2){if(ep&&!D){S.errorRecoveryDisabledLanes|=p,ta|=p,f=4;break e}p=fn,fn=f,p!==null&&(fn===null?fn=p:fn.push.apply(fn,p))}f=_}if(p=!1,f!==2)continue}}if(f===1){no(n,0),Yr(n,r,0,!0);break}e:{switch(l=n,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Yr(l,r,bn,!Gr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=zc+300-rn(),10<f)){if(Yr(l,r,bn,!Gr),mi(l,0,!0)!==0)break e;lr=r,l.timeoutHandle=Bv(cv.bind(null,l,a,fn,jc,np,r,bn,ta,eo,Gr,p,"Throttled",-0,0),f);break e}cv(l,a,fn,jc,np,r,bn,ta,eo,Gr,p,null,-0,0)}}break}while(!0);Vi(n)}function cv(n,r,a,l,f,p,_,S,D,B,Q,W,j,H){if(n.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},nv(r,p,W);var ue=(p&62914560)===p?zc-rn():(p&4194048)===p?av-rn():0;if(ue=D1(W,ue),ue!==null){lr=p,n.cancelPendingCommit=ue(_v.bind(null,n,r,p,a,l,f,_,S,D,Q,W,null,j,H)),Yr(n,p,_,!B);return}}_v(n,r,p,a,l,f,_,S,D)}function Gb(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],p=f.getSnapshot;f=f.value;try{if(!En(p(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(n,r,a,l){r&=~tp,r&=~ta,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var p=31-mt(f),_=1<<p;l[p]=-1,f&=~_}a!==0&&Os(n,a,r)}function qc(){return($e&6)===0?(Vl(0),!1):!0}function ap(){if(Oe!==null){if(Ye===0)var n=Oe.return;else n=Oe,Ji=$s=null,Sd(n),$a=null,ml=0,n=Oe;for(;n!==null;)j_(n.alternate,n),n=n.return;Oe=null}}function no(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,h1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),lr=0,ap(),nt=n,Oe=a=Yi(n.current,null),Ve=r,Ye=0,wn=null,Gr=!1,Za=Kn(n,r),ep=!1,eo=bn=tp=ta=$r=dt=0,fn=Nl=null,np=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-mt(l),p=1<<f;r|=n[f],l&=~p}return or=r,uc(),a}function hv(n,r){Re=null,G.H=Al,r===Ga||r===yc?(r=Iy(),Ye=3):r===cd?(r=Iy(),Ye=4):Ye=r===Ud?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Oe===null&&(dt=1,Nc(n,Ln(r,n.current)))}function fv(){var n=Sn.current;return n===null?!0:(Ve&4194048)===Ve?zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===zn:!1}function dv(){var n=G.H;return G.H=Al,n===null?Al:n}function pv(){var n=G.A;return G.A=Fb,n}function Fc(){dt=4,Gr||(Ve&4194048)!==Ve&&Sn.current!==null||(Za=!0),($r&134217727)===0&&(ta&134217727)===0||nt===null||Yr(nt,Ve,bn,!1)}function op(n,r,a){var l=$e;$e|=2;var f=dv(),p=pv();(nt!==n||Ve!==r)&&(jc=null,no(n,r)),r=!1;var _=dt;e:do try{if(Ye!==0&&Oe!==null){var S=Oe,D=wn;switch(Ye){case 8:ap(),_=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(r=!0);var B=Ye;if(Ye=0,wn=null,io(n,S,D,B),a&&Za){_=0;break e}break;default:B=Ye,Ye=0,wn=null,io(n,S,D,B)}}$b(),_=dt;break}catch(Q){hv(n,Q)}while(!0);return r&&n.shellSuspendCounter++,Ji=$s=null,$e=l,G.H=f,G.A=p,Oe===null&&(nt=null,Ve=0,uc()),_}function $b(){for(;Oe!==null;)mv(Oe)}function Kb(n,r){var a=$e;$e|=2;var l=dv(),f=pv();nt!==n||Ve!==r?(jc=null,Bc=rn()+500,no(n,r)):Za=Kn(n,r);e:do try{if(Ye!==0&&Oe!==null){r=Oe;var p=wn;t:switch(Ye){case 1:Ye=0,wn=null,io(n,r,p,1);break;case 2:case 9:if(by(p)){Ye=0,wn=null,gv(r);break}r=function(){Ye!==2&&Ye!==9||nt!==n||(Ye=7),Vi(n)},p.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:by(p)?(Ye=0,wn=null,gv(r)):(Ye=0,wn=null,io(n,r,p,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?tE(_):S.stateNode.complete){Ye=0,wn=null;var D=S.sibling;if(D!==null)Oe=D;else{var B=S.return;B!==null?(Oe=B,Hc(B)):Oe=null}break t}}Ye=0,wn=null,io(n,r,p,5);break;case 6:Ye=0,wn=null,io(n,r,p,6);break;case 8:ap(),dt=6;break e;default:throw Error(s(462))}}Qb();break}catch(Q){hv(n,Q)}while(!0);return Ji=$s=null,G.H=l,G.A=f,$e=a,Oe!==null?0:(nt=null,Ve=0,uc(),dt)}function Qb(){for(;Oe!==null&&!kf();)mv(Oe)}function mv(n){var r=z_(n.alternate,n,or);n.memoizedProps=n.pendingProps,r===null?Hc(n):Oe=r}function gv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=V_(a,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=V_(a,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:Sd(r);default:j_(a,r),r=Oe=py(r,or),r=z_(a,r,or)}n.memoizedProps=n.pendingProps,r===null?Hc(n):Oe=r}function io(n,r,a,l){Ji=$s=null,Sd(r),$a=null,ml=0;var f=r.return;try{if(Pb(n,f,r,a,Ve)){dt=1,Nc(n,Ln(a,n.current)),Oe=null;return}}catch(p){if(f!==null)throw Oe=f,p;dt=1,Nc(n,Ln(a,n.current)),Oe=null;return}r.flags&32768?(Ue||l===1?n=!0:Za||(Ve&536870912)!==0?n=!1:(Gr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(r,n)):Hc(r)}function Hc(n){var r=n;do{if((r.flags&32768)!==0){yv(r,Gr);return}n=r.return;var a=zb(r.alternate,r,or);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);dt===0&&(dt=5)}function yv(n,r){do{var a=Bb(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);dt=6,Oe=null}function _v(n,r,a,l,f,p,_,S,D){n.cancelPendingCommit=null;do Gc();while(Lt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=Yf,Bf(n,a,p,_,S,D),n===nt&&(Oe=nt=null,Ve=0),to=r,Qr=n,lr=a,ip=p,rp=f,ov=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Wb(br,function(){return Av(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=ne.p,ne.p=2,_=$e,$e|=4;try{jb(n,r,a)}finally{$e=_,ne.p=f,G.T=l}}Lt=1,vv(),Ev(),Tv()}}function vv(){if(Lt===1){Lt=0;var n=Qr,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ne.p;ne.p=2;var f=$e;$e|=4;try{Z_(r,n);var p=vp,_=sy(n.containerInfo),S=p.focusedElem,D=p.selectionRange;if(_!==S&&S&&S.ownerDocument&&ry(S.ownerDocument.documentElement,S)){if(D!==null&&Hf(S)){var B=D.start,Q=D.end;if(Q===void 0&&(Q=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Q,S.value.length);else{var W=S.ownerDocument||document,j=W&&W.defaultView||window;if(j.getSelection){var H=j.getSelection(),ue=S.textContent.length,me=Math.min(D.start,ue),tt=D.end===void 0?me:Math.min(D.end,ue);!H.extend&&me>tt&&(_=tt,tt=me,me=_);var L=iy(S,me),V=iy(S,tt);if(L&&V&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var z=W.createRange();z.setStart(L.node,L.offset),H.removeAllRanges(),me>tt?(H.addRange(z),H.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),H.addRange(z))}}}}for(W=[],H=S;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<W.length;S++){var X=W[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}ih=!!_p,vp=_p=null}finally{$e=f,ne.p=l,G.T=a}}n.current=r,Lt=2}}function Ev(){if(Lt===2){Lt=0;var n=Qr,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ne.p;ne.p=2;var f=$e;$e|=4;try{Q_(n,r.alternate,r)}finally{$e=f,ne.p=l,G.T=a}}Lt=3}}function Tv(){if(Lt===4||Lt===3){Lt=0,Lu();var n=Qr,r=to,a=lr,l=ov;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,to=Qr=null,Sv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Kr=null),Gi(a),r=r.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot($n,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,f=ne.p,ne.p=2,G.T=null;try{for(var p=n.onRecoverableError,_=0;_<l.length;_++){var S=l[_];p(S.value,{componentStack:S.stack})}}finally{G.T=r,ne.p=f}}(lr&3)!==0&&Gc(),Vi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===sp?xl++:(xl=0,sp=n):xl=0,Vl(0)}}function Sv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,dl(r)))}function Gc(){return vv(),Ev(),Tv(),Av()}function Av(){if(Lt!==5)return!1;var n=Qr,r=ip;ip=0;var a=Gi(lr),l=G.T,f=ne.p;try{ne.p=32>a?32:a,G.T=null,a=rp,rp=null;var p=Qr,_=lr;if(Lt=0,to=Qr=null,lr=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,rv(p.current),tv(p,p.current,_,a),$e=S,Vl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot($n,p)}catch{}return!0}finally{ne.p=f,G.T=l,Sv(n,r)}}function wv(n,r,a){r=Ln(a,r),r=kd(n.stateNode,r,2),n=jr(n,r,2),n!==null&&(Ds(n,2),Vi(n))}function Xe(n,r,a){if(n.tag===3)wv(n,n,a);else for(;r!==null;){if(r.tag===3){wv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){n=Ln(a,n),a=b_(2),l=jr(r,a,2),l!==null&&(R_(a,l,r,n),Ds(l,2),Vi(l));break}}r=r.return}}function lp(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Hb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(ep=!0,f.add(a),n=Yb.bind(null,n,r,a),r.then(n,n))}function Yb(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(Ve&a)===a&&(dt===4||dt===3&&(Ve&62914560)===Ve&&300>rn()-zc?($e&2)===0&&no(n,0):tp|=a,eo===Ve&&(eo=0)),Vi(n)}function bv(n,r){r===0&&(r=ju()),n=Fs(n,r),n!==null&&(Ds(n,r),Vi(n))}function Xb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),bv(n,a)}function Jb(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),bv(n,a)}function Wb(n,r){return Mt(n,r)}var $c=null,ro=null,up=!1,Kc=!1,cp=!1,Xr=0;function Vi(n){n!==ro&&n.next===null&&(ro===null?$c=ro=n:ro=ro.next=n),Kc=!0,up||(up=!0,e1())}function Vl(n,r){if(!cp&&Kc){cp=!0;do for(var a=!1,l=$c;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var _=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-mt(42|n)+1)-1,p&=f&~(_&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Dv(l,p))}else p=Ve,p=mi(l,l===nt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Kn(l,p)||(a=!0,Dv(l,p));l=l.next}while(a);cp=!1}}function Zb(){Rv()}function Rv(){Kc=up=!1;var n=0;Xr!==0&&c1()&&(n=Xr);for(var r=rn(),a=null,l=$c;l!==null;){var f=l.next,p=Iv(l,r);p===0?(l.next=null,a===null?$c=f:a.next=f,f===null&&(ro=a)):(a=l,(n!==0||(p&3)!==0)&&(Kc=!0)),l=f}Lt!==0&&Lt!==5||Vl(n),Xr!==0&&(Xr=0)}function Iv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-mt(p),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=zf(S,r)):D<=r&&(n.expiredLanes|=S),p&=~S}if(r=nt,a=Ve,a=mi(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&wr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Kn(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&wr(l),Gi(a)){case 2:case 8:a=Fo;break;case 32:a=br;break;case 268435456:a=Pu;break;default:a=br}return l=Cv.bind(null,n),a=Mt(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&wr(l),n.callbackPriority=2,n.callbackNode=null,2}function Cv(n,r){if(Lt!==0&&Lt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Gc()&&n.callbackNode!==a)return null;var l=Ve;return l=mi(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(uv(n,l,r),Iv(n,rn()),n.callbackNode!=null&&n.callbackNode===a?Cv.bind(null,n):null)}function Dv(n,r){if(Gc())return null;uv(n,r,!0)}function e1(){f1(function(){($e&6)!==0?Mt(qo,Zb):Rv()})}function hp(){if(Xr===0){var n=Fa;n===0&&(n=di,di<<=1,(di&261888)===0&&(di=256)),Xr=n}return Xr}function Ov(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ca(""+n)}function Nv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function t1(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var p=Ov((f[kt]||null).action),_=l.submitter;_&&(r=(r=_[kt]||null)?Ov(r.formAction):_.getAttribute("formAction"),r!==null&&(p=r,_=null));var S=new Ri("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xr!==0){var D=_?Nv(f,_):new FormData(f);Nd(a,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(S.preventDefault(),D=_?Nv(f,_):new FormData(f),Nd(a,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var fp=0;fp<Qf.length;fp++){var dp=Qf[fp],n1=dp.toLowerCase(),i1=dp[0].toUpperCase()+dp.slice(1);ti(n1,"on"+i1)}ti(ly,"onAnimationEnd"),ti(uy,"onAnimationIteration"),ti(cy,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(vb,"onTransitionRun"),ti(Eb,"onTransitionStart"),ti(Tb,"onTransitionCancel"),ti(hy,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function xv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=B;try{p(f)}catch(Q){lc(Q)}f.currentTarget=null,p=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,B=S.currentTarget,S=S.listener,D!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=B;try{p(f)}catch(Q){lc(Q)}f.currentTarget=null,p=D}}}}function Ne(n,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var l=n+"__bubble";a.has(l)||(Vv(r,n,2,!1),a.add(l))}function pp(n,r,a){var l=0;r&&(l|=4),Vv(a,n,l,r)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function mp(n){if(!n[Qc]){n[Qc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(r1.has(a)||pp(a,!1,n),pp(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Qc]||(r[Qc]=!0,pp("selectionchange",!1,r))}}function Vv(n,r,a,l){switch(lE(r)){case 2:var f=x1;break;case 8:f=V1;break;default:f=Op}a=f.bind(null,r,a,n),f=void 0,!Ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function gp(n,r,a,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=vi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=p=_;continue e}S=S.parentNode}}l=l.return}Nr(function(){var B=p,Q=Nn(a),W=[];e:{var j=fy.get(n);if(j!==void 0){var H=Ri,ue=n;switch(n){case"keypress":if(ks(a)===0)break e;case"keydown":case"keyup":H=sc;break;case"focusin":ue="focus",H=zs;break;case"focusout":ue="blur",H=zs;break;case"beforeblur":case"afterblur":H=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=y;break;case ly:case uy:case cy:H=Wu;break;case hy:H=A;break;case"scroll":case"scrollend":H=rl;break;case"wheel":H=F;break;case"copy":case"cut":case"paste":H=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Qi;break;case"toggle":case"beforetoggle":H=be}var me=(r&4)!==0,tt=!me&&(n==="scroll"||n==="scrollend"),L=me?j!==null?j+"Capture":null:j;me=[];for(var V=B,z;V!==null;){var X=V;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=Jn(V,L),X!=null&&me.push(Ll(V,X,z))),tt)break;V=V.return}0<me.length&&(j=new H(j,ue,null,a,Q),W.push({event:j,listeners:me}))}}if((r&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",j&&a!==tl&&(ue=a.relatedTarget||a.fromElement)&&(vi(ue)||ue[yi]))break e;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=B,ue=ue?vi(ue):null,ue!==null&&(tt=u(ue),me=ue.tag,ue!==tt||me!==5&&me!==27&&me!==6)&&(ue=null)):(H=null,ue=B),H!==ue)){if(me=sl,X="onMouseLeave",L="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(me=Qi,X="onPointerLeave",L="onPointerEnter",V="pointer"),tt=H==null?j:_n(H),z=ue==null?j:_n(ue),j=new me(X,V+"leave",H,a,Q),j.target=tt,j.relatedTarget=z,X=null,vi(Q)===B&&(me=new me(L,V+"enter",ue,a,Q),me.target=z,me.relatedTarget=tt,X=me),tt=X,H&&ue)t:{for(me=s1,L=H,V=ue,z=0,X=L;X;X=me(X))z++;X=0;for(var fe=V;fe;fe=me(fe))X++;for(;0<z-X;)L=me(L),z--;for(;0<X-z;)V=me(V),X--;for(;z--;){if(L===V||V!==null&&L===V.alternate){me=L;break t}L=me(L),V=me(V)}me=null}else me=null;H!==null&&Mv(W,j,H,me,!1),ue!==null&&tt!==null&&Mv(W,tt,ue,me,!0)}}e:{if(j=B?_n(B):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Fe=Jg;else if(Yg(j))if(Wg)Fe=gb;else{Fe=pb;var ce=db}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Ia(B.elementType)&&(Fe=Jg):Fe=mb;if(Fe&&(Fe=Fe(n,B))){Xg(W,Fe,a,Q);break e}ce&&ce(n,j,B),n==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Wo(j,"number",j.value)}switch(ce=B?_n(B):window,n){case"focusin":(Yg(ce)||ce.contentEditable==="true")&&(La=ce,Gf=B,cl=null);break;case"focusout":cl=Gf=La=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,ay(W,a,Q);break;case"selectionchange":if(_b)break;case"keydown":case"keyup":ay(W,a,Q)}var Ce;if(Ge)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ma?Bs(n,a)&&(Me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Di&&a.locale!=="ko"&&(Ma||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ma&&(Ce=il()):(bi=Q,nl="value"in bi?bi.value:bi.textContent,Ma=!0)),ce=Yc(B,Me),0<ce.length&&(Me=new Ci(Me,n,null,a,Q),W.push({event:Me,listeners:ce}),Ce?Me.data=Ce:(Ce=Va(a),Ce!==null&&(Me.data=Ce)))),(Ce=Vn?ub(n,a):cb(n,a))&&(Me=Yc(B,"onBeforeInput"),0<Me.length&&(ce=new Ci("onBeforeInput","beforeinput",null,a,Q),W.push({event:ce,listeners:Me}),ce.data=Ce)),t1(W,n,B,a,Q)}xv(W,r)})}function Ll(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Yc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Jn(n,a),f!=null&&l.unshift(Ll(n,f,p)),f=Jn(n,r),f!=null&&l.push(Ll(n,f,p))),n.tag===3)return l;n=n.return}return[]}function s1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Mv(n,r,a,l,f){for(var p=r._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||B===null||(D=B,f?(B=Jn(a,p),B!=null&&_.unshift(Ll(a,B,D))):f||(B=Jn(a,p),B!=null&&_.push(Ll(a,B,D)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var a1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function Lv(n){return(typeof n=="string"?n:""+n).replace(a1,`
`).replace(o1,"")}function Pv(n,r){return r=Lv(r),Lv(n)===r}function et(n,r,a,l,f,p){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ln(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ln(n,""+l);break;case"className":vn(n,"class",l);break;case"tabIndex":vn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(n,a,l);break;case"style":el(n,l,p);break;case"data":if(r!=="object"){vn(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ca(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(r!=="input"&&et(n,r,"name",f.name,f,null),et(n,r,"formEncType",f.formEncType,f,null),et(n,r,"formMethod",f.formMethod,f,null),et(n,r,"formTarget",f.formTarget,f,null)):(et(n,r,"encType",f.encType,f,null),et(n,r,"method",f.method,f,null),et(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ca(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Xn);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ca(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),ba(n,"popover",l);break;case"xlinkActuate":wt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yu.get(a)||a,ba(n,a,l))}}function yp(n,r,a,l,f,p){switch(a){case"style":el(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?ln(n,l):(typeof l=="number"||typeof l=="bigint")&&ln(n,""+l);break;case"onScroll":l!=null&&Ne("scroll",n);break;case"onScrollEnd":l!=null&&Ne("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),p=n[kt]||null,p=p!=null?p[a]:null,typeof p=="function"&&n.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):ba(n,a,l)}}}function $t(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var l=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var _=a[p];if(_!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,p,_,a,null)}}f&&et(n,r,"srcSet",a.srcSet,a,null),l&&et(n,r,"src",a.src,a,null);return;case"input":Ne("invalid",n);var S=p=_=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":B=Q;break;case"value":p=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:et(n,r,l,Q,a,null)}}$u(n,p,S,D,B,_,f,!1);return;case"select":Ne("invalid",n),l=_=p=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:et(n,r,f,S,a,null)}r=p,a=_,n.multiple=!!l,r!=null?Ir(n,!!l,r,!1):a!=null&&Ir(n,!!l,a,!0);return;case"textarea":Ne("invalid",n),p=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(n,r,_,S,a,null)}Cr(n,l,f,p);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(n,r,D,l,a,null)}return;case"dialog":Ne("beforetoggle",n),Ne("toggle",n),Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ne(Ml[l],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,B,l,a,null)}return;default:if(Ia(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&yp(n,r,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(n,r,S,l,a,null))}function l1(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,_=null,S=null,D=null,B=null,Q=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(H)||et(n,r,H,null,l,W)}}for(var j in l){var H=l[j];if(W=a[j],l.hasOwnProperty(j)&&(H!=null||W!=null))switch(j){case"type":p=H;break;case"name":f=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":_=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==W&&et(n,r,j,H,l,W)}}Ra(n,_,S,D,B,Q,p,f);return;case"select":H=_=S=j=null;for(p in a)if(D=a[p],a.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(p)||et(n,r,p,null,l,D)}for(f in l)if(p=l[f],D=a[f],l.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":j=p;break;case"defaultValue":S=p;break;case"multiple":_=p;default:p!==D&&et(n,r,f,p,l,D)}r=S,a=_,l=H,j!=null?Ir(n,!!a,j,!1):!!l!=!!a&&(r!=null?Ir(n,!!a,r,!0):Ir(n,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(n,r,S,null,l,f)}for(_ in l)if(f=l[_],p=a[_],l.hasOwnProperty(_)&&(f!=null||p!=null))switch(_){case"value":j=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&et(n,r,_,f,l,p)}Ku(n,j,H);return;case"option":for(var ue in a)if(j=a[ue],a.hasOwnProperty(ue)&&j!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":n.selected=!1;break;default:et(n,r,ue,null,l,j)}for(D in l)if(j=l[D],H=a[D],l.hasOwnProperty(D)&&j!==H&&(j!=null||H!=null))switch(D){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:et(n,r,D,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)j=a[me],a.hasOwnProperty(me)&&j!=null&&!l.hasOwnProperty(me)&&et(n,r,me,null,l,j);for(B in l)if(j=l[B],H=a[B],l.hasOwnProperty(B)&&j!==H&&(j!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:et(n,r,B,j,l,H)}return;default:if(Ia(r)){for(var tt in a)j=a[tt],a.hasOwnProperty(tt)&&j!==void 0&&!l.hasOwnProperty(tt)&&yp(n,r,tt,void 0,l,j);for(Q in l)j=l[Q],H=a[Q],!l.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||yp(n,r,Q,j,l,H);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&et(n,r,L,null,l,j);for(W in l)j=l[W],H=a[W],!l.hasOwnProperty(W)||j===H||j==null&&H==null||et(n,r,W,j,l,H)}function kv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u1(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],p=f.transferSize,_=f.initiatorType,S=f.duration;if(p&&S&&kv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>S)break;var Q=D.transferSize,W=D.initiatorType;Q&&kv(W)&&(D=D.responseEnd,_+=Q*(D<S?1:(S-B)/(D-B)))}if(--l,r+=8*(p+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var _p=null,vp=null;function Xc(n){return n.nodeType===9?n:n.ownerDocument}function Uv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Ep(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tp=null;function c1(){var n=window.event;return n&&n.type==="popstate"?n===Tp?!1:(Tp=n,!0):(Tp=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,h1=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,f1=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(n){return jv.resolve(null).then(n).catch(d1)}:Bv;function d1(n){setTimeout(function(){throw n})}function Jr(n){return n==="head"}function qv(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),lo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Pl(a);for(var p=a.firstChild;p;){var _=p.nextSibling,S=p.nodeName;p[_i]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||a.removeChild(p),p=_}}else a==="body"&&Pl(n.ownerDocument.body);a=f}while(a);lo(r)}function Fv(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Sp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sp(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function p1(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[_i])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Bn(n.nextSibling),n===null)break}return null}function m1(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Bn(n.nextSibling),n===null))return null;return n}function Hv(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Bn(n.nextSibling),n===null))return null;return n}function Ap(n){return n.data==="$?"||n.data==="$~"}function wp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function g1(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Bn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var bp=null;function Gv(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return Bn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function $v(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function Kv(n,r,a){switch(r=Xc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Pl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);wa(n)}var jn=new Map,Qv=new Set;function Jc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ur=ne.d;ne.d={f:y1,r:_1,D:v1,C:E1,L:T1,m:S1,X:w1,S:A1,M:b1};function y1(){var n=ur.f(),r=qc();return n||r}function _1(n){var r=On(n);r!==null&&r.tag===5&&r.type==="form"?h_(r):ur.r(n)}var so=typeof document>"u"?null:document;function Yv(n,r,a){var l=so;if(l&&typeof r=="string"&&r){var f=on(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Qv.has(f)||(Qv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",n),At(r),l.head.appendChild(r)))}}function v1(n){ur.D(n),Yv("dns-prefetch",n,null)}function E1(n,r){ur.C(n,r),Yv("preconnect",n,r)}function T1(n,r,a){ur.L(n,r,a);var l=so;if(l&&n&&r){var f='link[rel="preload"][as="'+on(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+on(a.imageSizes)+'"]')):f+='[href="'+on(n)+'"]';var p=f;switch(r){case"style":p=ao(n);break;case"script":p=oo(n)}jn.has(p)||(n=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),jn.set(p,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(kl(p))||r==="script"&&l.querySelector(Ul(p))||(r=l.createElement("link"),$t(r,"link",n),At(r),l.head.appendChild(r)))}}function S1(n,r){ur.m(n,r);var a=so;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(n)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=oo(n)}if(!jn.has(p)&&(n=T({rel:"modulepreload",href:n},r),jn.set(p,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(p)))return}l=a.createElement("link"),$t(l,"link",n),At(l),a.head.appendChild(l)}}}function A1(n,r,a){ur.S(n,r,a);var l=so;if(l&&n){var f=Ei(l).hoistableStyles,p=ao(n);r=r||"default";var _=f.get(p);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(kl(p)))S.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},a),(a=jn.get(p))&&Rp(n,a);var D=_=l.createElement("link");At(D),$t(D,"link",n),D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(p,_)}}}function w1(n,r){ur.X(n,r);var a=so;if(a&&n){var l=Ei(a).hoistableScripts,f=oo(n),p=l.get(f);p||(p=a.querySelector(Ul(f)),p||(n=T({src:n,async:!0},r),(r=jn.get(f))&&Ip(n,r),p=a.createElement("script"),At(p),$t(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function b1(n,r){ur.M(n,r);var a=so;if(a&&n){var l=Ei(a).hoistableScripts,f=oo(n),p=l.get(f);p||(p=a.querySelector(Ul(f)),p||(n=T({src:n,async:!0,type:"module"},r),(r=jn.get(f))&&Ip(n,r),p=a.createElement("script"),At(p),$t(p,"link",n),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function Xv(n,r,a,l){var f=(f=Ie.current)?Jc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ao(a.href),a=Ei(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ao(a.href);var p=Ei(f).hoistableStyles,_=p.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=f.querySelector(kl(n)))&&!p._p&&(_.instance=p,_.state.loading=5),jn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(n,a),p||R1(f,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=oo(a),a=Ei(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ao(n){return'href="'+on(n)+'"'}function kl(n){return'link[rel="stylesheet"]['+n+"]"}function Jv(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function R1(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),At(r),n.head.appendChild(r))}function oo(n){return'[src="'+on(n)+'"]'}function Ul(n){return"script[async]"+n}function Wv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return r.instance=l,At(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),At(l),$t(l,"style",f),Wc(l,a.precedence,n),r.instance=l;case"stylesheet":f=ao(a.href);var p=n.querySelector(kl(f));if(p)return r.state.loading|=4,r.instance=p,At(p),p;l=Jv(a),(f=jn.get(f))&&Rp(l,f),p=(n.ownerDocument||n).createElement("link"),At(p);var _=p;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),$t(p,"link",l),r.state.loading|=4,Wc(p,a.precedence,n),r.instance=p;case"script":return p=oo(a.src),(f=n.querySelector(Ul(p)))?(r.instance=f,At(f),f):(l=a,(f=jn.get(p))&&(l=T({},a),Ip(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),At(f),$t(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Wc(l,a.precedence,n));return r.instance}function Wc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Rp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Ip(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Zc=null;function Zv(n,r,a){if(Zc===null){var l=new Map,f=Zc=new Map;f.set(a,l)}else f=Zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var p=a[f];if(!(p[_i]||p[St]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(r)||"";_=n+_;var S=l.get(_);S?S.push(p):l.set(_,[p])}}return l}function eE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function I1(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function tE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function C1(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ao(l.href),p=r.querySelector(kl(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=eh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=p,At(p);return}p=r.ownerDocument||r,l=Jv(l),(f=jn.get(f))&&Rp(l,f),p=p.createElement("link"),At(p);var _=p;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),$t(p,"link",l),a.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=eh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var Cp=0;function D1(n,r){return n.stylesheets&&n.count===0&&nh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&nh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+r);0<n.imgBytes&&Cp===0&&(Cp=62500*u1());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&nh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Cp?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var th=null;function nh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,th=new Map,r.forEach(O1,n),th=null,eh.call(n))}function O1(n,r){if(!(r.state.loading&4)){var a=th.get(n);if(a)var l=a.get(null);else{a=new Map,th.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var _=f[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),p=a.get(_)||l,p===l&&a.set(null,f),a.set(_,f),this.count++,l=eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var zl={$$typeof:re,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function N1(n,r,a,l,f,p,_,S,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function nE(n,r,a,l,f,p,_,S,D,B,Q,W){return n=new N1(n,r,a,_,D,B,Q,W,S),r=1,p===!0&&(r|=24),p=Tn(3,null,null,r),n.current=p,p.stateNode=n,r=od(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:r},hd(p),n}function iE(n){return n?(n=Ua,n):Ua}function rE(n,r,a,l,f,p){f=iE(f),l.context===null?l.context=f:l.pendingContext=f,l=Br(r),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=jr(n,l,r),a!==null&&(dn(a,n,r),yl(a,n,r))}function sE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Dp(n,r){sE(n,r),(n=n.alternate)&&sE(n,r)}function aE(n){if(n.tag===13||n.tag===31){var r=Fs(n,67108864);r!==null&&dn(r,n,67108864),Dp(n,67108864)}}function oE(n){if(n.tag===13||n.tag===31){var r=Rn();r=Ns(r);var a=Fs(n,r);a!==null&&dn(a,n,r),Dp(n,r)}}var ih=!0;function x1(n,r,a,l){var f=G.T;G.T=null;var p=ne.p;try{ne.p=2,Op(n,r,a,l)}finally{ne.p=p,G.T=f}}function V1(n,r,a,l){var f=G.T;G.T=null;var p=ne.p;try{ne.p=8,Op(n,r,a,l)}finally{ne.p=p,G.T=f}}function Op(n,r,a,l){if(ih){var f=Np(l);if(f===null)gp(n,r,l,rh,a),uE(n,l);else if(L1(f,n,r,a,l))l.stopPropagation();else if(uE(n,l),r&4&&-1<M1.indexOf(n)){for(;f!==null;){var p=On(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=pi(p.pendingLanes);if(_!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-mt(_);S.entanglements[1]|=D,_&=~D}Vi(p),($e&6)===0&&(Bc=rn()+500,Vl(0))}}break;case 31:case 13:S=Fs(p,2),S!==null&&dn(S,p,2),qc(),Dp(p,2)}if(p=Np(l),p===null&&gp(n,r,l,rh,a),p===f)break;f=p}f!==null&&l.stopPropagation()}else gp(n,r,l,null,a)}}function Np(n){return n=Nn(n),xp(n)}var rh=null;function xp(n){if(rh=null,n=vi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=d(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return rh=n,null}function lE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Is()){case qo:return 2;case Fo:return 8;case br:case Uf:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var Vp=!1,Wr=null,Zr=null,es=null,Bl=new Map,jl=new Map,ts=[],M1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uE(n,r){switch(n){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function ql(n,r,a,l,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=On(r),r!==null&&aE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function L1(n,r,a,l,f){switch(r){case"focusin":return Wr=ql(Wr,n,r,a,l,f),!0;case"dragenter":return Zr=ql(Zr,n,r,a,l,f),!0;case"mouseover":return es=ql(es,n,r,a,l,f),!0;case"pointerover":var p=f.pointerId;return Bl.set(p,ql(Bl.get(p)||null,n,r,a,l,f)),!0;case"gotpointercapture":return p=f.pointerId,jl.set(p,ql(jl.get(p)||null,n,r,a,l,f)),!0}return!1}function cE(n){var r=vi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,Qn(n.priority,function(){oE(a)});return}}else if(r===31){if(r=d(a),r!==null){n.blockedOn=r,Qn(n.priority,function(){oE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Np(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return r=On(a),r!==null&&aE(r),n.blockedOn=a,!1;r.shift()}return!0}function hE(n,r,a){sh(n)&&a.delete(r)}function P1(){Vp=!1,Wr!==null&&sh(Wr)&&(Wr=null),Zr!==null&&sh(Zr)&&(Zr=null),es!==null&&sh(es)&&(es=null),Bl.forEach(hE),jl.forEach(hE)}function ah(n,r){n.blockedOn===r&&(n.blockedOn=null,Vp||(Vp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,P1)))}var oh=null;function fE(n){oh!==n&&(oh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oh===n&&(oh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(xp(l||a)===null)continue;break}var p=On(a);p!==null&&(n.splice(r,3),r-=3,Nd(p,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lo(n){function r(D){return ah(D,n)}Wr!==null&&ah(Wr,n),Zr!==null&&ah(Zr,n),es!==null&&ah(es,n),Bl.forEach(r),jl.forEach(r);for(var a=0;a<ts.length;a++){var l=ts[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)cE(a),a.blockedOn===null&&ts.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],_=f[kt]||null;if(typeof p=="function")_||fE(a);else if(_){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,_=p[kt]||null)S=_.formAction;else if(xp(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),fE(a)}}}function dE(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Mp(n){this._internalRoot=n}lh.prototype.render=Mp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Rn();rE(a,l,n,r,null,null)},lh.prototype.unmount=Mp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;rE(n.current,2,null,n,null,null),qc(),r[yi]=null}};function lh(n){this._internalRoot=n}lh.prototype.unstable_scheduleHydration=function(n){if(n){var r=qu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ts.length&&r!==0&&r<ts[a].priority;a++);ts.splice(a,0,n),a===0&&cE(n)}};var pE=e.version;if(pE!=="19.2.0")throw Error(s(527,pE,"19.2.0"));ne.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var k1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{$n=uh.inject(k1),jt=uh}catch{}}return Gl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=T_,p=S_,_=A_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=nE(n,1,!1,null,null,a,l,null,f,p,_,dE),n[yi]=r.current,mp(n),new Mp(r)},Gl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",p=T_,_=S_,S=A_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=nE(n,1,!0,r,a??null,l,f,D,p,_,S,dE),r.context=iE(null),a=r.current,l=Rn(),l=Ns(l),f=Br(l),f.callback=null,jr(a,f,l),a=l,r.current.lanes=a,Ds(r,a),Vi(r),n[yi]=r.current,mp(n),new lh(r)},Gl.version="19.2.0",Gl}var HE;function LR(){if(HE)return Up.exports;HE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Up.exports=MR(),Up.exports}var PR=LR();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GE="popstate";function kR(i={}){function e(s,o){let{pathname:u,search:c,hash:d}=s.location;return lm("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:cu(o)}return zR(e,t,null,i)}function xt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UR(){return Math.random().toString(36).substring(2,10)}function $E(i,e){return{usr:i.state,key:i.key,idx:e}}function lm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Su(e):e,state:t,key:e&&e.key||s||UR()}}function cu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Su(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function zR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let q=v(),te=q==null?null:q-g;g=q,m&&m({action:d,location:K.location,delta:te})}function w(q,te){d="PUSH";let ee=lm(K.location,q,te);g=v()+1;let re=$E(ee,g),pe=K.createHref(ee);try{c.pushState(re,"",pe)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(pe)}u&&m&&m({action:d,location:K.location,delta:1})}function N(q,te){d="REPLACE";let ee=lm(K.location,q,te);g=v();let re=$E(ee,g),pe=K.createHref(ee);c.replaceState(re,"",pe),u&&m&&m({action:d,location:K.location,delta:0})}function P(q){return BR(q)}let K={get action(){return d},get location(){return i(o,c)},listen(q){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(GE,T),m=q,()=>{o.removeEventListener(GE,T),m=null}},createHref(q){return e(o,q)},createURL:P,encodeLocation(q){let te=P(q);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:N,go(q){return c.go(q)}};return K}function BR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),xt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:cu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function H0(i,e,t="/"){return jR(i,e,t,!1)}function jR(i,e,t,s){let o=typeof e=="string"?Su(e):e,u=gr(o.pathname||"/",t);if(u==null)return null;let c=G0(i);qR(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=ZR(u);d=JR(c[m],g,s)}return d}function G0(i,e=[],t=[],s="",o=!1){let u=(c,d,m=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;xt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=dr([s,v.relativePath]),w=t.concat(v);c.children&&c.children.length>0&&(xt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),G0(c.children,e,w,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:YR(T,c.index),routesMeta:w})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let m of $0(c.path))u(c,d,!0,m)}),e}function $0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=$0(s.join("/")),d=[];return d.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...c),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function qR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:XR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var FR=/^:[\w-]+$/,HR=3,GR=2,$R=1,KR=10,QR=-2,KE=i=>i==="*";function YR(i,e){let t=i.split("/"),s=t.length;return t.some(KE)&&(s+=QR),e&&(s+=GR),t.filter(o=>!KE(o)).reduce((o,u)=>o+(FR.test(u)?HR:u===""?$R:KR),s)}function XR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function JR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Lh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:dr([u,T.pathname]),pathnameBase:iI(dr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=dr([u,T.pathnameBase]))}return c}function Lh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=WR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let P=d[w]||"";c=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const N=d[w];return T&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function WR(i,e=!1,t=!0){si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ZR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function eI(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Su(i):i;return{pathname:t?t.startsWith("/")?t:tI(t,e):e,search:rI(s),hash:sI(o)}}function tI(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nI(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Um(i){let e=nI(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function zm(i,e,t,s=!1){let o;typeof i=="string"?o=Su(i):(o={...i},xt(!o.pathname||!o.pathname.includes("?"),qp("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),qp("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),qp("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let m=eI(o,d),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var dr=i=>i.join("/").replace(/\/\/+/g,"/"),iI=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),rI=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,sI=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function aI(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var K0=["POST","PUT","PATCH","DELETE"];new Set(K0);var oI=["GET",...K0];new Set(oI);var Do=$.createContext(null);Do.displayName="DataRouter";var sf=$.createContext(null);sf.displayName="DataRouterState";$.createContext(!1);var Q0=$.createContext({isTransitioning:!1});Q0.displayName="ViewTransition";var lI=$.createContext(new Map);lI.displayName="Fetchers";var uI=$.createContext(null);uI.displayName="Await";var ui=$.createContext(null);ui.displayName="Navigation";var af=$.createContext(null);af.displayName="Location";var ci=$.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Bm=$.createContext(null);Bm.displayName="RouteError";function cI(i,{relative:e}={}){xt(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=$.useContext(ui),{hash:o,pathname:u,search:c}=Au(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:dr([t,u])),s.createHref({pathname:d,search:c,hash:o})}function Oo(){return $.useContext(af)!=null}function Es(){return xt(Oo(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(af).location}var Y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X0(i){$.useContext(ui).static||$.useLayoutEffect(i)}function jm(){let{isDataRoute:i}=$.useContext(ci);return i?AI():hI()}function hI(){xt(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(Do),{basename:e,navigator:t}=$.useContext(ui),{matches:s}=$.useContext(ci),{pathname:o}=Es(),u=JSON.stringify(Um(s)),c=$.useRef(!1);return X0(()=>{c.current=!0}),$.useCallback((m,g={})=>{if(si(c.current,Y0),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=zm(m,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:dr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}$.createContext(null);function uP(){let{matches:i}=$.useContext(ci),e=i[i.length-1];return e?e.params:{}}function Au(i,{relative:e}={}){let{matches:t}=$.useContext(ci),{pathname:s}=Es(),o=JSON.stringify(Um(t));return $.useMemo(()=>zm(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function fI(i,e){return J0(i)}function J0(i,e,t,s,o){xt(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=$.useContext(ui),{matches:c}=$.useContext(ci),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let ee=T&&T.path||"";W0(g,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let w=Es(),N;N=w;let P=N.pathname||"/",K=P;if(v!=="/"){let ee=v.replace(/^\//,"").split("/");K="/"+P.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=H0(i,{pathname:K});return si(T||q!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),si(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),yI(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},m,ee.params),pathname:dr([v,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?v:dr([v,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),c,t,s,o)}function dI(){let i=SI(),e=aI(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,c)}var pI=$.createElement(dI,null),mI=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?$.createElement(ci.Provider,{value:this.props.routeContext},$.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gI({routeContext:i,match:e,children:t}){let s=$.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ci.Provider,{value:i},t)}function yI(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,c=t?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);xt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,m=-1;if(t)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:T,errors:w}=t,N=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||N){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let w,N=!1,P=null,K=null;t&&(w=c&&v.route.id?c[v.route.id]:void 0,P=v.route.errorElement||pI,d&&(m<0&&T===0?(W0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,K=null):m===T&&(N=!0,K=v.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,T+1)),te=()=>{let ee;return w?ee=P:N?ee=K:v.route.Component?ee=$.createElement(v.route.Component,null):v.route.element?ee=v.route.element:ee=g,$.createElement(gI,{match:v,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:ee})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?$.createElement(mI,{location:t.location,revalidation:t.revalidation,component:P,error:w,children:te(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):te()},null)}function qm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _I(i){let e=$.useContext(Do);return xt(e,qm(i)),e}function vI(i){let e=$.useContext(sf);return xt(e,qm(i)),e}function EI(i){let e=$.useContext(ci);return xt(e,qm(i)),e}function Fm(i){let e=EI(i),t=e.matches[e.matches.length-1];return xt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function TI(){return Fm("useRouteId")}function SI(){let i=$.useContext(Bm),e=vI("useRouteError"),t=Fm("useRouteError");return i!==void 0?i:e.errors?.[t]}function AI(){let{router:i}=_I("useNavigate"),e=Fm("useNavigate"),t=$.useRef(!1);return X0(()=>{t.current=!0}),$.useCallback(async(o,u={})=>{si(t.current,Y0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var QE={};function W0(i,e,t){!e&&!QE[i]&&(QE[i]=!0,si(!1,t))}$.memo(wI);function wI({routes:i,future:e,state:t,unstable_onError:s}){return J0(i,void 0,t,s,e)}function hh({to:i,replace:e,state:t,relative:s}){xt(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=$.useContext(ui);si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(ci),{pathname:c}=Es(),d=jm(),m=zm(i,Um(u),c,s==="path"),g=JSON.stringify(m);return $.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function bI({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){xt(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=Su(t));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:w="default"}=t,N=$.useMemo(()=>{let P=gr(m,c);return P==null?null:{location:{pathname:P,search:g,hash:v,state:T,key:w},navigationType:s}},[c,m,g,v,T,w,s]);return si(N!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(ui.Provider,{value:d},$.createElement(af.Provider,{children:e,value:N}))}var Eh="get",Th="application/x-www-form-urlencoded";function of(i){return i!=null&&typeof i.tagName=="string"}function RI(i){return of(i)&&i.tagName.toLowerCase()==="button"}function II(i){return of(i)&&i.tagName.toLowerCase()==="form"}function CI(i){return of(i)&&i.tagName.toLowerCase()==="input"}function DI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function OI(i,e){return i.button===0&&(!e||e==="_self")&&!DI(i)}var fh=null;function NI(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var xI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fp(i){return i!=null&&!xI.has(i)?(si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):i}function VI(i,e){let t,s,o,u,c;if(II(i)){let d=i.getAttribute("action");s=d?gr(d,e):null,t=i.getAttribute("method")||Eh,o=Fp(i.getAttribute("enctype"))||Th,u=new FormData(i)}else if(RI(i)||CI(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(s=m?gr(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Eh,o=Fp(i.getAttribute("formenctype"))||Fp(d.getAttribute("enctype"))||Th,u=new FormData(d,i),!NI()){let{name:g,type:v,value:T}=i;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Eh,s=null,o=Th,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function MI(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&gr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function LI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function kI(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await LI(u,t);return c.links?c.links():[]}return[]}));return jI(s.flat(1).filter(PI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function YE(i,e,t,s,o,u){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):u==="data"?e.filter((m,g)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function UI(i,e,{includeHydrateFallback:t}={}){return zI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function zI(i){return[...new Set(i)]}function BI(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function jI(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(BI(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function Z0(){let i=$.useContext(Do);return Hm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function qI(){let i=$.useContext(sf);return Hm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Gm=$.createContext(void 0);Gm.displayName="FrameworkContext";function eS(){let i=$.useContext(Gm);return Hm(i,"You must render this element inside a <HydratedRouter> element"),i}function FI(i,e){let t=$.useContext(Gm),[s,o]=$.useState(!1),[u,c]=$.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=$.useRef(null);$.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let K=te=>{te.forEach(ee=>{c(ee.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[i]),$.useEffect(()=>{if(s){let K=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(K)}}},[s]);let N=()=>{o(!0)},P=()=>{o(!1),c(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:$l(d,N),onBlur:$l(m,P),onMouseEnter:$l(g,N),onMouseLeave:$l(v,P),onTouchStart:$l(T,N)}]:[!1,w,{}]}function $l(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function HI({page:i,...e}){let{router:t}=Z0(),s=$.useMemo(()=>H0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?$.createElement($I,{page:i,matches:s,...e}):null}function GI(i){let{manifest:e,routeModules:t}=eS(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return kI(i,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,t]),s}function $I({page:i,matches:e,...t}){let s=Es(),{manifest:o,routeModules:u}=eS(),{basename:c}=Z0(),{loaderData:d,matches:m}=qI(),g=$.useMemo(()=>YE(i,e,m,o,s,"data"),[i,e,m,o,s]),v=$.useMemo(()=>YE(i,e,m,o,s,"assets"),[i,e,m,o,s]),T=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,K=!1;if(e.forEach(te=>{let ee=o.routes[te.route.id];!ee||!ee.hasLoader||(!g.some(re=>re.route.id===te.route.id)&&te.route.id in d&&u[te.route.id]?.shouldRevalidate||ee.hasClientLoader?K=!0:P.add(te.route.id))}),P.size===0)return[];let q=MI(i,c,"data");return K&&P.size>0&&q.searchParams.set("_routes",e.filter(te=>P.has(te.route.id)).map(te=>te.route.id).join(",")),[q.pathname+q.search]},[c,d,s,o,g,e,i,u]),w=$.useMemo(()=>UI(v,o),[v,o]),N=GI(v);return $.createElement($.Fragment,null,T.map(P=>$.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),w.map(P=>$.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),N.map(({key:P,link:K})=>$.createElement("link",{key:P,nonce:t.nonce,...K})))}function KI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tS&&(window.__reactRouterVersion="7.9.3")}catch{}function QI({basename:i,children:e,window:t}){let s=$.useRef();s.current==null&&(s.current=kR({window:t,v5Compat:!0}));let o=s.current,[u,c]=$.useState({action:o.action,location:o.location}),d=$.useCallback(m=>{$.startTransition(()=>c(m))},[c]);return $.useLayoutEffect(()=>o.listen(d),[o,d]),$.createElement(bI,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iS=$.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:T,...w},N){let{basename:P}=$.useContext(ui),K=typeof g=="string"&&nS.test(g),q,te=!1;if(typeof g=="string"&&K&&(q=g,tS))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),x=gr(M.pathname,P);M.origin===R.origin&&x!=null?g=x+M.search+M.hash:te=!0}catch{si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=cI(g,{relative:o}),[re,pe,_e]=FI(s,w),Te=WI(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:T});function C(R){e&&e(R),R.defaultPrevented||Te(R)}let b=$.createElement("a",{...w,..._e,href:q||ee,onClick:te||u?e:C,ref:KI(N,pe),target:m,"data-discover":!K&&t==="render"?"true":void 0});return re&&!K?$.createElement($.Fragment,null,b,$.createElement(HI,{page:ee})):b});iS.displayName="Link";var YI=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:m,...g},v){let T=Au(c,{relative:g.relative}),w=Es(),N=$.useContext(sf),{navigator:P,basename:K}=$.useContext(ui),q=N!=null&&iC(T)&&d===!0,te=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,ee=w.pathname,re=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),re=re?re.toLowerCase():null,te=te.toLowerCase()),re&&K&&(re=gr(re,K)||re);const pe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let _e=ee===te||!o&&ee.startsWith(te)&&ee.charAt(pe)==="/",Te=re!=null&&(re===te||!o&&re.startsWith(te)&&re.charAt(te.length)==="/"),C={isActive:_e,isPending:Te,isTransitioning:q},b=_e?e:void 0,R;typeof s=="function"?R=s(C):R=[s,_e?"active":null,Te?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(C):u;return $.createElement(iS,{...g,"aria-current":b,className:R,ref:v,style:M,to:c,viewTransition:d},typeof m=="function"?m(C):m)});YI.displayName="NavLink";var XI=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:c=Eh,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...w},N)=>{let P=tC(),K=nC(d,{relative:g}),q=c.toLowerCase()==="get"?"get":"post",te=typeof d=="string"&&nS.test(d),ee=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let pe=re.nativeEvent.submitter,_e=pe?.getAttribute("formmethod")||c;P(pe||re.currentTarget,{fetcherKey:e,method:_e,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return $.createElement("form",{ref:N,method:q,action:K,onSubmit:s?m:ee,...w,"data-discover":!te&&i==="render"?"true":void 0})});XI.displayName="Form";function JI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rS(i){let e=$.useContext(Do);return xt(e,JI(i)),e}function WI(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let d=jm(),m=Es(),g=Au(i,{relative:u});return $.useCallback(v=>{if(OI(v,e)){v.preventDefault();let T=t!==void 0?t:cu(m)===cu(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[m,d,g,t,s,e,i,o,u,c])}var ZI=0,eC=()=>`__${String(++ZI)}__`;function tC(){let{router:i}=rS("useSubmit"),{basename:e}=$.useContext(ui),t=TI();return $.useCallback(async(s,o={})=>{let{action:u,method:c,encType:d,formData:m,body:g}=VI(s,e);if(o.navigate===!1){let v=o.fetcherKey||eC();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function nC(i,{relative:e}={}){let{basename:t}=$.useContext(ui),s=$.useContext(ci);xt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(i||".",{relative:e})},c=Es();if(i==null){u.search=c.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:dr([t,u.pathname])),cu(u)}function iC(i,{relative:e}={}){let t=$.useContext(Q0);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rS("useViewTransitionState"),o=Au(i,{relative:e});if(!t.isTransitioning)return!1;let u=gr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=gr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Lh(o.pathname,c)!=null||Lh(o.pathname,u)!=null}const rC="modulepreload",sC=function(i){return"/"+i},XE={},nn=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let m=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=m(t.map(g=>{if(g=sC(g),g in XE)return;XE[g]=!0;const v=g.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":rC,v||(w.as="script"),w.crossOrigin="",w.href=g,d&&w.setAttribute("nonce",d),document.head.appendChild(w),v)return new Promise((N,P)=>{w.addEventListener("load",N),w.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return e().catch(u)})},aC=()=>{};var JE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},oC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],c=i[t++],d=i[t++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[t++],c=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},aS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,d=c?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,N=g&63;m||(N=64,c||(w=64)),s.push(t[v],t[T],t[w],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(sS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):oC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new lC;const w=u<<2|d>>4;if(s.push(w),g!==64){const N=d<<4&240|g>>2;if(s.push(N),T!==64){const P=g<<6&192|T;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class lC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uC=function(i){const e=sS(i);return aS.encodeByteArray(e,!0)},Ph=function(i){return uC(i).replace(/\./g,"")},oS=function(i){try{return aS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=()=>cC().__FIREBASE_DEFAULTS__,fC=()=>{if(typeof process>"u"||typeof JE>"u")return;const i=JE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},dC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&oS(i[1]);return e&&JSON.parse(e)},lf=()=>{try{return aC()||hC()||fC()||dC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},lS=i=>lf()?.emulatorHosts?.[i],pC=i=>{const e=lS(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},uS=()=>lf()?.config,cS=i=>lf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hS(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ph(JSON.stringify(t)),Ph(JSON.stringify(c)),""].join(".")}const tu={};function yC(){const i={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?i.emulator.push(e):i.prod.push(e);return i}function _C(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let WE=!1;function fS(i,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||tu[i]===e||tu[i]||WE)return;tu[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=yC().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{WE=!0,c()},w}function v(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=_C(s),N=t("text"),P=document.getElementById(N)||document.createElement("span"),K=t("learnmore"),q=document.getElementById(K)||document.createElement("a"),te=t("preprendIcon"),ee=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;d(re),v(q,K);const pe=g();m(ee,te),re.append(ee,P,q,pe),document.body.appendChild(re)}u?(P.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function EC(){const i=lf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $m(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AC(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function wC(){return!EC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Km(){try{return typeof indexedDB=="object"}catch{return!1}}function Qm(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function dS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="FirebaseError";class hi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=bC,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pa.prototype.create)}}class pa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?RC(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new hi(o,d,s)}}function RC(i,e){return i.replace(IC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const IC=/\{\$([^}]+)}/g;function CC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ds(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(ZE(u)&&ZE(c)){if(!ds(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ZE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ql(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function DC(i,e){const t=new OC(i,e);return t.subscribe.bind(t)}class OC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");NC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Hp),o.error===void 0&&(o.error=Hp),o.complete===void 0&&(o.complete=Hp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1e3,VC=2,MC=14400*1e3,LC=.5;function eT(i,e=xC,t=VC){const s=e*Math.pow(t,i),o=Math.round(LC*s*(Math.random()-.5)*2);return Math.min(MC,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(i){return i&&i._delegate?i._delegate:i}class ai{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new mC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UC(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kC(i){return i===ia?void 0:i}function UC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const BC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},jC=Le.INFO,qC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},FC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=qC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uf{constructor(e){this.name=e,this._logLevel=jC,this._logHandler=FC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const HC=(i,e)=>e.some(t=>i instanceof t);let tT,nT;function GC(){return tT||(tT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $C(){return nT||(nT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,um=new WeakMap,mS=new WeakMap,Gp=new WeakMap,Ym=new WeakMap;function KC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{t(us(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&pS.set(t,i)}).catch(()=>{}),Ym.set(e,i),e}function QC(i){if(um.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});um.set(i,e)}let cm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function YC(i){cm=i(cm)}function XC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call($p(this),e,...t);return mS.set(s,e.sort?e.sort():[e]),us(s)}:$C().includes(i)?function(...e){return i.apply($p(this),e),us(pS.get(this))}:function(...e){return us(i.apply($p(this),e))}}function JC(i){return typeof i=="function"?XC(i):(i instanceof IDBTransaction&&QC(i),HC(i,GC())?new Proxy(i,cm):i)}function us(i){if(i instanceof IDBRequest)return KC(i);if(Gp.has(i))return Gp.get(i);const e=JC(i);return e!==i&&(Gp.set(i,e),Ym.set(e,i)),e}const $p=i=>Ym.get(i);function gS(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),d=us(c);return s&&c.addEventListener("upgradeneeded",m=>{s(us(c.result),m.oldVersion,m.newVersion,us(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const WC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],Kp=new Map;function iT(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=ZC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WC.includes(t)))return;const u=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return Kp.set(e,u),u}YC(i=>({...i,get:(e,t,s)=>iT(e,t)||i.get(e,t,s),has:(e,t)=>!!iT(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tD(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function tD(i){return i.getComponent()?.type==="VERSION"}const hm="@firebase/app",rT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new uf("@firebase/app"),nD="@firebase/app-compat",iD="@firebase/analytics-compat",rD="@firebase/analytics",sD="@firebase/app-check-compat",aD="@firebase/app-check",oD="@firebase/auth",lD="@firebase/auth-compat",uD="@firebase/database",cD="@firebase/data-connect",hD="@firebase/database-compat",fD="@firebase/functions",dD="@firebase/functions-compat",pD="@firebase/installations",mD="@firebase/installations-compat",gD="@firebase/messaging",yD="@firebase/messaging-compat",_D="@firebase/performance",vD="@firebase/performance-compat",ED="@firebase/remote-config",TD="@firebase/remote-config-compat",SD="@firebase/storage",AD="@firebase/storage-compat",wD="@firebase/firestore",bD="@firebase/ai",RD="@firebase/firestore-compat",ID="firebase",CD="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="[DEFAULT]",DD={[hm]:"fire-core",[nD]:"fire-core-compat",[rD]:"fire-analytics",[iD]:"fire-analytics-compat",[aD]:"fire-app-check",[sD]:"fire-app-check-compat",[oD]:"fire-auth",[lD]:"fire-auth-compat",[uD]:"fire-rtdb",[cD]:"fire-data-connect",[hD]:"fire-rtdb-compat",[fD]:"fire-fn",[dD]:"fire-fn-compat",[pD]:"fire-iid",[mD]:"fire-iid-compat",[gD]:"fire-fcm",[yD]:"fire-fcm-compat",[_D]:"fire-perf",[vD]:"fire-perf-compat",[ED]:"fire-rc",[TD]:"fire-rc-compat",[SD]:"fire-gcs",[AD]:"fire-gcs-compat",[wD]:"fire-fst",[RD]:"fire-fst-compat",[bD]:"fire-vertex","fire-js":"fire-js",[ID]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,OD=new Map,dm=new Map;function sT(i,e){try{i.container.addComponent(e)}catch(t){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function qi(i){const e=i.name;if(dm.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,i);for(const t of kh.values())sT(t,i);for(const t of OD.values())sT(t,i);return!0}function ma(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new pa("app","Firebase",ND);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=CD;function yS(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(t||(t=uS()),!t)throw cs.create("no-options");const u=kh.get(o);if(u){if(ds(t,u.options)&&ds(s,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const c=new zC(o);for(const m of dm.values())c.addComponent(m);const d=new xD(t,s,c);return kh.set(o,d),d}function Xm(i=fm){const e=kh.get(i);if(!e&&i===fm&&uS())return yS();if(!e)throw cs.create("no-app",{appName:i});return e}function Hn(i,e,t){let s=DD[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(c.join(" "));return}qi(new ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebase-heartbeat-database",MD=1,hu="firebase-heartbeat-store";let Qp=null;function _S(){return Qp||(Qp=gS(VD,MD,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(i=>{throw cs.create("idb-open",{originalErrorMessage:i.message})})),Qp}async function LD(i){try{const t=(await _S()).transaction(hu),s=await t.objectStore(hu).get(vS(i));return await t.done,s}catch(e){if(e instanceof hi)yr.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e?.message});yr.warn(t.message)}}}async function aT(i,e){try{const s=(await _S()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,vS(i)),await s.done}catch(t){if(t instanceof hi)yr.warn(t.message);else{const s=cs.create("idb-set",{originalErrorMessage:t?.message});yr.warn(s.message)}}}function vS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=1024,kD=30;class UD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BD(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>kD){const o=jD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oT(),{heartbeatsToSend:t,unsentEntries:s}=zD(this._heartbeatsCache.heartbeats),o=Ph(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yr.warn(e),""}}}function oT(){return new Date().toISOString().substring(0,10)}function zD(i,e=PD){const t=[];let s=i.slice();for(const o of i){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),lT(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),lT(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Km()?Qm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LD(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lT(i){return Ph(JSON.stringify({version:2,heartbeats:i})).length}function jD(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(i){qi(new ai("platform-logger",e=>new eD(e),"PRIVATE")),qi(new ai("heartbeat",e=>new UD(e),"PRIVATE")),Hn(hm,rT,i),Hn(hm,rT,"esm2020"),Hn("fire-js","")}qD("");function ES(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FD=ES,TS=new pa("auth","Firebase",ES());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new uf("@firebase/auth");function HD(i,...e){Uh.logLevel<=Le.WARN&&Uh.warn(`Auth (${xo}): ${i}`,...e)}function Sh(i,...e){Uh.logLevel<=Le.ERROR&&Uh.error(`Auth (${xo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(i,...e){throw Jm(i,...e)}function Pi(i,...e){return Jm(i,...e)}function SS(i,e,t){const s={...FD(),[e]:t};return new pa("auth","Firebase",s).create(e,{appName:i.name})}function pr(i){return SS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return TS.create(i,...e)}function ge(i,e,...t){if(!i)throw Jm(e,...t)}function cr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Sh(e),new Error(e)}function _r(i,e){i||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(){return typeof self<"u"&&self.location?.href||""}function GD(){return uT()==="http:"||uT()==="https:"}function uT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GD()||$m()||"connection"in navigator)?navigator.onLine:!0}function KD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,_r(t>e,"Short delay should be less than long delay!"),this.isMobile=vC()||SC()}get(){return $D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(i,e){_r(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XD=new bu(3e4,6e4);function Ts(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ar(i,e,t,s,o={}){return wS(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=wu({key:i.config.apiKey,...c}).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:m,...u};return TC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&No(i.emulatorConfig.host)&&(g.credentials="include"),AS.fetch()(await bS(i,i.config.apiHost,t,d),g)})}async function wS(i,e,t){i._canInitEmulator=!1;const s={...QD,...e};try{const o=new WD(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw dh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(i,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw dh(i,"email-already-in-use",c);if(m==="USER_DISABLED")throw dh(i,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw SS(i,v,g);oi(i,v)}}catch(o){if(o instanceof hi)throw o;oi(i,"network-request-failed",{message:String(o)})}}async function Ru(i,e,t,s,o={}){const u=await Ar(i,e,t,s,o);return"mfaPendingCredential"in u&&oi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function bS(i,e,t,s){const o=`${e}${t}?${s}`,u=i,c=u.config.emulator?Wm(i.config,o):`${i.config.apiScheme}://${o}`;return YD.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function JD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),XD.get())})}}function dh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Pi(i,e,s);return o.customData._tokenResponse=t,o}function cT(i){return i!==void 0&&i.enterprise!==void 0}class ZD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eO(i,e){return Ar(i,"GET","/v2/recaptchaConfig",Ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(i,e){return Ar(i,"POST","/v1/accounts:delete",e)}async function zh(i,e){return Ar(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RS(i,e=!1){const t=ut(i),s=await t.getIdToken(e),o=Zm(s);ge(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:nu(Yp(o.auth_time)),issuedAtTime:nu(Yp(o.iat)),expirationTime:nu(Yp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Yp(i){return Number(i)*1e3}function Zm(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=oS(t);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hT(i){const e=Zm(i);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof hi&&nO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function nO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(i){const e=i.auth,t=await i.getIdToken(),s=await So(i,zh(e,{idToken:t}));ge(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?IS(o.providerUserInfo):[],c=sO(i.providerData,u),d=i.isAnonymous,m=!(i.email&&o.passwordHash)&&!c?.length,g=d?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function rO(i){const e=ut(i);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sO(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function IS(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(i,e){const t=await wS(i,{},async()=>{const s=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await bS(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return i.emulatorConfig&&No(i.emulatorConfig.host)&&(m.credentials="include"),AS.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oO(i,e){return Ar(i,"POST","/v2/accounts:revokeToken",Ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=hT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await aO(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,c=new _o;return s&&(ge(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(i,e){ge(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new iO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await So(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RS(this,e)}reload(){return rO(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await So(this,tO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:N,providerData:P,stsTokenManager:K}=t;ge(T&&K,e,"internal-error");const q=_o.fromJSON(this.name,K);ge(typeof T=="string",e,"internal-error"),is(s,e.name),is(o,e.name),ge(typeof w=="boolean",e,"internal-error"),ge(typeof N=="boolean",e,"internal-error"),is(u,e.name),is(c,e.name),is(d,e.name),is(m,e.name),is(g,e.name),is(v,e.name);const te=new ri({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:N,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:q,createdAt:g,lastLoginAt:v});return P&&Array.isArray(P)&&(te.providerData=P.map(ee=>({...ee}))),m&&(te._redirectEventId=m),te}static async _fromIdTokenResponse(e,t,s=!1){const o=new _o;o.updateFromServerResponse(t);const u=new ri({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new _o;d.updateFromIdToken(s);const m=new ri({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;function hr(i){_r(i instanceof Function,"Expected a class definition");let e=fT.get(i);return e?(_r(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,fT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CS.type="NONE";const dT=CS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i,e,t){return`firebase:${i}:${e}:${t}`}class vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ah("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new vo(hr(dT),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hr(dT);const c=Ah(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const w=await zh(e,{idToken:v}).catch(()=>{});if(!w)break;T=await ri._fromGetAccountInfoResponse(e,w,v)}else T=ri._fromJSON(e,v);g!==u&&(d=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new vo(u,e,s):(u=m[0],d&&await u._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MS(e))return"Blackberry";if(LS(e))return"Webos";if(OS(e))return"Safari";if((e.includes("chrome/")||NS(e))&&!e.includes("edge/"))return"Chrome";if(VS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function DS(i=en()){return/firefox\//i.test(i)}function OS(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NS(i=en()){return/crios\//i.test(i)}function xS(i=en()){return/iemobile/i.test(i)}function VS(i=en()){return/android/i.test(i)}function MS(i=en()){return/blackberry/i.test(i)}function LS(i=en()){return/webos/i.test(i)}function eg(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lO(i=en()){return eg(i)&&!!window.navigator?.standalone}function uO(){return AC()&&document.documentMode===10}function PS(i=en()){return eg(i)||VS(i)||LS(i)||MS(i)||/windows phone/i.test(i)||xS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(i,e=[]){let t;switch(i){case"Browser":t=pT(en());break;case"Worker":t=`${pT(en())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((c,d)=>{try{const m=e(u);c(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(i,e={}){return Ar(i,"GET","/v2/passwordPolicy",Ts(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=6;class dO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new cO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(pr(this));const t=e?ut(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hO(this),t=new dO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await oO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hr(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ga(i){return ut(i)}class mT{constructor(e){this.auth=e,this.observer=null,this.addObserver=DC(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mO(i){cf=i}function US(i){return cf.loadJS(i)}function gO(){return cf.recaptchaEnterpriseScript}function yO(){return cf.gapiScript}function _O(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class vO{constructor(){this.enterprise=new EO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class EO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const TO="recaptcha-enterprise",zS="NO_RECAPTCHA";class SO{constructor(e){this.type=TO,this.auth=ga(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{eO(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new ZD(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(u,c,d){const m=window.grecaptcha;cT(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(zS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vO().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(d=>{if(!t&&cT(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=gO();m.length!==0&&(m+=d),US(m).then(()=>{o(d,u,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function gT(i,e,t,s=!1,o=!1){const u=new SO(i);let c;if(o)c=zS;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function gm(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await gT(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await gT(i,e,t,t==="getOobCode");return s(i,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(i,e){const t=ma(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ds(u,e??{}))return o;oi(o,"already-initialized")}return t.initialize({options:e})}function wO(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(hr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function bO(i,e,t){const s=ga(i);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=BS(e),{host:c,port:d}=RO(e),m=d===null?"":`:${d}`,g={url:`${u}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(ds(g,s.config.emulator)&&ds(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,No(c)?(hS(`${u}//${c}${m}`),fS("Auth",!0)):IO()}function BS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function RO(i){const e=BS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:yT(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:yT(c)}}}function yT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function IO(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,t){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function CO(i,e){return Ar(i,"POST","/v1/accounts:update",e)}async function DO(i,e){return Ar(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(i,e){return Ru(i,"POST","/v1/accounts:signInWithPassword",Ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(i,e){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",Ts(i,e))}async function xO(i,e){return Ru(i,"POST","/v1/accounts:signInWithEmailLink",Ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends tg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new fu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new fu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,t,"signInWithPassword",OO);case"emailLink":return NO(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(e,s,"signUpPassword",DO);case"emailLink":return xO(e,{idToken:t,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i,e){return Ru(i,"POST","/v1/accounts:signInWithIdp",Ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="http://localhost";class la extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const c=new la(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Eo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Eo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Eo(e,t)}buildRequest(){const e={requestUri:VO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LO(i){const e=Ql(Yl(i)).link,t=e?Ql(Yl(e)).deep_link_id:null,s=Ql(Yl(i)).deep_link_id;return(s?Ql(Yl(s)).link:null)||s||t||e||i}class ng{constructor(e){const t=Ql(Yl(e)),s=t.apiKey??null,o=t.oobCode??null,u=MO(t.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=LO(e);try{return new ng(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,t){return fu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ng.parseLink(t);return ge(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends jS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Iu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return la._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ss.credential(t,s)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Iu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Iu{constructor(){super("twitter.com")}static credential(e,t){return la._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return os.credential(t,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(i,e){return Ru(i,"POST","/v1/accounts:signUp",Ts(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),c=_T(s);return new ua({user:u,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=_T(s);return new ua({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function _T(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends hi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new jh(e,t,s,o)}}function qS(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(i,u,e,s):u})}async function kO(i,e,t=!1){const s=await So(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ua._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(i,e,t=!1){const{auth:s}=i;if(qn(s.app))return Promise.reject(pr(s));const o="reauthenticate";try{const u=await So(i,qS(s,o,e,i),t);ge(u.idToken,s,"internal-error");const c=Zm(u.idToken);ge(c,s,"internal-error");const{sub:d}=c;return ge(i.uid===d,s,"user-mismatch"),ua._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&oi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(i,e,t=!1){if(qn(i.app))return Promise.reject(pr(i));const s="signIn",o=await qS(i,s,e),u=await ua._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function UO(i,e){return HS(ga(i),e)}async function cP(i,e){return FS(ut(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(i){const e=ga(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ig(i,e,t){if(qn(i.app))return Promise.reject(pr(i));const s=ga(i),c=await gm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&GS(i),m}),d=await ua._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function zO(i,e,t){return qn(i.app)?Promise.reject(pr(i)):UO(ut(i),Vo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&GS(i),s})}function hP(i,e){return BO(ut(i),null,e)}async function BO(i,e,t){const{auth:s}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};t&&(u.password=t);const c=await So(i,CO(s,u));await i._updateTokensIfNecessary(c,!0)}function jO(i,e,t,s){return ut(i).onIdTokenChanged(e,t,s)}function qO(i,e,t){return ut(i).beforeAuthStateChanged(e,t)}function FO(i,e,t,s){return ut(i).onAuthStateChanged(e,t,s)}function wh(i){return ut(i).signOut()}async function $S(i){return ut(i).delete()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=1e3,GO=10;class QS extends KS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);uO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GO):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},HO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QS.type="LOCAL";const $O=QS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS extends KS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YS.type="SESSION";const XS=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,u)),m=await KO(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,m)=>{const g=rg("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function YO(i){ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function XO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JO(){return navigator?.serviceWorker?.controller||null}function WO(){return JS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firebaseLocalStorageDb",ZO=1,Fh="firebaseLocalStorage",ZS="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ff(i,e){return i.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function e2(){const i=indexedDB.deleteDatabase(WS);return new Cu(i).toPromise()}function ym(){const i=indexedDB.open(WS,ZO);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Fh,{keyPath:ZS})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await e2(),e(await ym()))})})}async function vT(i,e,t){const s=ff(i,!0).put({[ZS]:e,value:t});return new Cu(s).toPromise()}async function t2(i,e){const t=ff(i,!1).get(e),s=await new Cu(t).toPromise();return s===void 0?null:s.value}function ET(i,e){const t=ff(i,!0).delete(e);return new Cu(t).toPromise()}const n2=800,i2=3;class eA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>i2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(WO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XO(),!this.activeServiceWorker)return;this.sender=new QO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await vT(e,qh,"1"),await ET(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>vT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>t2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ET(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new Cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eA.type="LOCAL";const r2=eA;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(i,e){return e?hr(e):(ge(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function a2(i){return HS(i.auth,new sg(i),i.bypassAuthState)}function o2(i){const{auth:e,user:t}=i;return ge(t,e,"internal-error"),FS(t,new sg(i),i.bypassAuthState)}async function l2(i){const{auth:e,user:t}=i;return ge(t,e,"internal-error"),kO(t,new sg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a2;case"linkViaPopup":case"linkViaRedirect":return l2;case"reauthViaPopup":case"reauthViaRedirect":return o2;default:oi(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new bu(2e3,1e4);class yo extends tA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u2.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="pendingRedirect",bh=new Map;class h2 extends tA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const s=await f2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f2(i,e){const t=m2(e),s=p2(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function d2(i,e){bh.set(i._key(),e)}function p2(i){return hr(i._redirectPersistence)}function m2(i){return Ah(c2,i.config.apiKey,i.name)}async function g2(i,e,t=!1){if(qn(i.app))return Promise.reject(pr(i));const s=ga(i),o=s2(s,e),c=await new h2(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=600*1e3;class _2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Pi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(TT(e))}saveEventToCache(e){this.cachedEventUids.add(TT(e)),this.lastProcessedEventTime=Date.now()}}function TT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function nA({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function v2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(i,e={}){return Ar(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S2=/^https?/;async function A2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await E2(i);for(const t of e)try{if(w2(t))return}catch{}oi(i,"unauthorized-domain")}function w2(i){const e=pm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!S2.test(t))return!1;if(T2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new bu(3e4,6e4);function ST(){const i=ki().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function R2(i){return new Promise((e,t)=>{function s(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),t(Pi(i,"network-request-failed"))},timeout:b2.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const o=_O("iframefcb");return ki()[o]=()=>{gapi.load?s():t(Pi(i,"network-request-failed"))},US(`${yO()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function I2(i){return Rh=Rh||R2(i),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new bu(5e3,15e3),D2="__/auth/iframe",O2="emulator/auth/iframe",N2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V2(i){const e=i.config;ge(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Wm(e,O2):`https://${i.config.authDomain}/${D2}`,s={apiKey:e.apiKey,appName:i.name,v:xo},o=x2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${wu(s).slice(1)}`}async function M2(i){const e=await I2(i),t=ki().gapi;return ge(t,i,"internal-error"),e.open({where:document.body,url:V2(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Pi(i,"network-request-failed"),d=ki().setTimeout(()=>{u(c)},C2.get());function m(){ki().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P2=500,k2=600,U2="_blank",z2="http://localhost";class AT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B2(i,e,t,s=P2,o=k2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...L2,width:s.toString(),height:o.toString(),top:u,left:c},g=en().toLowerCase();t&&(d=NS(g)?U2:t),DS(g)&&(e=e||z2,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[N,P])=>`${w}${N}=${P},`,"");if(lO(g)&&d!=="_self")return j2(e||"",d),new AT(null);const T=window.open(e||"",d,v);ge(T,i,"popup-blocked");try{T.focus()}catch{}return new AT(T)}function j2(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="__/auth/handler",F2="emulator/auth/handler",H2=encodeURIComponent("fac");async function wT(i,e,t,s,o,u){ge(i.config.authDomain,i,"auth-domain-config-required"),ge(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:xo,eventId:o};if(e instanceof jS){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",CC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Iu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await i._getAppCheckToken(),g=m?`#${H2}=${encodeURIComponent(m)}`:"";return`${G2(i)}?${wu(d).slice(1)}${g}`}function G2({config:i}){return i.emulator?Wm(i,F2):`https://${i.authDomain}/${q2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class $2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XS,this._completeRedirectFn=g2,this._overrideRedirectResult=d2}async _openPopup(e,t,s,o){_r(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await wT(e,t,s,pm(),o);return B2(e,u,rg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await wT(e,t,s,pm(),o);return YO(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await M2(e),s=new _2(e);return t.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xp,{type:Xp},o=>{const u=o?.[0]?.[Xp];u!==void 0&&t(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=A2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PS()||OS()||eg()}}const K2=$2;var bT="@firebase/auth",RT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X2(i){qi(new ai("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;ge(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kS(i)},g=new pO(s,o,u,m);return wO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),qi(new ai("auth-internal",e=>{const t=ga(e.getProvider("auth").getImmediate());return(s=>new Q2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(bT,RT,Y2(i)),Hn(bT,RT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=300,W2=cS("authIdTokenMaxAge")||J2;let IT=null;const Z2=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>W2)return;const o=t?.token;IT!==o&&(IT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iA(i=Xm()){const e=ma(i,"auth");if(e.isInitialized())return e.getImmediate();const t=AO(i,{popupRedirectResolver:K2,persistence:[r2,$O,XS]}),s=cS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=Z2(u.toString());qO(t,c,()=>c(t.currentUser)),jO(t,d=>c(d))}}const o=lS("auth");return o&&bO(t,`http://${o}`),t}function eN(){return document.getElementsByTagName("head")?.[0]??document}mO({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",eN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X2("Browser");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,rA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(M,x,k){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return b.prototype[x].apply(M,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)M[x]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(x=0;x<16;++x)M[x]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],x=C.g[2];let k=C.g[3],I;I=b+(k^R&(x^k))+M[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+M[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+M[2]+606105819&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+M[3]+3250441966&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+M[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+M[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+M[6]+2821735955&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+M[7]+4249261313&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+M[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+M[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+M[10]+4294925233&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+M[11]+2304563134&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(k^R&(x^k))+M[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=k+(x^b&(R^x))+M[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=x+(R^k&(b^R))+M[14]+2792965006&4294967295,x=k+(I<<17&4294967295|I>>>15),I=R+(b^x&(k^b))+M[15]+1236535329&4294967295,R=x+(I<<22&4294967295|I>>>10),I=b+(x^k&(R^x))+M[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+M[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+M[11]+643717713&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+M[0]+3921069994&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+M[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+M[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+M[15]+3634488961&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+M[4]+3889429448&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+M[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+M[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+M[3]+4107603335&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+M[8]+1163531501&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(x^k&(R^x))+M[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=k+(R^x&(b^R))+M[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=x+(b^R&(k^b))+M[7]+1735328473&4294967295,x=k+(I<<14&4294967295|I>>>18),I=R+(k^b&(x^k))+M[12]+2368359562&4294967295,R=x+(I<<20&4294967295|I>>>12),I=b+(R^x^k)+M[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+M[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+M[11]+1839030562&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+M[14]+4259657740&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+M[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+M[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+M[7]+4139469664&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+M[10]+3200236656&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+M[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+M[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+M[3]+3572445317&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+M[6]+76029189&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(R^x^k)+M[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=k+(b^R^x)+M[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=x+(k^b^R)+M[15]+530742520&4294967295,x=k+(I<<16&4294967295|I>>>16),I=R+(x^k^b)+M[2]+3299628645&4294967295,R=x+(I<<23&4294967295|I>>>9),I=b+(x^(R|~k))+M[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+M[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+M[14]+2878612391&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+M[5]+4237533241&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+M[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+M[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+M[10]+4293915773&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+M[1]+2240044497&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+M[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+M[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+M[6]+2734768916&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+M[13]+1309151649&4294967295,R=x+(I<<21&4294967295|I>>>11),I=b+(x^(R|~k))+M[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=k+(R^(b|~x))+M[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=x+(b^(k|~R))+M[2]+718787259&4294967295,x=k+(I<<15&4294967295|I>>>17),I=R+(k^(x|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+k&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,M=this.C;let x=this.h,k=0;for(;k<b;){if(x==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(M[x++]=C.charCodeAt(k++),x==this.blockSize){o(this,M),x=0;break}}else for(;k<b;)if(M[x++]=C[k++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)C[b++]=this.g[R]>>>M&255;return C};function u(C,b){var R=d;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function c(C,b){this.h=b;const R=[];let M=!0;for(let x=C.length-1;x>=0;x--){const k=C[x]|0;M&&k==b||(R[x]=k,M=!1)}this.g=R}var d={};function m(C){return-128<=C&&C<128?u(C,function(b){return new c([b|0],b<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return q(g(-C));const b=[];let R=1;for(let M=0;C>=R;M++)b[M]=C/R|0,R*=4294967296;return new c(b,0)}function v(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return q(v(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(b,8));let M=T;for(let k=0;k<C.length;k+=8){var x=Math.min(8,C.length-k);const I=parseInt(C.substring(k,k+x),b);x<8?(x=g(Math.pow(b,x)),M=M.j(x).add(g(I))):(M=M.j(R),M=M.add(g(I)))}return M}var T=m(0),w=m(1),N=m(16777216);i=c.prototype,i.m=function(){if(K(this))return-q(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(K(this))return"-"+q(this).toString(C);const b=g(Math.pow(C,6));var R=this;let M="";for(;;){const x=pe(R,b).g;R=te(R,x.j(b));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=x,P(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function K(C){return C.h==-1}i.l=function(C){return C=te(this,C),K(C)?-1:P(C)?0:1};function q(C){const b=C.g.length,R=[];for(let M=0;M<b;M++)R[M]=~C.g[M];return new c(R,~C.h).add(w)}i.abs=function(){return K(this)?q(this):this},i.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let M=0;for(let x=0;x<=b;x++){let k=M+(this.i(x)&65535)+(C.i(x)&65535),I=(k>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);M=I>>>16,k&=65535,I&=65535,R[x]=I<<16|k}return new c(R,R[R.length-1]&-2147483648?-1:0)};function te(C,b){return C.add(q(b))}i.j=function(C){if(P(this)||P(C))return T;if(K(this))return K(C)?q(this).j(q(C)):q(q(this).j(C));if(K(C))return q(this.j(q(C)));if(this.l(N)<0&&C.l(N)<0)return g(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<C.g.length;x++){const k=this.i(M)>>>16,I=this.i(M)&65535,xe=C.i(x)>>>16,ht=C.i(x)&65535;R[2*M+2*x]+=I*ht,ee(R,2*M+2*x),R[2*M+2*x+1]+=k*ht,ee(R,2*M+2*x+1),R[2*M+2*x+1]+=I*xe,ee(R,2*M+2*x+1),R[2*M+2*x+2]+=k*xe,ee(R,2*M+2*x+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new c(R,0)};function ee(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function re(C,b){this.g=C,this.h=b}function pe(C,b){if(P(b))throw Error("division by zero");if(P(C))return new re(T,T);if(K(C))return b=pe(q(C),b),new re(q(b.g),q(b.h));if(K(b))return b=pe(C,q(b)),new re(q(b.g),b.h);if(C.g.length>30){if(K(C)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=b;M.l(C)<=0;)R=_e(R),M=_e(M);var x=Te(R,1),k=Te(M,1);for(M=Te(M,2),R=Te(R,2);!P(M);){var I=k.add(M);I.l(C)<=0&&(x=x.add(R),k=I),M=Te(M,1),R=Te(R,1)}return b=te(C,x.j(b)),new re(x,b)}for(x=T;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(R),I=k.j(b);K(I)||I.l(C)>0;)R-=M,k=g(R),I=k.j(b);P(k)&&(k=w),x=x.add(k),C=te(C,I)}return new re(x,C)}i.B=function(C){return pe(this,C).h},i.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&C.i(M);return new c(R,this.h&C.h)},i.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|C.i(M);return new c(R,this.h|C.h)},i.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^C.i(M);return new c(R,this.h^C.h)};function _e(C){const b=C.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(R,C.h)}function Te(C,b){const R=b>>5;b%=32;const M=C.g.length-R,x=[];for(let k=0;k<M;k++)x[k]=b>0?C.i(k+R)>>>b|C.i(k+R+1)<<32-b:C.i(k+R);return new c(x,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,rA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,hs=c}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sA,Xl,aA,Ih,_m,oA,lA,uA;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var U=h[A];if(!(U in E))break e;E=E[U]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=m,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,U,F){for(var ie=Array(arguments.length-2),be=2;be<arguments.length;be++)ie[be-2]=arguments[be];return y.prototype[U].apply(A,ie)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function P(h,y){for(let A=1;A<arguments.length;A++){const U=arguments[A];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=h.length||0;const F=U.length||0;h.length=E+F;for(let ie=0;ie<F;ie++)h[E+ie]=U[ie]}else h.push(U)}}class K{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(h){c.setTimeout(()=>{throw h},0)}function te(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,E){const A=re.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new K(()=>new pe,h=>h.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Te=!1,C=new ee,b=()=>{const h=Promise.resolve(void 0);_e=()=>{h.then(R)}};function R(){for(var h;h=te();){try{h.h.call(h.g)}catch(E){q(E)}var y=re;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Te=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function xe(h,y){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(xe,x),xe.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(h,y,E,A,U){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function qe(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function O(h){const y={};for(const E in h)y[E]=h[E];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(h,y){let E,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(E in A)h[E]=A[E];for(let F=0;F<Y.length;F++)E=Y[F],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,y,E,A,U){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const ie=Ie(h,y,A,U);return ie>-1?(y=h[ie],E||(y.fa=!1)):(y=new ne(y,this.src,F,!!A,U),y.fa=E,h.push(y)),y};function ve(h,y){const E=y.type;if(E in h.g){var A=h.g[E],U=Array.prototype.indexOf.call(A,y,void 0),F;(F=U>=0)&&Array.prototype.splice.call(A,U,1),F&&(he(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ie(h,y,E,A){for(let U=0;U<h.length;++U){const F=h[U];if(!F.da&&F.listener==y&&F.capture==!!E&&F.ha==A)return U}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Vt={};function at(h,y,E,A,U){if(Array.isArray(y)){for(let F=0;F<y.length;F++)at(h,y[F],E,A,U);return null}return E=jo(E),h&&h[ht]?h.J(y,E,d(A)?!!A.capture:!1,U):bs(h,y,E,!1,A,U)}function bs(h,y,E,A,U,F){if(!y)throw Error("Invalid event type");const ie=d(U)?!!U.capture:!!U;let be=Rs(h);if(be||(h[Be]=be=new oe(h)),E=be.add(y,E,A,ie,F),E.proxy)return E;if(A=va(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)k||(U=ie),U===void 0&&(U=!1),h.addEventListener(y.toString(),A,U);else if(h.attachEvent)h.attachEvent(fi(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function va(){function h(E){return y.call(h.src,h.listener,E)}const y=zo;return h}function Ea(h,y,E,A,U){if(Array.isArray(y))for(var F=0;F<y.length;F++)Ea(h,y[F],E,A,U);else A=d(A)?!!A.capture:!!A,E=jo(E),h&&h[ht]?(h=h.i,F=String(y).toString(),F in h.g&&(y=h.g[F],E=Ie(y,E,A,U),E>-1&&(he(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[F],h.h--)))):h&&(h=Rs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ie(y,E,A,U)),(E=h>-1?y[h]:null)&&Ta(E))}function Ta(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ht])ve(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(fi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Rs(y))?(ve(E,h),E.h==0&&(E.src=null,y[Be]=null)):he(h)}}}function fi(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function zo(h,y){if(h.da)h=!0;else{y=new xe(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&Ta(h),h=E.call(A,y)}return h}function Rs(h){return h=h[Be],h instanceof oe?h:null}var Bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function jo(h){return typeof h=="function"?h:(h[Bo]||(h[Bo]=function(y){return h.handleEvent(y)}),h[Bo])}function Et(){M.call(this),this.i=new oe(this),this.M=this,this.G=null}T(Et,M),Et.prototype[ht]=!0,Et.prototype.removeEventListener=function(h,y,E,A){Ea(this,h,y,E,A)};function Mt(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new x(y,h);else if(y instanceof x)y.target=y.target||h;else{var U=y;y=new x(A,h),se(y,U)}U=!0;let F,ie;if(E)for(ie=E.length-1;ie>=0;ie--)F=y.g=E[ie],U=wr(F,A,!0,y)&&U;if(F=y.g=h,U=wr(F,A,!0,y)&&U,U=wr(F,A,!1,y)&&U,E)for(ie=0;ie<E.length;ie++)F=y.g=E[ie],U=wr(F,A,!1,y)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)he(E[A]);delete h.g[y],h.h--}}this.G=null},Et.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Et.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function wr(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let F=0;F<y.length;++F){const ie=y[F];if(ie&&!ie.da&&ie.capture==E){const be=ie.listener,gt=ie.ha||ie.src;ie.fa&&ve(h.i,ie),U=be.call(gt,A)!==!1&&U}}return U&&!A.defaultPrevented}function kf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Lu(h){h.g=kf(()=>{h.g=null,h.i&&(h.i=!1,Lu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class rn extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Lu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(h){M.call(this),this.h=h,this.g={}}T(Is,M);var qo=[];function Fo(h){De(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ta(y)},h),h.g={}}Is.prototype.N=function(){Is.Z.N.call(this),Fo(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=c.JSON.stringify,Uf=c.JSON.parse,Pu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ku(){}function Uu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){x.call(this,"d")}T(jt,x);function Dn(){x.call(this,"c")}T(Dn,x);var mt={},zu=null;function Sa(){return zu=zu||new Et}mt.Ia="serverreachability";function Bu(h){x.call(this,mt.Ia,h)}T(Bu,x);function di(h){const y=Sa();Mt(y,new Bu(y))}mt.STAT_EVENT="statevent";function Cs(h,y){x.call(this,mt.STAT_EVENT,h),this.stat=y}T(Cs,x);function Tt(h){const y=Sa();Mt(y,new Cs(y,h))}mt.Ja="timingevent";function pi(h,y){x.call(this,mt.Ja,h),this.size=y}T(pi,x);function mi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function zf(h,y,E,A,U,F){h.info(function(){if(h.g)if(F){var ie="",be=F.split("&");for(let Ge=0;Ge<be.length;Ge++){var gt=be[Ge].split("=");if(gt.length>1){const ot=gt[0];gt=gt[1];const Vn=ot.split("_");ie=Vn.length>=2&&Vn[1]=="type"?ie+(ot+"="+gt+"&"):ie+(ot+"=redacted&")}}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+E+`
`+ie})}function ju(h,y,E,A,U,F,ie){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+E+`
`+F+" "+ie})}function gi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bf(h,E)+(A?" "+A:"")})}function Ds(h,y){h.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Bf(h,y){if(!h.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var E=F[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return br(F)}catch{return y}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function Ns(){}T(Ns,ku),Ns.prototype.g=function(){return new XMLHttpRequest},Go=new Ns;function Gi(h){return encodeURIComponent(String(h))}function qu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Qn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new Is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var St={},kt={};function yi(h,y,E){h.M=1,h.A=xs(wt(y)),h.u=E,h.R=!0,Aa(h,null)}function Aa(h,y){h.F=Date.now(),_i(h),h.B=wt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ia(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Yn,h.g=ic(h.j,E?y:null,!h.u),h.P>0&&(h.O=new rn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(qo[0]=U.toString()),U=qo);for(let F=0;F<U.length;F++){const ie=at(E,U[F],A||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),di(),zf(h.i,h.v,h.B,h.l,h.S,h.u)}Qn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wn(h)==3?y.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)e:{const be=Wn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||be!=4||gt==7||(gt==8||Ge<=0?di(3):di(2)),vi(this);var y=this.g.ca();this.X=y;var E=jf(this);if(this.o=y==200,ju(this.i,this.v,this.B,this.l,this.S,be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var F=A;break t}}F=null}if(h=F)gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,h);else{this.o=!1,this.m=3,Tt(12),_n(this),On(this);break e}}if(this.R){h=!0;let ot;for(;!this.K&&this.C<E.length;)if(ot=Hu(this,E),ot==kt){be==4&&(this.m=4,Tt(14),h=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,Tt(15),gi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else gi(this.i,this.l,ot,null),Ei(this,ot);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),h=!1),this.o=this.o&&h,!h)gi(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),al(ie),ie.P=!0,Tt(11))}}else gi(this.i,this.l,E,null),Ei(this,E);be==4&&_n(this),this.o&&!this.K&&(be==4?Zu(this.j,this):(this.o=!1,_i(this)))}else Ki(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),_n(this),On(this)}}}catch{}finally{}};function jf(h){if(!Fu(h))return h.g.la();const y=qt(h.g);if(y==="")return"";let E="";const A=y.length,U=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),On(h),"";h.h.i=new c.TextDecoder}for(let F=0;F<A;F++)h.h.h=!0,E+=h.h.i.decode(y[F],{stream:!(U&&F==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Fu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Hu(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?kt:(E=Number(y.substring(E,A)),isNaN(E)?St:(A+=1,A+E>y.length?kt:(y=y.slice(A,A+E),h.C=A+E,y)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function _i(h){h.T=Date.now()+h.H,wa(h,h.H)}function wa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=mi(g(h.aa,h),y)}function vi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Qn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(di(),Tt(17)),_n(this),this.m=2,On(this)):wa(this,this.T-h)};function On(h){h.j.I==0||h.K||Zu(h.j,h)}function _n(h){vi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Fo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ei(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Si(E.h,h))){if(!h.L&&Si(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)xa(E),Vr(E);else break e;zs(E),Tt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mi(g(E.Va,E),6e3));Ti(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ci(E,11)}else if((h.L||E.g==h)&&xa(E),!I(y))for(U=E.Ba.g.parse(y),y=0;y<U.length;y++){let Ge=U[y];const ot=Ge[0];if(!(ot<=E.K))if(E.K=ot,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const Di=Ge[4];Di!=null&&(E.za=Di,E.j.info("SVER="+E.za));const Zn=Ge[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ei=h.g;if(ei){const Bs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var F=A.h;F.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Qo(F,F.h),F.h=null))}if(A.G){const Va=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(A.wa=Va,Qe(A.J,A.G,Va))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ie=h;if(A.na=nc(A,A.L?A.ba:null,A.W),ie.L){Yo(A.h,ie);var be=ie,gt=A.O;gt&&(be.H=gt),be.D&&(vi(be),_i(be)),A.g=ie}else Ju(A);E.i.length>0&&Ii(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Ci(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ci(E,7):rl(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}di(4)}catch{}}var At=class{constructor(h,y){this.g=h,this.map=y}};function $o(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ti(h){return h.h?1:h.g?h.g.size:0}function Si(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Qo(h,y){h.g?h.g.add(y):h.h=y}function Yo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}$o.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return N(h.i)}var Gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let U,F=null;A>=0?(U=h[E].substring(0,A),F=h[E].substring(A+1)):U=h[E],y(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof vn?(this.l=h.l,Ut(this,h.j),this.o=h.o,this.g=h.g,Rr(this,h.u),this.h=h.h,Jo(this,Yu(h.i)),this.m=h.m):h&&(y=String(h).match(Gu))?(this.l=!1,Ut(this,y[1]||"",!0),this.o=Ai(y[2]||""),this.g=Ai(y[3]||"",!0),Rr(this,y[4]),this.h=Ai(y[5]||"",!0),Jo(this,y[6]||"",!0),this.m=Ai(y[7]||"")):(this.l=!1,this.i=new Cr(null,this.l))}vn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Vs(y,Ra,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vs(y,Ra,!0),"@"),h.push(Gi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Vs(E,E.charAt(0)=="/"?Wo:$u,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Vs(E,Ku)),h.join("")},vn.prototype.resolve=function(h){const y=wt(this);let E=!!h.j;E?Ut(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Rr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=y.h.lastIndexOf("/");U!=-1&&(A=y.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let ie=0;ie<U.length;){const be=U[ie++];be=="."?A&&ie==U.length&&F.push(""):be==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&ie==U.length&&F.push("")):(F.push(be),A=!0)}A=F.join("/")}else A=U}return E?y.h=A:E=h.i.toString()!=="",E?Jo(y,Yu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function wt(h){return new vn(h)}function Ut(h,y,E){h.j=E?Ai(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Rr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Jo(h,y,E){y instanceof Cr?(h.i=y,Ca(h.i,h.l)):(E||(y=Vs(y,Ir)),h.i=new Cr(y,h.l))}function Qe(h,y,E){h.i.set(y,E)}function xs(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ai(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vs(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,on),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function on(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ra=/[#\/\?@]/g,$u=/[#\?:]/g,Wo=/[#\?]/g,Ir=/[#\?@]/g,Ku=/#/g;function Cr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function ln(h){h.g||(h.g=new Map,h.h=0,h.i&&ba(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Cr.prototype,i.add=function(h,y){ln(this),this.i=null,h=Dr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Qu(h,y){ln(h),y=Dr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Zo(h,y){return ln(h),y=Dr(h,y),h.g.has(y)}i.forEach=function(h,y){ln(this),this.g.forEach(function(E,A){E.forEach(function(U){h.call(y,U,A,this)},this)},this)};function el(h,y){ln(h);let E=[];if(typeof y=="string")Zo(h,y)&&(E=E.concat(h.g.get(Dr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return ln(this),this.i=null,h=Dr(this,h),Zo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=el(this,h),h.length>0?String(h[0]):y):y};function Ia(h,y,E){Qu(h,y),E.length>0&&(h.i=null,h.g.set(Dr(h,y),N(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const U=Gi(E);E=el(this,E);for(let F=0;F<E.length;F++){let ie=U;E[F]!==""&&(ie+="="+Gi(E[F])),h.push(ie)}}return this.i=h.join("&")};function Yu(h){const y=new Cr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Dr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ca(h,y){y&&!h.j&&(ln(h),h.i=null,h.g.forEach(function(E,A){const U=A.toLowerCase();A!=U&&(Qu(this,A),Ia(this,U,E))},h)),h.j=y}function Xn(h,y){const E=new Kn;if(c.Image){const A=new Image;A.onload=v(Nn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Nn,E,"TestLoadImage: error",!1,y,A),A.onabort=v(Nn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Nn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function tl(h,y){const E=new Kn,A=new AbortController,U=setTimeout(()=>{A.abort(),Nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?Nn(E,"TestPingServer: ok",!0,y):Nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Nn(E,"TestPingServer: error",!1,y)})}function Nn(h,y,E,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(E)}catch{}}function Or(){this.g=new Pu}function wi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(wi,ku),wi.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(h,y){Et.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ms,Et),i=Ms.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Jn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Nr(this):Jn(this),this.readyState==3&&Da(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Nr(this))},i.Na=function(h){this.g&&(this.response=h,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Jn(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Jn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xn(h){let y="";return De(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Ls(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=xn(E),typeof h=="string"?E!=null&&Gi(E):Qe(h,y,E))}function We(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,Et);var bi=/^https?$/i,nl=["POST","PUT"];i=We.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(F){Ps(this,F);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)E.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())E.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(nl,y,void 0)>=0)||A||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of E)this.g.setRequestHeader(F,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){Ps(this,F)}};function Ps(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,il(h),$i(h)}function il(h){h.A||(h.A=!0,Mt(h,"complete"),Mt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Mt(this,"complete"),Mt(this,"abort"),$i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},i.Xa=function(){ks(this)};function ks(h){if(h.h&&typeof u<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Mt(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const F=h.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=F===0){let ie=String(h.D).match(Gu)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),A=!bi.test(ie?ie.toLowerCase():"")}E=A}if(E)Mt(h,"complete"),Mt(h,"success");else{h.o=6;try{var U=Wn(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",il(h)}}finally{$i(h)}}}}function $i(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Mt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Uf(y)}};function qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(h){const y={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var E=qu(h[A]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=y[U]||[];y[U]=F,F.push(E)}qe(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function xr(h){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,h),this.Za=Ri("retryDelaySeedMs",1e4,h),this.Ta=Ri("forwardChannelMaxRetries",2,h),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(h&&h.concurrentRequestLimit),this.Ba=new Or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=xr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){Tt(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=nc(this,null,this.W),Ii(this)};function rl(h){if(Oa(h),h.I==3){var y=h.V++,E=wt(h.J);if(Qe(E,"SID",h.M),Qe(E,"RID",y),Qe(E,"TYPE","terminate"),Us(h,E),y=new Qn(h,h.j,y),y.M=2,y.A=xs(wt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=ic(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}tc(h)}function Vr(h){h.g&&(al(h),h.g.cancel(),h.g=null)}function Oa(h){Vr(h),h.v&&(c.clearTimeout(h.v),h.v=null),xa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ii(h){if(!Ko(h.h)&&!h.m){h.m=!0;var y=h.Ea;_e||b(),Te||(_e(),Te=!0),C.add(y,h),h.D=0}}function Na(h,y){return Ti(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=mi(g(h.Ea,h,y),ec(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Qn(this,this.j,h);let F=this.o;if(this.U&&(F?(F=O(F),se(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Xu(this,U,y),E=wt(this.J),Qe(E,"RID",h),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),Us(this,E),F&&(this.R?y="headers="+Gi(xn(F))+"&"+y:this.u&&Ls(E,this.u,F)),Qo(this.h,U),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",y),Qe(E,"SID","null"),U.U=!0,yi(U,E,null)):yi(U,E,y),this.I=2}}else this.I==3&&(h?sl(this,h):this.i.length==0||Ko(this.h)||sl(this))};function sl(h,y){var E;y?E=y.l:E=h.V++;const A=wt(h.J);Qe(A,"SID",h.M),Qe(A,"RID",E),Qe(A,"AID",h.K),Us(h,A),h.u&&h.o&&Ls(A,h.u,h.o),E=new Qn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Xu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Qo(h.h,E),yi(E,A,y)}function Us(h,y){h.H&&De(h.H,function(E,A){Qe(y,A,E)}),h.l&&De({},function(E,A){Qe(y,A,E)})}function Xu(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var U=h.i;let be=-1;for(;;){const gt=["count="+E];be==-1?E>0?(be=U[0].g,gt.push("ofs="+be)):be=0:gt.push("ofs="+be);let Ge=!0;for(let ot=0;ot<E;ot++){var F=U[ot].g;const Vn=U[ot].map;if(F-=be,F<0)be=Math.max(0,U[ot].g-100),Ge=!1;else try{F="req"+F+"_"||"";try{var ie=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Di,Zn]of ie){let ei=Zn;d(Zn)&&(ei=br(Zn)),gt.push(F+Di+"="+encodeURIComponent(ei))}}catch(Di){throw gt.push(F+"type="+encodeURIComponent("_badmap")),Di}}catch{A&&A(Vn)}}if(Ge){ie=gt.join("&");break e}}ie=void 0}return h=h.i.splice(0,E),y.G=h,ie}function Ju(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;_e||b(),Te||(_e(),Te=!0),C.add(y,h),h.A=0}}function zs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=mi(g(h.Da,h),ec(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=mi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Vr(this),Wu(this))};function al(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Wu(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=wt(h.na);Qe(y,"RID","rpc"),Qe(y,"SID",h.M),Qe(y,"AID",h.K),Qe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(y,"TO",h.ia),Qe(y,"TYPE","xmlhttp"),Us(h,y),h.u&&h.o&&Ls(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=xs(wt(y)),E.u=null,E.R=!0,Aa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Vr(this),zs(this),Tt(19))};function xa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Zu(h,y){var E=null;if(h.g==y){xa(h),al(h),h.g=null;var A=2}else if(Si(h.h,y))E=y.G,Yo(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;A=Sa(),Mt(A,new pi(A,E)),Ii(h)}else Ju(h);else if(U=y.m,U==3||U==0&&y.X>0||!(A==1&&Na(h,y)||A==2&&zs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),U){case 1:Ci(h,5);break;case 4:Ci(h,10);break;case 3:Ci(h,6);break;default:Ci(h,2)}}}function ec(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ci(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const U=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ut(A,"https"),xs(A),U?Xn(A.toString(),E):tl(A.toString(),E)}else Tt(2);h.I=0,h.l&&h.l.pa(y),tc(h),Oa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function tc(h){if(h.I=0,h.ja=[],h.l){const y=Xo(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function nc(h,y,E){var A=E instanceof vn?wt(E):new vn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Rr(A,A.u);else{var U=c.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const F=new vn(null);A&&Ut(F,A),y&&(F.g=y),U&&Rr(F,U),E&&(F.h=E),A=F}return E=h.G,y=h.wa,E&&y&&Qe(A,E,y),Qe(A,"VER",h.ka),Us(h,A),A}function ic(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new We(new wi({ab:E})):new We(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}i=rc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Mr(){}Mr.prototype.g=function(h,y){return new sn(h,y)};function sn(h,y){Et.call(this),this.g=new xr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Qi(this)}T(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){rl(this.g)},sn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=br(h),h=E);y.i.push(new At(y.Ya++,h)),y.I==3&&Ii(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,sn.Z.N.call(this)};function sc(h){jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(sc,jt);function ac(){Dn.call(this),this.status=1}T(ac,Dn);function Qi(h){this.g=h}T(Qi,rc),Qi.prototype.ra=function(){Mt(this.g,"a")},Qi.prototype.qa=function(h){Mt(this.g,new sc(h))},Qi.prototype.pa=function(h){Mt(this.g,new ac)},Qi.prototype.oa=function(){Mt(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,uA=function(){return new Mr},lA=function(){return Sa()},oA=mt,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Ih=Os,Ho.COMPLETE="complete",aA=Ho,Uu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Xl=Uu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,sA=We}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const DT="@firebase/firestore",OT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new uf("@firebase/firestore");function fo(){return ca.logLevel}function le(i,...e){if(ca.logLevel<=Le.DEBUG){const t=e.map(ag);ca.debug(`Firestore (${Mo}): ${i}`,...t)}}function vr(i,...e){if(ca.logLevel<=Le.ERROR){const t=e.map(ag);ca.error(`Firestore (${Mo}): ${i}`,...t)}}function Ao(i,...e){if(ca.logLevel<=Le.WARN){const t=e.map(ag);ca.warn(`Firestore (${Mo}): ${i}`,...t)}}function ag(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,cA(i,s,t)}function cA(i,e,t){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw vr(s),new Error(s)}function Ke(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||cA(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wt.UNAUTHENTICATED)))}shutdown(){}}class nN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class iN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},d=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new hA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class rN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new rN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new NT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function vm(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Jp(o)===Jp(u)?Pe(o,u):Jp(o)?1:-1}return Pe(i.length,e.length)}const lN=55296,uN=57343;function Jp(i){const e=i.charCodeAt(0);return e>=lN&&e<=uN}function wo(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="__name__";class Mi{constructor(e,t,s){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ye(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Pe(e.length,t.length)}static compareSegments(e,t){const s=Mi.isNumericId(e),o=Mi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(t)):vm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class it extends Mi{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const cN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Mi{construct(e,t,s){return new Qt(e,t,s)}static isValidIdentifier(e){return cN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xT}static keyField(){return new Qt([xT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ae(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ae(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new ae(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(it.fromString(e))}static fromName(e){return new de(it.fromString(e).popFirst(5))}static empty(){return new de(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(i,e,t){if(!t)throw new ae(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hN(i,e,t,s){if(e===!0&&s===!0)throw new ae(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function VT(i){if(!de.isDocumentKey(i))throw new ae(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function MT(i){if(de.isDocumentKey(i))throw new ae(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function dA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function gn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=df(i);throw new ae(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Du(i,e){if(!dA(i))throw new ae(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ae(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=-62135596800,PT=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*PT);return new Je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LT)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PT}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Nt("string",Je._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Je(0,0))}static max(){return new Se(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function fN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Je(t+1,0):new Je(t,s));return new ps(o,de.empty(),e)}function dN(i){return new ps(i.readTime,i.key,du)}class ps{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ps(Se.min(),de.empty(),du)}static max(){return new ps(Se.max(),de.empty(),du)}}function pN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(i.documentKey,e.documentKey),t!==0?t:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==mN)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,s)=>{t(e)}))}static reject(e){return new Z(((t,s)=>{s(e)}))}static waitFor(e){return new Z(((t,s)=>{let o=0,u=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&t()}),(m=>s(m)))})),c=!0,u===o&&t()}))}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next((o=>o?Z.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new Z(((s,o)=>{const u=e.length,c=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next((v=>{c[g]=v,++d,d===u&&s(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new Z(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function yN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Po(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function mf(i){return i==null}function Hh(i){return i===0&&1/i==-1/0}function _N(i){return typeof i=="number"&&Number.isInteger(i)&&!Hh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="";function vN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=kT(e)),e=EN(i.get(t),e);return kT(e)}function EN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case pA:t+="";break;default:t+=u}}return t}function kT(i){return i+pA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ss(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function mA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Kt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zT(this.data.getIterator())}getIteratorFrom(e){return new zT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class zT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new In([])}unionWith(e){let t=new Pt(Qt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gA("Invalid base64 string: "+u):u}})(e);return new Yt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const TN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const t=TN.exec(i);if(Ke(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function gs(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="server_timestamp",_A="__type__",vA="__previous_value__",EA="__local_write_time__";function ug(i){return(i?.mapValue?.fields||{})[_A]?.stringValue===yA}function gf(i){const e=i.mapValue.fields[vA];return ug(e)?gf(e):e}function pu(i){const e=ms(i.mapValue.fields[EA].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,t,s,o,u,c,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Gh="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||Gh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="__type__",AN="__max__",gh={mapValue:{}},SA="__vector__",$h="value";function ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ug(i)?4:bN(i)?9007199254740991:wN(i)?10:11:ye(28295,{value:i})}function Fi(i,e){if(i===e)return!0;const t=ys(i);if(t!==ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pu(i).isEqual(pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=ms(o.timestampValue),d=ms(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=vt(o.doubleValue),d=vt(u.doubleValue);return c===d?Hh(c)===Hh(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return wo(i.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(UT(c)!==UT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Fi(c[m],d[m])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function gu(i,e){return(i.values||[]).find((t=>Fi(t,e)))!==void 0}function bo(i,e){if(i===e)return 0;const t=ys(i),s=ys(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const d=vt(u.integerValue||u.doubleValue),m=vt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(i,e);case 3:return BT(i.timestampValue,e.timestampValue);case 4:return BT(pu(i),pu(e));case 5:return vm(i.stringValue,e.stringValue);case 6:return(function(u,c){const d=gs(u),m=gs(c);return d.compareTo(m)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const d=u.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Pe(d[g],m[g]);if(v!==0)return v}return Pe(d.length,m.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const d=Pe(vt(u.latitude),vt(c.latitude));return d!==0?d:Pe(vt(u.longitude),vt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return jT(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const d=u.fields||{},m=c.fields||{},g=d[$h]?.arrayValue,v=m[$h]?.arrayValue,T=Pe(g?.values?.length||0,v?.values?.length||0);return T!==0?T:jT(g,v)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===gh.mapValue&&c===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(c===gh.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const w=vm(m[T],v[T]);if(w!==0)return w;const N=bo(d[m[T]],g[v[T]]);if(N!==0)return N}return Pe(m.length,v.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function BT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const t=ms(i),s=ms(e),o=Pe(t.seconds,s.seconds);return o!==0?o:Pe(t.nanos,s.nanos)}function jT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=bo(t[o],s[o]);if(u)return u}return Pe(t.length,s.length)}function Ro(i){return Em(i)}function Em(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ms(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return gs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return de.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Em(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Em(t.fields[c])}`;return o+"}"})(i.mapValue):ye(61005,{value:i})}function Ch(i){switch(ys(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(i);return e?16+Ch(e):16;case 5:return 2*i.stringValue.length;case 6:return gs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Ch(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ss(s.fields,((u,c)=>{o+=u.length+Ch(c)})),o})(i.mapValue);default:throw ye(13486,{value:i})}}function qT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Tm(i){return!!i&&"integerValue"in i}function cg(i){return!!i&&"arrayValue"in i}function FT(i){return!!i&&"nullValue"in i}function HT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Dh(i){return!!i&&"mapValue"in i}function wN(i){return(i?.mapValue?.fields||{})[TA]?.stringValue===SA}function iu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ss(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=iu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=iu(i.arrayValue.values[t]);return e}return{...i}}function bN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===AN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(t)}setAll(e){let t=Qt.emptyPath(),s={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}c?s[d.lastSegment()]=iu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ss(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(iu(this.value))}}function AA(i){const e=[];return Ss(i.fields,((t,s)=>{const o=new Qt([t]);if(Dh(s)){const u=AA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Se.min(),Se.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Se.min(),Se.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.position=e,this.inclusive=t}}function GT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(c.referenceValue),t.key):s=bo(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $T(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Fi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function RN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{}class Ot extends wA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new CN(e,t,s):t==="array-contains"?new NN(e,s):t==="in"?new xN(e,s):t==="not-in"?new VN(e,s):t==="array-contains-any"?new MN(e,s):new Ot(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new DN(e,s):new ON(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bo(t,this.value)):t!==null&&ys(this.value)===ys(t)&&this.matchesComparison(bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends wA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new li(e,t)}matches(e){return bA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bA(i){return i.op==="and"}function RA(i){return IN(i)&&bA(i)}function IN(i){for(const e of i.filters)if(e instanceof li)return!1;return!0}function Sm(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+Ro(i.value);if(RA(i))return i.filters.map((e=>Sm(e))).join(",");{const e=i.filters.map((t=>Sm(t))).join(",");return`${i.op}(${e})`}}function IA(i,e){return i instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(i,e):i instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&IA(c,o.filters[d])),!0):!1})(i,e):void ye(19439)}function CA(i){return i instanceof Ot?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ro(t.value)}`})(i):i instanceof li?(function(t){return t.op.toString()+" {"+t.getFilters().map(CA).join(" ,")+"}"})(i):"Filter"}class CN extends Ot{constructor(e,t,s){super(e,t,s),this.key=de.fromName(s.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class DN extends Ot{constructor(e,t){super(e,"in",t),this.keys=DA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ON extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=DA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function DA(i,e){return(e.arrayValue?.values||[]).map((t=>de.fromName(t.referenceValue)))}class NN extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cg(t)&&gu(t.arrayValue,this.value)}}class xN extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class VN extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class MN extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>gu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t=null,s=[],o=[],u=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function KT(i,e=null,t=[],s=[],o=null,u=null,c=null){return new LN(i,e,t,s,o,u,c)}function hg(i){const e=we(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Sm(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ro(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ro(s))).join(",")),e.Te=t}return e.Te}function fg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!RN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!IA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!$T(i.startAt,e.startAt)&&$T(i.endAt,e.endAt)}function Am(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t=null,s=[],o=[],u=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PN(i,e,t,s,o,u,c,d){return new ko(i,e,t,s,o,u,c,d)}function yf(i){return new ko(i)}function QT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OA(i){return i.collectionGroup!==null}function ru(i){const e=we(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pt(Qt.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yu(u,s))})),t.has(Qt.keyField().canonicalString())||e.Ie.push(new yu(Qt.keyField(),s))}return e.Ie}function Ui(i){const e=we(i);return e.Ee||(e.Ee=kN(e,ru(i))),e.Ee}function kN(i,e){if(i.limitType==="F")return KT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yu(o.field,u)}));const t=i.endAt?new Kh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kh(i.startAt.position,i.startAt.inclusive):null;return KT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function wm(i,e){const t=i.filters.concat([e]);return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function bm(i,e,t){return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function _f(i,e){return fg(Ui(i),Ui(e))&&i.limitType===e.limitType}function NA(i){return`${hg(Ui(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>CA(o))).join(", ")}]`),mf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Ro(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Ro(o))).join(",")),`Target(${s})`})(Ui(i))}; limitType=${i.limitType})`}function vf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,d,m){const g=GT(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,ru(s),o)||s.endAt&&!(function(c,d,m){const g=GT(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,ru(s),o))})(i,e)}function UN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xA(i){return(e,t)=>{let s=!1;for(const o of ru(i)){const u=zN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function zN(i,e,t){const s=i.field.isKeyField()?de.comparator(e.key,t.key):(function(u,c,d){const m=c.data.field(u),g=d.data.field(u);return m!==null&&g!==null?bo(m,g):ye(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return mA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new ct(de.comparator);function Er(){return BN}const VA=new ct(de.comparator);function Jl(...i){let e=VA;for(const t of i)e=e.insert(t.key,t);return e}function MA(i){let e=VA;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ra(){return su()}function LA(){return su()}function su(){return new ya((i=>i.toString()),((i,e)=>i.isEqual(e)))}const jN=new ct(de.comparator),qN=new Pt(de.comparator);function ke(...i){let e=qN;for(const t of i)e=e.add(t);return e}const FN=new Pt(Pe);function HN(){return FN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function PA(i){return{integerValue:""+i}}function GN(i,e){return _N(e)?PA(e):dg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function $N(i,e,t){return i instanceof _u?(function(o,u){const c={fields:{[_A]:{stringValue:yA},[EA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ug(u)&&(u=gf(u)),u&&(c.fields[vA]=u),{mapValue:c}})(t,e):i instanceof vu?UA(i,e):i instanceof Eu?zA(i,e):(function(o,u){const c=kA(o,u),d=YT(c)+YT(o.Ae);return Tm(c)&&Tm(o.Ae)?PA(d):dg(o.serializer,d)})(i,e)}function KN(i,e,t){return i instanceof vu?UA(i,e):i instanceof Eu?zA(i,e):t}function kA(i,e){return i instanceof Qh?(function(s){return Tm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class _u extends Ef{}class vu extends Ef{constructor(e){super(),this.elements=e}}function UA(i,e){const t=BA(e);for(const s of i.elements)t.some((o=>Fi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Eu extends Ef{constructor(e){super(),this.elements=e}}function zA(i,e){let t=BA(e);for(const s of i.elements)t=t.filter((o=>!Fi(o,s)));return{arrayValue:{values:t}}}class Qh extends Ef{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function YT(i){return vt(i.integerValue||i.doubleValue)}function BA(i){return cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.field=e,this.transform=t}}function YN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof vu&&o instanceof vu||s instanceof Eu&&o instanceof Eu?wo(s.elements,o.elements,Fi):s instanceof Qh&&o instanceof Qh?Fi(s.Ae,o.Ae):s instanceof _u&&o instanceof _u})(i.transform,e.transform)}class XN{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tf{}function jA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pg(i.key,Gn.none()):new Ou(i.key,i.data,Gn.none());{const t=i.data,s=mn.empty();let o=new Pt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new As(i.key,s,new In(o.toArray()),Gn.none())}}function JN(i,e,t){i instanceof Ou?(function(o,u,c){const d=o.value.clone(),m=JT(o.fieldTransforms,u,c.transformResults);d.setAll(m),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof As?(function(o,u,c){if(!Oh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=JT(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(qA(o)),m.setAll(d),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function au(i,e,t,s){return i instanceof Ou?(function(u,c,d,m){if(!Oh(u.precondition,c))return d;const g=u.value.clone(),v=WT(u.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof As?(function(u,c,d,m){if(!Oh(u.precondition,c))return d;const g=WT(u.fieldTransforms,m,c),v=c.data;return v.setAll(qA(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,t,s):(function(u,c,d){return Oh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function WN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=kA(s.transform,o||null);u!=null&&(t===null&&(t=mn.empty()),t.set(s.field,u))}return t||null}function XT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((u,c)=>YN(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ou extends Tf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Tf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function JT(i,e,t){const s=new Map;Ke(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],c=u.transform,d=e.data.field(u.field);s.set(u.field,KN(c,d,t[o]))}return s}function WT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,c=t.data.field(o.field);s.set(o.field,$N(u,c,e))}return s}class pg extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZN extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&JN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=LA();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=t.has(o.key)?null:d;const m=jA(c,d);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((t,s)=>XT(t,s)))&&wo(this.baseMutations,e.baseMutations,((t,s)=>XT(t,s)))}}class mg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return jN})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new mg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,je;function ix(i){switch(i){case J.OK:return ye(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function FA(i){if(i===void 0)return vr("GRPC error has no .code"),J.UNKNOWN;switch(i){case Dt.OK:return J.OK;case Dt.CANCELLED:return J.CANCELLED;case Dt.UNKNOWN:return J.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return J.INTERNAL;case Dt.UNAVAILABLE:return J.UNAVAILABLE;case Dt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Dt.NOT_FOUND:return J.NOT_FOUND;case Dt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Dt.ABORTED:return J.ABORTED;case Dt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Dt.DATA_LOSS:return J.DATA_LOSS;default:return ye(39323,{code:i})}}(je=Dt||(Dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new hs([4294967295,4294967295],0);function ZT(i){const e=rx().encode(i),t=new rA;return t.update(e),new Uint8Array(t.digest())}function e0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([t,s],0),new hs([o,u],0)]}class gg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=hs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(hs.fromNumber(s)));return o.compare(sx)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ZT(e),[s,o]=e0(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new gg(u,o,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=ZT(e),[s,o]=e0(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sf(Se.min(),o,new ct(Pe),Er(),ke())}}class Nu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Nu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class HA{constructor(e,t){this.targetId=e,this.Ce=t}}class GA{constructor(e,t,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class t0{constructor(){this.ve=0,this.Fe=n0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Nu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=n0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ax{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.Je=yh(),this.He=yh(),this.Ye=new ct(Pe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Am(u))if(s===0){const c=new de(u.path);this.et(t,c,Zt.newNoDocument(c,Se.min()))}else Ke(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,d;try{c=gs(s).toUint8Array()}catch(m){if(m instanceof gA)return Ao("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new gg(c,o,u)}catch(m){return Ao(m instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Am(d.target)){const m=new de(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Zt.newNoDocument(m,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Sf(e,t,this.Ye,this.je,s);return this.je=Er(),this.Je=yh(),this.He=yh(),this.Ye=new ct(Pe),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new t0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Pe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Pe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function yh(){return new ct(de.comparator)}function n0(){return new ct(de.comparator)}const ox={asc:"ASCENDING",desc:"DESCENDING"},lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ux={and:"AND",or:"OR"};class cx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rm(i,e){return i.useProto3Json||mf(e)?e:{value:e}}function Yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $A(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function hx(i,e){return Yh(i,e.toTimestamp())}function zi(i){return Ke(!!i,49232),Se.fromTimestamp((function(t){const s=ms(t);return new Je(s.seconds,s.nanos)})(i))}function yg(i,e){return Im(i,e).canonicalString()}function Im(i,e){const t=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function KA(i){const e=it.fromString(i);return Ke(WA(e),10190,{key:e.toString()}),e}function Cm(i,e){return yg(i.databaseId,e.path)}function Wp(i,e){const t=KA(e);if(t.get(1)!==i.databaseId.projectId)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new de(YA(t))}function QA(i,e){return yg(i.databaseId,e)}function fx(i){const e=KA(i);return e.length===4?it.emptyPath():YA(e)}function Dm(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function YA(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function i0(i,e,t){return{name:Cm(i,e),fields:t.value.mapValue.fields}}function dx(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?J.UNKNOWN:FA(g.code);return new ae(v,g.message||"")})(c);t=new GA(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wp(i,s.document.name),u=zi(s.document.updateTime),c=s.document.createTime?zi(s.document.createTime):Se.min(),d=new mn({mapValue:{fields:s.document.fields}}),m=Zt.newFoundDocument(o,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Nh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wp(i,s.document),u=s.readTime?zi(s.readTime):Se.min(),c=Zt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new Nh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wp(i,s.document),u=s.removedTargetIds||[];t=new Nh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new nx(o,u),d=s.targetId;t=new HA(d,c)}}return t}function px(i,e){let t;if(e instanceof Ou)t={update:i0(i,e.key,e.value)};else if(e instanceof pg)t={delete:Cm(i,e.key)};else if(e instanceof As)t={update:i0(i,e.key,e.data),updateMask:Ax(e.fieldMask)};else{if(!(e instanceof ZN))return ye(16599,{Vt:e.type});t={verify:Cm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof _u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Qh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw ye(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),t}function mx(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((t=>(function(o,u){let c=o.updateTime?zi(o.updateTime):zi(u);return c.isEqual(Se.min())&&(c=zi(u)),new XN(c,o.transformResults||[])})(t,e)))):[]}function gx(i,e){return{documents:[QA(i,e.path)]}}function yx(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=QA(i,o);const u=(function(g){if(g.length!==0)return JA(li.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:mo(w.field),direction:Ex(w.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Rm(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function _x(i){let e=fx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=(function(T){const w=XA(T);return w instanceof li&&RA(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((w=>(function(P){return new yu(go(P.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let w;return w=typeof T=="object"?T.value:T,mf(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(T){const w=!!T.before,N=T.values||[];return new Kh(N,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const w=!T.before,N=T.values||[];return new Kh(N,w)})(t.endAt)),PN(e,o,c,u,d,"F",m,g)}function vx(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function XA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(t.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=go(t.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ot.create(go(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return li.create(t.compositeFilter.filters.map((s=>XA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(i):ye(30097,{filter:i})}function Ex(i){return ox[i]}function Tx(i){return lx[i]}function Sx(i){return ux[i]}function mo(i){return{fieldPath:i.canonicalString()}}function go(i){return Qt.fromServerFormat(i.fieldPath)}function JA(i){return i instanceof Ot?(function(t){if(t.op==="=="){if(HT(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(FT(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(HT(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(FT(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:Tx(t.op),value:t.value}}})(i):i instanceof li?(function(t){const s=t.getFilters().map((o=>JA(o)));return s.length===1?s[0]:{compositeFilter:{op:Sx(t.op),filters:s}}})(i):ye(54877,{filter:i})}function Ax(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function WA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,s,o,u=Se.min(),c=Se.min(),d=Yt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.yt=e}}function bx(i){const e=_x({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.Cn=new Ix}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(ps.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class Ix{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(it.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZA=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(ZA,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="LruGarbageCollector",Cx=1048576;function a0([i,e],[t,s]){const o=Pe(i,t);return o===0?Pe(e,s):o}class Dx{constructor(e){this.Ir=e,this.buffer=new Pt(a0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();a0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ox{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(s0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Po(t)?le(s0,"Ignoring IndexedDB error during garbage collection: ",t):await Lo(t)}await this.Vr(3e5)}))}}class Nx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(pf.ce);const s=new Dx(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(r0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,t)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),fo()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function xx(i,e){return new Nx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.changes=new ya((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&au(s.mutation,o,In.empty(),Je.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=ra();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let c=Jl();return u.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=ra();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,o){let u=Er();const c=su(),d=(function(){return su()})();return t.forEach(((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof As)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),au(v.mutation,g,v.mutation.getFieldMask(),Je.now())):c.set(g.key,In.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new Mx(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=su();let o=new ct(((c,d)=>c-d)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=s.get(m)||In.empty();v=d.applyToLocalView(g,v),s.set(m,v);const T=(o.get(d.batchId)||ke()).add(m);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=LA();v.forEach((w=>{if(!u.has(w)){const N=jA(t.get(w),s.get(w));N!==null&&T.set(w,N),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return Z.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return de.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(ra());let d=du,m=u;return c.next((g=>Z.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,ke()))).next((v=>({batchId:d,changes:MA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=Jl();return this.indexManager.getCollectionParents(e,u).next((d=>Z.forEach(d,(m=>{const g=(function(T,w){return new ko(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((c=>{u.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Zt.newInvalidDocument(v)))}));let d=Jl();return c.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&au(v.mutation,g,In.empty(),Je.now()),vf(t,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:bx(o.bundledQuery),readTime:zi(o.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.overlays=new ct(de.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ra();return Z.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=ra(),u=t.length+1,c=new de(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ra(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ra(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=o)););return Z.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new tx(t,s));let u=this.qr.get(t);u===void 0&&(u=ke(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new de(new it([])),s=new Bt(t,e),o=new Bt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new de(new it([])),s=new Bt(t,e),o=new Bt(t,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Bt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return de.comparator(e.key,t.key)||Pe(e.Yr,t.Yr)}static Kr(e,t){return Pe(e.Yr,t.Yr)||de.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ex(u,t,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Bt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?lg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(Pe);return t.forEach((o=>{const u=new Bt(o,0),c=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const c=new Bt(new de(u),0);let d=new Pt(Pe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)}),c),Z.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(t.mutations,(o=>{const u=new Bt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Bt(t,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.ri=e,this.docs=(function(){return new ct(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=Er();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Er();const c=t.path,d=new de(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||pN(dN(v),s)<=0||(o.has(v.key)||vf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){ye(9500)}ii(e,t){return Z.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new jx(this)}getSize(e){return Z.resolve(this.size)}}class jx extends Vx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.persistence=e,this.si=new ya((t=>hg(t)),fg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new _g,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Io(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.ui={},this.overlays={},this.ci=new pf(0),this.li=!1,this.li=!0,this.hi=new Ux,this.referenceDelegate=e(this),this.Pi=new qx(this),this.indexManager=new Rx,this.remoteDocumentCache=(function(o){return new Bx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new wx(t),this.Ii=new Px(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new zx(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new Fx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class Fx extends gN{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ri=new _g,this.Vi=null}static mi(e){return new vg(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xh{constructor(e,t){this.persistence=e,this.pi=new ya((s=>vN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=xx(this,t)}static mi(e,t){return new Xh(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?Z.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,u.removeEntry(c,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ch(e.data.value)),t}br(e,t,s){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Eg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wC()?8:yN(en())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new Hx;return this.Ss(e,t,c).next((d=>{if(u.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(fo()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(fo()<=Le.DEBUG&&le("QueryEngine","Query:",po(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(fo()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(t))):Z.resolve())}ys(e,t){if(QT(t))return Z.resolve(null);let s=Ui(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=bm(t,null,"F"),s=Ui(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=ke(...u);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,bm(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,s,o){return QT(t)||o.isEqual(Se.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,s,o)?Z.resolve(null):(fo()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.vs(e,c,t,fN(o,du)).next((d=>d)))}))}Ds(e,t){let s=new Pt(xA(e));return t.forEach(((o,u)=>{vf(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return fo()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",po(t)),this.ps.getDocumentsMatchingQuery(e,t,ps.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LocalStore",$x=3e8;class Kx{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ct(Pe),this.xs=new ya((u=>hg(u)),fg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Qx(i,e,t,s){return new Kx(i,e,t,s)}async function tw(i,e){const t=we(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let m=ke();for(const g of o){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function Yx(i,e){const t=we(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const T=g.batch,w=T.keys();let N=Z.resolve();return w.forEach((P=>{N=N.next((()=>v.getEntry(m,P))).next((K=>{const q=g.docVersions.get(P);Ke(q!==null,48541),K.version.compareTo(q)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function nw(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Xx(i,e){const t=we(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((v,T)=>{const w=o.get(T);if(!w)return;d.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(u,v.addedDocuments,T))));let N=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,s)),o=o.insert(T,N),(function(K,q,te){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=$x?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,N,v)&&d.push(t.Pi.updateTargetData(u,N))}));let m=Er(),g=ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))})),d.push(Jx(u,c,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(Se.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next((T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(v)}return Z.waitFor(d).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(t.Ms=o,u)))}function Jx(i,e,t){let s=ke(),o=ke();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=Er();return t.forEach(((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):le(Tg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function Wx(i,e){const t=we(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=lg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Zx(i,e){const t=we(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new ls(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Om(i,e,t){const s=we(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Po(c))throw c;le(Tg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function o0(i,e,t){const s=we(i);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const T=we(m),w=T.xs.get(v);return w!==void 0?Z.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,v)})(s,c,Ui(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?u:ke()))).next((d=>(eV(s,UN(e),d),{documents:d,Qs:u})))))}function eV(i,e,t){let s=i.Os.get(e)||Se.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class l0{constructor(){this.activeTargetIds=HN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tV{constructor(){this.Mo=new l0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="ConnectivityMonitor";class c0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(u0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(u0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function Nm(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="RestConnection",iV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const c=Nm(),d=this.zo(e,t.toUriEncodedString());le(Zp,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(d),v=No(g);return this.Jo(e,d,m,s,v).then((T=>(le(Zp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Ao(Zp,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,t,s,o,u,c){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=iV[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class aV extends rV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const c=Nm();return new Promise(((d,m)=>{const g=new sA;g.setWithCredentials(!0),g.listenOnce(aA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ih.NO_ERROR:const T=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Ih.TIMEOUT:le(Jt,`RPC '${e}' ${c} timed out`),m(new ae(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const w=g.getStatus();if(le(Jt,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const P=N?.error;if(P&&P.status&&P.message){const K=(function(te){const ee=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ee)>=0?ee:J.UNKNOWN})(P.status);m(new ae(K,P.message))}else m(new ae(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ae(J.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);le(Jt,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=Nm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uA(),d=lA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=c.createWebChannel(v,m);this.I_(T);let w=!1,N=!1;const P=new sV({Yo:q=>{N?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),K=(q,te,ee)=>{q.listen(te,(re=>{try{ee(re)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return K(T,Xl.EventType.OPEN,(()=>{N||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),K(T,Xl.EventType.CLOSE,(()=>{N||(N=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(T))})),K(T,Xl.EventType.ERROR,(q=>{N||(N=!0,Ao(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),P.a_(new ae(J.UNAVAILABLE,"The operation could not be completed")))})),K(T,Xl.EventType.MESSAGE,(q=>{if(!N){const te=q.data[0];Ke(!!te,16349);const ee=te,re=ee?.error||ee[0]?.error;if(re){le(Jt,`RPC '${e}' stream ${o} received error:`,re);const pe=re.status;let _e=(function(b){const R=Dt[b];if(R!==void 0)return FA(R)})(pe),Te=re.message;_e===void 0&&(_e=J.INTERNAL,Te="Unknown error status: "+pe+" with message "+re.message),N=!0,P.a_(new ae(_e,Te)),T.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,te),P.u_(te)}})),K(d,oA.STAT_EVENT,(q=>{q.stat===_m.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===_m.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(i){return new cx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="PersistentStream";class rw{constructor(e,t,s,o,u,c,d,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ae(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(h0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(le(h0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oV extends rw{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=dx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?zi(c.readTime):Se.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Dm(this.serializer),t.addTarget=(function(u,c){let d;const m=c.target;if(d=Am(m)?{documents:gx(u,m)}:{query:yx(u,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=$A(u,c.resumeToken);const g=Rm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=Yh(u,c.snapshotVersion.toTimestamp());const g=Rm(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=vx(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Dm(this.serializer),t.removeTarget=e,this.q_(t)}}class lV extends rw{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=mx(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Dm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>px(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{}class cV extends uV{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Im(t,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(J.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Im(t,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(J.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class fV{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{_a(this)&&(le(ha,"Restarting streams for network reachability change."),await(async function(m){const g=we(m);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await wf(g)})(this))}))})),this.Ra=new hV(s,o)}}async function wf(i){if(_a(i))for(const e of i.da)await e(!0)}async function xu(i){for(const e of i.da)await e(!1)}function sw(i,e){const t=we(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),bg(t)?wg(t):Uo(t).O_()&&Ag(t,e))}function Sg(i,e){const t=we(i),s=Uo(t);t.Ia.delete(e),s.O_()&&aw(t,e),t.Ia.size===0&&(s.O_()?s.L_():_a(t)&&t.Ra.set("Unknown"))}function Ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(i).Y_(e)}function aw(i,e){i.Va.Ue(e),Uo(i).Z_(e)}function wg(i){i.Va=new ax({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.Ra.ua()}function bg(i){return _a(i)&&!Uo(i).x_()&&i.Ia.size>0}function _a(i){return we(i).Ea.size===0}function ow(i){i.Va=void 0}async function dV(i){i.Ra.set("Online")}async function pV(i){i.Ia.forEach(((e,t)=>{Ag(i,e)}))}async function mV(i,e){ow(i),bg(i)?(i.Ra.ha(e),wg(i)):i.Ra.set("Unknown")}async function gV(i,e,t){if(i.Ra.set("Online"),e instanceof GA&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(i,e)}catch(s){le(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(i,s)}else if(e instanceof Nh?i.Va.Ze(e):e instanceof HA?i.Va.st(e):i.Va.tt(e),!t.isEqual(Se.min()))try{const s=await nw(i.localStore);t.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),aw(u,m);const T=new ls(v.target,m,g,v.sequenceNumber);Ag(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(s){le(ha,"Failed to raise snapshot:",s),await Jh(i,s)}}async function Jh(i,e,t){if(!Po(e))throw e;i.Ea.add(1),await xu(i),i.Ra.set("Offline"),t||(t=()=>nw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{le(ha,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await wf(i)}))}function lw(i,e){return e().catch((t=>Jh(i,t,e)))}async function bf(i){const e=we(i),t=_s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lg;for(;yV(e);)try{const o=await Wx(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,_V(e,o)}catch(o){await Jh(e,o)}uw(e)&&cw(e)}function yV(i){return _a(i)&&i.Ta.length<10}function _V(i,e){i.Ta.push(e);const t=_s(i);t.O_()&&t.X_&&t.ea(e.mutations)}function uw(i){return _a(i)&&!_s(i).x_()&&i.Ta.length>0}function cw(i){_s(i).start()}async function vV(i){_s(i).ra()}async function EV(i){const e=_s(i);for(const t of i.Ta)e.ea(t.mutations)}async function TV(i,e,t){const s=i.Ta.shift(),o=mg.from(s,e,t);await lw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await bf(i)}async function SV(i,e){e&&_s(i).X_&&await(async function(s,o){if((function(c){return ix(c)&&c!==J.ABORTED})(o.code)){const u=s.Ta.shift();_s(s).B_(),await lw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bf(s)}})(i,e),uw(i)&&cw(i)}async function f0(i,e){const t=we(i);t.asyncQueue.verifyOperationInProgress(),le(ha,"RemoteStore received new credentials");const s=_a(t);t.Ea.add(3),await xu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await wf(t)}async function AV(i,e){const t=we(i);e?(t.Ea.delete(2),await wf(t)):e||(t.Ea.add(2),await xu(t),t.Ra.set("Unknown"))}function Uo(i){return i.ma||(i.ma=(function(t,s,o){const u=we(t);return u.sa(),new oV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:dV.bind(null,i),t_:pV.bind(null,i),r_:mV.bind(null,i),H_:gV.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),bg(i)?wg(i):i.Ra.set("Unknown")):(await i.ma.stop(),ow(i))}))),i.ma}function _s(i){return i.fa||(i.fa=(function(t,s,o){const u=we(t);return u.sa(),new lV(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:vV.bind(null,i),r_:SV.bind(null,i),ta:EV.bind(null,i),na:TV.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await bf(i)):(await i.fa.stop(),i.Ta.length>0&&(le(ha,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,d=new Rg(e,t,c,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Po(i))return new ae(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||de.comparator(t.key,s.key):(t,s)=>de.comparator(t.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.ga=new ct(de.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Co{constructor(e,t,s,o,u,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Co(e,t,To.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bV{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=we(t),u=o.queries;o.queries=p0(),u.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new ae(J.ABORTED,"Firestore shutting down"))}}function p0(){return new ya((i=>NA(i)),_f)}async function Cg(i,e){const t=we(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new wV,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Ig(c,`Initialization of query '${po(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Og(t)}async function Dg(i,e){const t=we(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function RV(i,e){const t=we(i);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Og(t)}function IV(i,e,t){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Og(i){i.Ca.forEach((e=>{e.next()}))}var xm,m0;(m0=xm||(xm={})).Ma="default",m0.Cache="cache";class Ng{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.key=e}}class fw{constructor(e){this.key=e}}class CV{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=xA(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new d0,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const w=o.get(v),N=vf(this.query,T)?T:null,P=!!w&&this.mutatedKeys.has(w.key),K=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let q=!1;w&&N?w.data.isEqual(N.data)?P!==K&&(s.track({type:3,doc:N}),q=!0):this.su(w,N)||(s.track({type:2,doc:N}),q=!0,(m&&this.eu(N,m)>0||g&&this.eu(N,g)<0)&&(d=!0)):!w&&N?(s.track({type:0,doc:N}),q=!0):w&&!N&&(s.track({type:1,doc:w}),q=!0,(m||g)&&(d=!0)),q&&(N?(c=c.add(N),u=K?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(N,P){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:q})}};return K(N)-K(P)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Co(this.query,e.tu,u,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new fw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new hw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class DV{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class OV{constructor(e){this.key=e,this.hu=!1}}class NV{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ya((d=>NA(d)),_f),this.Iu=new Map,this.Eu=new Set,this.du=new ct(de.comparator),this.Au=new Map,this.Ru=new _g,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xV(i,e,t=!0){const s=_w(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await dw(s,e,t,!0),o}async function VV(i,e){const t=_w(i);await dw(t,e,!0,!1)}async function dw(i,e,t,s){const o=await Zx(i.localStore,Ui(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await MV(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&sw(i.remoteStore,o),d}async function MV(i,e,t,s,o){i.pu=(T,w,N)=>(async function(K,q,te,ee){let re=q.view.ru(te);re.Cs&&(re=await o0(K.localStore,q.query,!1).then((({documents:C})=>q.view.ru(C,re))));const pe=ee&&ee.targetChanges.get(q.targetId),_e=ee&&ee.targetMismatches.get(q.targetId)!=null,Te=q.view.applyChanges(re,K.isPrimaryClient,pe,_e);return y0(K,q.targetId,Te.au),Te.snapshot})(i,T,w,N);const u=await o0(i.localStore,e,!0),c=new CV(e,u.Qs),d=c.ru(u.documents),m=Nu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=c.applyChanges(d,i.isPrimaryClient,m);y0(i,t,g.au);const v=new DV(e,t,c);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function LV(i,e,t){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!_f(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Om(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Sg(s.remoteStore,o.targetId),Vm(s,o.targetId)})).catch(Lo)):(Vm(s,o.targetId),await Om(s.localStore,o.targetId,!0))}async function PV(i,e){const t=we(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(t.remoteStore,s.targetId))}async function kV(i,e,t){const s=HV(i);try{const o=await(function(c,d){const m=we(c),g=Je.now(),v=d.reduce(((N,P)=>N.add(P.key)),ke());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let P=Er(),K=ke();return m.Ns.getEntries(N,v).next((q=>{P=q,P.forEach(((te,ee)=>{ee.isValidDocument()||(K=K.add(te))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,P))).next((q=>{T=q;const te=[];for(const ee of d){const re=WN(ee,T.get(ee.key).overlayedDocument);re!=null&&te.push(new As(ee.key,re,AA(re.value.mapValue),Gn.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,te,d)})).next((q=>{w=q;const te=q.applyToLocalDocumentSet(T,K);return m.documentOverlayCache.saveOverlays(N,q.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:MA(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new ct(Pe)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,t),await Vu(s,o.changes),await bf(s.remoteStore)}catch(o){const u=Ig(o,"Failed to persist write");t.reject(u)}}async function pw(i,e){const t=we(i);try{const s=await Xx(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ke(c.hu,14607):o.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await Vu(t,s,e)}catch(s){await Lo(s)}}function g0(i,e,t){const s=we(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const m=we(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)})),g&&Og(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UV(i,e,t){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new ct(de.comparator);c=c.insert(u,Zt.newNoDocument(u,Se.min()));const d=ke().add(u),m=new Sf(Se.min(),new Map,new ct(Pe),c,d);await pw(s,m),s.du=s.du.remove(u),s.Au.delete(e),Vg(s)}else await Om(s.localStore,e,!1).then((()=>Vm(s,e,t))).catch(Lo)}async function zV(i,e){const t=we(i),s=e.batch.batchId;try{const o=await Yx(t.localStore,e);gw(t,s,null),mw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(t,o)}catch(o){await Lo(o)}}async function BV(i,e,t){const s=we(i);try{const o=await(function(c,d){const m=we(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((T=>(Ke(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);gw(s,e,t),mw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Vu(s,o)}catch(o){await Lo(o)}}function mw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function gw(i,e,t){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Vm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||yw(i,s)}))}function yw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Sg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Vg(i))}function y0(i,e,t){for(const s of t)s instanceof hw?(i.Ru.addReference(s.key,e),jV(i,s)):s instanceof fw?(le(xg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||yw(i,s.key)):ye(19791,{wu:s})}function jV(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(le(xg,"New document in limbo: "+t),i.Eu.add(s),Vg(i))}function Vg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new de(it.fromString(e)),s=i.fu.next();i.Au.set(s,new OV(t)),i.du=i.du.insert(t,s),sw(i.remoteStore,new ls(Ui(yf(t.path)),s,"TargetPurposeLimboResolution",pf.ce))}}async function Vu(i,e,t){const s=we(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Eg.As(m.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(m,g){const v=we(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(g,(w=>Z.forEach(w.Es,(N=>v.persistence.referenceDelegate.addReference(T,w.targetId,N))).next((()=>Z.forEach(w.ds,(N=>v.persistence.referenceDelegate.removeReference(T,w.targetId,N)))))))))}catch(T){if(!Po(T))throw T;le(Tg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const N=v.Ms.get(w),P=N.snapshotVersion,K=N.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(w,K)}}})(s.localStore,u))}async function qV(i,e){const t=we(i);if(!t.currentUser.isEqual(e)){le(xg,"User change. New user:",e.toKey());const s=await tw(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((d=>{d.forEach((m=>{m.reject(new ae(J.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(t,s.Ls)}}function FV(i,e){const t=we(i),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function _w(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=pw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UV.bind(null,e),e.Pu.H_=RV.bind(null,e.eventManager),e.Pu.yu=IV.bind(null,e.eventManager),e}function HV(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BV.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Qx(this.persistence,new Gx,e.initialUser,this.serializer)}Cu(e){return new ew(vg.mi,this.serializer)}Du(e){return new tV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class GV extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof Xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ox(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new ew((s=>Xh.mi(s,t)),this.serializer)}}class Mm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>g0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qV.bind(null,this.syncEngine),await AV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bV})()}createDatastore(e){const t=Af(e.databaseInfo.databaseId),s=(function(u){return new aV(u)})(e.databaseInfo);return(function(u,c,d,m){return new cV(u,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,c,d){return new fV(s,o,u,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>g0(this.syncEngine,t,0)),(function(){return c0.v()?new c0:new nV})())}createSyncEngine(e,t){return(function(o,u,c,d,m,g,v){const T=new NV(o,u,c,d,m,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=we(t);le(ha,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class $V{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{le(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(le(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ig(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tm(i,e){i.asyncQueue.verifyOperationInProgress(),le(vs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await tw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function _0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await KV(i);le(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>f0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>f0(e.remoteStore,o))),i._onlineComponents=e}async function KV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(vs,"Using user provided OfflineComponentProvider");try{await tm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ao("Error using user provided cache. Falling back to memory cache: "+t),await tm(i,new Wh)}}else le(vs,"Using default OfflineComponentProvider"),await tm(i,new GV(void 0));return i._offlineComponents}async function vw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(vs,"Using user provided OnlineComponentProvider"),await _0(i,i._uninitializedComponentsProvider._online)):(le(vs,"Using default OnlineComponentProvider"),await _0(i,new Mm))),i._onlineComponents}function QV(i){return vw(i).then((e=>e.syncEngine))}async function Zh(i){const e=await vw(i),t=e.eventManager;return t.onListen=xV.bind(null,e.syncEngine),t.onUnlisten=LV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PV.bind(null,e.syncEngine),t}function YV(i,e,t={}){const s=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,m,g){const v=new Mg({next:w=>{v.Nu(),c.enqueueAndForget((()=>Dg(u,T)));const N=w.docs.has(d);!N&&w.fromCache?g.reject(new ae(J.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&m&&m.source==="server"?g.reject(new ae(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Ng(yf(d.path),v,{includeMetadataChanges:!0,qa:!0});return Cg(u,T)})(await Zh(i),i.asyncQueue,e,t,s))),s.promise}function XV(i,e,t={}){const s=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,m,g){const v=new Mg({next:w=>{v.Nu(),c.enqueueAndForget((()=>Dg(u,T))),w.fromCache&&m.source==="server"?g.reject(new ae(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Ng(d,v,{includeMetadataChanges:!0,qa:!0});return Cg(u,T)})(await Zh(i),i.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firestore.googleapis.com",E0=!0;class T0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=E0}else this.host=e.host,this.ssl=e.ssl??E0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Cx)throw new ae(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ew(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new tN;switch(s.type){case"firstParty":return new sN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=v0.get(t);s&&(le("ComponentProvider","Removing Datastore"),v0.delete(t),s.terminate())})(this),Promise.resolve()}}function JV(i,e,t,s={}){i=gn(i,Rf);const o=No(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;o&&(hS(`https://${d}`),fS("Firestore",!0)),u.host!==Tw&&u.host!==d&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:d,ssl:o,emulatorOptions:s};if(!ds(m,c)&&(i._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=Wt.MOCK_USER;else{g=gC(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ae(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wt(T)}i._authCredentials=new nN(new hA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class pt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Du(t,pt._jsonSchema))return new pt(e,s||null,new de(it.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Nt("string",pt._jsonSchemaVersion),referencePath:Nt("string")};class fs extends ws{constructor(e,t,s){super(e,t,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new de(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function dP(i,e,...t){if(i=ut(i),fA("collection","path",e),i instanceof Rf){const s=it.fromString(e,...t);return MT(s),new fs(i,null,s)}{if(!(i instanceof pt||i instanceof fs))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...t));return MT(s),new fs(i.firestore,null,s)}}function Hi(i,e,...t){if(i=ut(i),arguments.length===1&&(e=og.newId()),fA("doc","path",e),i instanceof Rf){const s=it.fromString(e,...t);return VT(s),new pt(i,null,new de(s))}{if(!(i instanceof pt||i instanceof fs))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...t));return VT(s),new pt(i.firestore,i instanceof fs?i.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="AsyncQueue";class A0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iw(this,"async_queue_retry"),this._c=()=>{const s=em();s&&le(S0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=em();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=em();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;le(S0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",w0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Rg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:w0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function w0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Tr extends Rf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new A0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function WV(i,e){const t=typeof i=="object"?i:Xm(),s=typeof i=="string"?i:Gh,o=ma(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pC("firestore");u&&JV(o,...u)}return o}function If(i){if(i._terminated)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ZV(i),i._firestoreClient}function ZV(i){const e=i._freezeSettings(),t=(function(o,u,c,d){return new SN(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ew(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new $V(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Yt.fromBase64String(e))}catch(t){throw new ae(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Nt("string",Fn._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Du(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Nt("string",Bi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ji(e.vectorValues);throw new ae(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Nt("string",ji._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=/^__.*__$/;class tM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}class Sw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new As(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Aw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:i})}}class Lg{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Aw(this.Ac)&&eM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Af(e)}Cc(e,t,s,o=!1){return new Lg({Ac:e,methodName:t,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(i){const e=i._freezeSettings(),t=Af(i._databaseId);return new nM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function ww(i,e,t,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);kg("Data must be an object, but it was:",c,s);const d=bw(s,c);let m,g;if(u.merge)m=new In(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const w=Lm(e,T,t);if(!c.contains(w))throw new ae(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Iw(v,w)||v.push(w)}m=new In(v),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new tM(new mn(d),m,g)}class Nf extends Df{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class Pg extends Df{_toFieldTransform(e){return new QN(e.path,new _u)}isEqual(e){return e instanceof Pg}}function iM(i,e,t,s){const o=i.Cc(1,e,t);kg("Data must be an object, but it was:",o,s);const u=[],c=mn.empty();Ss(s,((m,g)=>{const v=Ug(e,m,t);g=ut(g);const T=o.yc(v);if(g instanceof Nf)u.push(v);else{const w=Mu(g,T);w!=null&&(u.push(v),c.set(v,w))}}));const d=new In(u);return new Sw(c,d,o.fieldTransforms)}function rM(i,e,t,s,o,u){const c=i.Cc(1,e,t),d=[Lm(e,s,t)],m=[o];if(u.length%2!=0)throw new ae(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)d.push(Lm(e,u[w])),m.push(u[w+1]);const g=[],v=mn.empty();for(let w=d.length-1;w>=0;--w)if(!Iw(g,d[w])){const N=d[w];let P=m[w];P=ut(P);const K=c.yc(N);if(P instanceof Nf)g.push(N);else{const q=Mu(P,K);q!=null&&(g.push(N),v.set(N,q))}}const T=new In(g);return new Sw(v,T,c.fieldTransforms)}function sM(i,e,t,s=!1){return Mu(t,i.Cc(s?4:3,e))}function Mu(i,e){if(Rw(i=ut(i)))return kg("Unsupported field value:",e,i),bw(i,e);if(i instanceof Df)return(function(s,o){if(!Aw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let m=Mu(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:Yh(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(s instanceof Bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:$A(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(c,d){return{mapValue:{fields:{[TA]:{stringValue:SA},[$h]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return dg(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${df(s)}`)})(i,e)}function bw(i,e){const t={};return mA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(i,((s,o)=>{const u=Mu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function Rw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Je||i instanceof Bi||i instanceof Fn||i instanceof pt||i instanceof Df||i instanceof ji)}function kg(i,e,t){if(!Rw(t)||!dA(t)){const s=df(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Lm(i,e,t){if((e=ut(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return Ug(i,e);throw ef("Field path arguments must be of type string or ",i,!1,void 0,t)}const aM=new RegExp("[~\\*/\\[\\]]");function Ug(i,e,t){if(e.search(aM)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Cf(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ef(i,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new ae(J.INVALID_ARGUMENT,d+i+m)}function Iw(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oM extends Cw{data(){return super.data()}}function xf(i,e){return typeof e=="string"?Ug(i,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class Ow extends zg{}function pP(i,e,...t){let s=[];e instanceof zg&&s.push(e),s=s.concat(t),(function(u){const c=u.filter((m=>m instanceof Bg)).length,d=u.filter((m=>m instanceof Vf)).length;if(c>1||c>0&&d>0)throw new ae(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Vf extends Ow{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Vf(e,t,s)}_apply(e){const t=this._parse(e);return Nw(e._query,t),new ws(e.firestore,e.converter,wm(e._query,t))}_parse(e){const t=Of(e.firestore);return(function(u,c,d,m,g,v,T){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ae(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){I0(T,v);const P=[];for(const K of T)P.push(R0(m,u,K));w={arrayValue:{values:P}}}else w=R0(m,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||I0(T,v),w=sM(d,c,T,v==="in"||v==="not-in");return Ot.create(g,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mP(i,e,t){const s=e,o=xf("where",i);return Vf._create(o,s,t)}class Bg extends zg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const m of d)Nw(c,m),c=wm(c,m)})(e._query,t),new ws(e.firestore,e.converter,wm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends Ow{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jg(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(u,c)})(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new ko(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function gP(i,e="asc"){const t=e,s=xf("orderBy",i);return jg._create(s,t)}function R0(i,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new ae(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OA(e)&&t.indexOf("/")!==-1)throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!de.isDocumentKey(s))throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qT(i,new de(s))}if(t instanceof pt)return qT(i,t._key);throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(t)}.`)}function I0(i,e){if(!Array.isArray(i)||i.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nw(i,e){const t=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lM{convertValue(e,t="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ss(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[$h].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new ji(t)}convertGeoPoint(e){return new Bi(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=ms(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);Ke(WA(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(t)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends Cw{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(xf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=aa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Nt("string",aa._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class xh extends aa{data(e={}){return super.data(e)}}class oa{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new xh(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const m=new xh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Zl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const m=new xh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Zl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:uM(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){i=gn(i,pt);const e=gn(i.firestore,Tr);return YV(If(e),i._key).then((t=>Mw(e,i,t)))}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Nt("string",oa._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class qg extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function yP(i){i=gn(i,ws);const e=gn(i.firestore,Tr),t=If(e),s=new qg(e);return Dw(i._query),XV(t,i._query).then((o=>new oa(e,s,i,o)))}function Vw(i,e,t){i=gn(i,pt);const s=gn(i.firestore,Tr),o=xw(i.converter,e,t);return Mf(s,[ww(Of(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Gn.none())])}function _P(i,e,t,...s){i=gn(i,pt);const o=gn(i.firestore,Tr),u=Of(o);let c;return c=typeof(e=ut(e))=="string"||e instanceof Cf?rM(u,"updateDoc",i._key,e,t,s):iM(u,"updateDoc",i._key,e),Mf(o,[c.toMutation(i._key,Gn.exists(!0))])}function C0(i){return Mf(gn(i.firestore,Tr),[new pg(i._key,Gn.none())])}function vP(i,e){const t=gn(i.firestore,Tr),s=Hi(i),o=xw(i.converter,e);return Mf(t,[ww(Of(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function cM(i,...e){i=ut(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||b0(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(b0(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let u,c,d;if(i instanceof pt)c=gn(i.firestore,Tr),d=yf(i._key.path),u={next:m=>{e[s]&&e[s](Mw(c,i,m))},error:e[s+1],complete:e[s+2]};else{const m=gn(i,ws);c=gn(m.firestore,Tr),d=m._query;const g=new qg(c);u={next:v=>{e[s]&&e[s](new oa(c,g,m,v))},error:e[s+1],complete:e[s+2]},Dw(i._query)}return(function(g,v,T,w){const N=new Mg(w),P=new Ng(v,N,T);return g.asyncQueue.enqueueAndForget((async()=>Cg(await Zh(g),P))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>Dg(await Zh(g),P)))}})(If(c),d,o,u)}function Mf(i,e){return(function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget((async()=>kV(await QV(s),o,u))),u.promise})(If(i),e)}function Mw(i,e,t){const s=t.docs.get(e._key),o=new qg(i);return new aa(i,o,e._key,s,new Zl(t.hasPendingWrites,t.fromCache),e.converter)}function EP(){return new Pg("serverTimestamp")}(function(e,t=!0){(function(o){Mo=o})(xo),qi(new ai("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Tr(new iN(s.getProvider("auth-internal")),new aN(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ae(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:t,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Hn(DT,OT,e),Hn(DT,OT,"esm2020")})();var hM="firebase",fM="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(hM,fM,"app");const Lw="@firebase/installations",Fg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=1e4,kw=`w:${Fg}`,Uw="FIS_v2",dM="https://firebaseinstallations.googleapis.com/v1",pM=3600*1e3,mM="installations",gM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fa=new pa(mM,gM,yM);function zw(i){return i instanceof hi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw({projectId:i}){return`${dM}/projects/${i}/installations`}function jw(i){return{token:i.token,requestStatus:2,expiresIn:vM(i.expiresIn),creationTime:Date.now()}}async function qw(i,e){const s=(await e.json()).error;return fa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Fw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function _M(i,{refreshToken:e}){const t=Fw(i);return t.append("Authorization",EM(e)),t}async function Hw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function vM(i){return Number(i.replace("s","000"))}function EM(i){return`${Uw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=Bw(i),o=Fw(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:t,authVersion:Uw,appId:i.appId,sdkVersion:kw},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await Hw(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:jw(g.authToken)}}else throw await qw("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^[cdef][\w-]{21}$/,Pm="";function wM(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=bM(i);return AM.test(t)?t:Pm}catch{return Pm}}function bM(i){return SM(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Map;function Kw(i,e){const t=Lf(i);Qw(t,e),RM(t,e)}function Qw(i,e){const t=$w.get(i);if(t)for(const s of t)s(e)}function RM(i,e){const t=IM();t&&t.postMessage({key:i,fid:e}),CM()}let sa=null;function IM(){return!sa&&"BroadcastChannel"in self&&(sa=new BroadcastChannel("[Firebase] FID Change"),sa.onmessage=i=>{Qw(i.data.key,i.data.fid)}),sa}function CM(){$w.size===0&&sa&&(sa.close(),sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="firebase-installations-database",OM=1,da="firebase-installations-store";let nm=null;function Hg(){return nm||(nm=gS(DM,OM,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(da)}}})),nm}async function tf(i,e){const t=Lf(i),o=(await Hg()).transaction(da,"readwrite"),u=o.objectStore(da),c=await u.get(t);return await u.put(e,t),await o.done,(!c||c.fid!==e.fid)&&Kw(i,e.fid),e}async function Yw(i){const e=Lf(i),s=(await Hg()).transaction(da,"readwrite");await s.objectStore(da).delete(e),await s.done}async function Pf(i,e){const t=Lf(i),o=(await Hg()).transaction(da,"readwrite"),u=o.objectStore(da),c=await u.get(t),d=e(c);return d===void 0?await u.delete(t):await u.put(d,t),await o.done,d&&(!c||c.fid!==d.fid)&&Kw(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(i){let e;const t=await Pf(i.appConfig,s=>{const o=NM(s),u=xM(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===Pm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NM(i){const e=i||{fid:wM(),registrationStatus:0};return Xw(e)}function xM(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(fa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=VM(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MM(i)}:{installationEntry:e}}async function VM(i,e){try{const t=await TM(i,e);return tf(i.appConfig,t)}catch(t){throw zw(t)&&t.customData.serverCode===409?await Yw(i.appConfig):await tf(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function MM(i){let e=await D0(i.appConfig);for(;e.registrationStatus===1;)await Gw(100),e=await D0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Gg(i);return s||t}return e}function D0(i){return Pf(i,e=>{if(!e)throw fa.create("installation-not-found");return Xw(e)})}function Xw(i){return LM(i)?{fid:i.fid,registrationStatus:0}:i}function LM(i){return i.registrationStatus===1&&i.registrationTime+Pw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM({appConfig:i,heartbeatServiceProvider:e},t){const s=kM(i,t),o=_M(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:kw,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await Hw(()=>fetch(s,d));if(m.ok){const g=await m.json();return jw(g)}else throw await qw("Generate Auth Token",m)}function kM(i,{fid:e}){return`${Bw(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(i,e=!1){let t;const s=await Pf(i.appConfig,u=>{if(!Jw(u))throw fa.create("not-registered");const c=u.authToken;if(!e&&BM(c))return u;if(c.requestStatus===1)return t=UM(i,e),u;{if(!navigator.onLine)throw fa.create("app-offline");const d=qM(u);return t=zM(i,d),d}});return t?await t:s.authToken}async function UM(i,e){let t=await O0(i.appConfig);for(;t.authToken.requestStatus===1;)await Gw(100),t=await O0(i.appConfig);const s=t.authToken;return s.requestStatus===0?$g(i,e):s}function O0(i){return Pf(i,e=>{if(!Jw(e))throw fa.create("not-registered");const t=e.authToken;return FM(t)?{...e,authToken:{requestStatus:0}}:e})}async function zM(i,e){try{const t=await PM(i,e),s={...e,authToken:t};return await tf(i.appConfig,s),t}catch(t){if(zw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Yw(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await tf(i.appConfig,s)}throw t}}function Jw(i){return i!==void 0&&i.registrationStatus===2}function BM(i){return i.requestStatus===2&&!jM(i)}function jM(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+pM}function qM(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function FM(i){return i.requestStatus===1&&i.requestTime+Pw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(i){const e=i,{installationEntry:t,registrationPromise:s}=await Gg(e);return s?s.catch(console.error):$g(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(i,e=!1){const t=i;return await $M(t),(await $g(t,e)).token}async function $M(i){const{registrationPromise:e}=await Gg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(i){if(!i||!i.options)throw im("App Configuration");if(!i.name)throw im("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw im(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function im(i){return fa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="installations",QM="installations-internal",YM=i=>{const e=i.getProvider("app").getImmediate(),t=KM(e),s=ma(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},XM=i=>{const e=i.getProvider("app").getImmediate(),t=ma(e,Ww).getImmediate();return{getId:()=>HM(t),getToken:o=>GM(t,o)}};function JM(){qi(new ai(Ww,YM,"PUBLIC")),qi(new ai(QM,XM,"PRIVATE"))}JM();Hn(Lw,Fg);Hn(Lw,Fg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="analytics",WM="firebase_id",ZM="origin",eL=60*1e3,tL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new pa("analytics","Analytics",nL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(i){if(!i.startsWith(Kg)){const e=Cn.create("invalid-gtag-resource",{gtagURL:i});return yn.warn(e.message),""}return i}function Zw(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function rL(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function sL(i,e){const t=rL("firebase-js-sdk-policy",{createScriptURL:iL}),s=document.createElement("script"),o=`${Kg}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function aL(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function oL(i,e,t,s,o,u){const c=s[o];try{if(c)await e[c];else{const m=(await Zw(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(d){yn.error(d)}i("config",o,u)}async function lL(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await Zw(t);for(const m of c){const g=d.find(T=>T.measurementId===m),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){yn.error(u)}}function uL(i,e,t,s){async function o(u,...c){try{if(u==="event"){const[d,m]=c;await lL(i,e,t,d,m)}else if(u==="config"){const[d,m]=c;await oL(i,e,t,s,d,m)}else if(u==="consent"){const[d,m]=c;i("consent",d,m)}else if(u==="get"){const[d,m,g]=c;i("get",d,m,g)}else if(u==="set"){const[d]=c;i("set",d)}else i(u,...c)}catch(d){yn.error(d)}}return o}function cL(i,e,t,s,o){let u=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=uL(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function hL(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Kg)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=30,dL=1e3;class pL{constructor(e={},t=dL){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eb=new pL;function mL(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function gL(i){const{appId:e,apiKey:t}=i,s={method:"GET",headers:mL(t)},o=tL.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function yL(i,e=eb,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Cn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Cn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new EL;return setTimeout(async()=>{d.abort()},eL),tb({appId:s,apiKey:o,measurementId:u},c,d,e)}async function tb(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=eb){const{appId:u,measurementId:c}=i;try{await _L(s,e)}catch(d){if(c)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await gL(i);return o.deleteThrottleMetadata(u),d}catch(d){const m=d;if(!vL(m)){if(o.deleteThrottleMetadata(u),c)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?eT(t,o.intervalMillis,fL):eT(t,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return o.setThrottleMetadata(u,v),yn.debug(`Calling attemptFetch again in ${g} millis`),tb(i,v,s,o)}}function _L(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vL(i){if(!(i instanceof hi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class EL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TL(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,c={...s,send_to:u};i("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(){if(Km())try{await Qm()}catch(i){return yn.warn(Cn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return yn.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AL(i,e,t,s,o,u,c){const d=yL(i);d.then(w=>{t[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>yn.error(w)),e.push(d);const m=SL().then(w=>{if(w)return s.getId()}),[g,v]=await Promise.all([d,m]);hL(u)||sL(u,g.measurementId),o("js",new Date);const T=c?.config??{};return T[ZM]="firebase",T.update=!0,v!=null&&(T[WM]=v),o("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.app=e}_delete(){return delete ou[this.app.options.appId],Promise.resolve()}}let ou={},N0=[];const x0={};let rm="dataLayer",bL="gtag",V0,nb,M0=!1;function RL(){const i=[];if($m()&&i.push("This is a browser extension environment."),dS()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Cn.create("invalid-analytics-context",{errorInfo:e});yn.warn(t.message)}}function IL(i,e,t){RL();const s=i.options.appId;if(!s)throw Cn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(ou[s]!=null)throw Cn.create("already-exists",{id:s});if(!M0){aL(rm);const{wrappedGtag:u,gtagCore:c}=cL(ou,N0,x0,rm,bL);nb=u,V0=c,M0=!0}return ou[s]=AL(i,N0,x0,e,V0,rm,t),new wL(i)}function CL(i=Xm()){i=ut(i);const e=ma(i,nf);return e.isInitialized()?e.getImmediate():DL(i)}function DL(i,e={}){const t=ma(i,nf);if(t.isInitialized()){const o=t.getImmediate();if(ds(e,t.getOptions()))return o;throw Cn.create("already-initialized")}return t.initialize({options:e})}async function OL(){if($m()||!dS()||!Km())return!1;try{return await Qm()}catch{return!1}}function NL(i,e,t,s){i=ut(i),TL(nb,ou[i.app.options.appId],e,t,s).catch(o=>yn.error(o))}const L0="@firebase/analytics",P0="0.10.18";function xL(){qi(new ai(nf,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return IL(s,o,t)},"PUBLIC")),qi(new ai("analytics-internal",i,"PRIVATE")),Hn(L0,P0),Hn(L0,P0,"esm2020");function i(e){try{const t=e.getProvider(nf).getImmediate();return{logEvent:(s,o,u)=>NL(t,s,o,u)}}catch(t){throw Cn.create("interop-component-reg-failed",{reason:t})}}}xL();const VL={VITE_FIREBASE_API_KEY:"AIzaSyCo8bdOYNnQ7dI5djj6PAfmlkVMym3qfjQ",VITE_FIREBASE_APP_ID:"1:753224318997:web:22c337131a9a9f54c60e1c",VITE_FIREBASE_AUTH_DOMAIN:"bloodlink-1cd80.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-QYBR5DYCWZ",VITE_FIREBASE_MESSAGING_SENDER_ID:"753224318997",VITE_FIREBASE_PROJECT_ID:"bloodlink-1cd80",VITE_FIREBASE_STORAGE_BUCKET:"bloodlink-1cd80.appspot.com"},na=VL,ML={apiKey:na.VITE_FIREBASE_API_KEY,authDomain:na.VITE_FIREBASE_AUTH_DOMAIN,projectId:na.VITE_FIREBASE_PROJECT_ID,storageBucket:na.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:na.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:na.VITE_FIREBASE_APP_ID,measurementId:na.VITE_FIREBASE_MEASUREMENT_ID},Qg=yS(ML),Sr=WV(Qg),TP=iA(Qg);OL().then(i=>{i&&CL(Qg)});const ib=(i,e)=>{const t=Hi(Sr,"users",i);return Vw(t,{...e,uid:i,createdAt:Je.now(),updatedAt:Je.now()})},LL=(i,e)=>{const t=Hi(Sr,"blood_banks",i);return Vw(t,{...e,id:i,approved:e.approved??!1,createdAt:Je.now(),updatedAt:Je.now()})},SP=i=>{const e=Hi(Sr,"users",i);return Tu(e)},fr=iA(),PL=(i,e)=>ig(fr,i,e),kL=async(i,e,t)=>{const s=await ig(fr,i,e),o=s.user.uid;try{return await ib(o,t),s}catch(u){try{await $S(s.user)}catch(c){console.error("Failed to delete auth user after profile write failure",c)}throw u}},UL=async(i,e)=>{const t=await zO(fr,i,e),s=t.user,o=Hi(Sr,"users",s.uid),u=await Tu(o);if(u.exists()){if((u.data().userType||"").toString().toLowerCase()==="bloodbank"){const m=Hi(Sr,"blood_banks",s.uid),g=await Tu(m),v=g.exists()?g.data():null;if(!g.exists()||!v.approved)throw await wh(fr),new Error("This blood bank account is not approved. Please contact an administrator.");if(v.status==="rejected")throw await wh(fr),new Error("This account has been revoked. Contact an administrator.")}return t}else throw await wh(fr),new Error("User data not found.")},zL=async(i,e,t,s)=>{const o=await ig(fr,i,e),u=o.user.uid;try{return await ib(u,t),await LL(u,s),o}catch(c){try{await C0(Hi(Sr,"users",u))}catch(d){console.warn("Failed to delete users doc during rollback",d)}try{await C0(Hi(Sr,"blood_banks",u))}catch(d){console.warn("Failed to delete blood_banks doc during rollback",d)}try{await $S(o.user)}catch(d){console.error("Failed to delete auth user during rollback",d)}throw c}},rb=()=>wh(fr),sb=i=>{let e=null;const t=FO(fr,async s=>{if(!s){i(null);return}const o=Hi(Sr,"users",s.uid),u=await Tu(o);let c={};try{c=(await RS(s)).claims||{}}catch(T){console.warn("Failed to fetch ID token result",T)}const d={...u.exists()?u.data():{},uid:s.uid,email:s.email||void 0};let m=(d.userType||"").toString().toLowerCase();const v=c.superAdmin||c.superadmin?"superadmin":m.includes("blood")?"bloodbank":m.includes("admin")?"superadmin":"donor";try{if(v==="bloodbank"){const T=Hi(Sr,"blood_banks",s.uid),w=await Tu(T),N=w.exists()?w.data():{};i({...d,userType:v,claims:c,...N}),e=cM(T,P=>{const K=P.exists()?P.data():{};i({...d,userType:v,claims:c,...K})});return}}catch(T){console.warn("Failed to attach bank doc listener",T)}i({...d,userType:v,claims:c})});return()=>{try{t(),e&&e()}catch{}}},AP=Object.freeze(Object.defineProperty({__proto__:null,authStateListener:sb,signIn:UL,signOut:rb,signUpBloodBank:zL,signUpDonor:PL,signUpDonorProfile:kL},Symbol.toStringTag,{value:"Module"})),ab=$.createContext(void 0),BL=({children:i})=>{const[e,t]=$.useState(null),[s,o]=$.useState(!0);return $.useEffect(()=>sb(c=>{if(t(c||null),o(!1),c){const d={...c,claims:c.claims||{}};try{console.debug("[AuthProvider] persist user:",{uid:d.uid||d.user?.uid||null,type:d.userType||d.type||null,approved:!!d.approved}),localStorage.setItem("bloodlink_user",JSON.stringify(d))}catch{}}else try{localStorage.removeItem("bloodlink_user")}catch{}}),[]),ze.jsx(ab.Provider,{value:{user:e,loading:s,signOut:rb},children:i})},jL=()=>{const i=$.useContext(ab);if(!i)throw new Error("useAuth must be used within AuthProvider");return i};function vh({children:i,allowedRoles:e,requireApproved:t}){const{user:s,loading:o}=jL();if(o)return null;if(!s)return ze.jsx(hh,{to:"/auth",replace:!0});const u=s.userType;if(e&&!e.includes(u))return ze.jsx(hh,{to:"/",replace:!0});if(t&&u==="bloodbank"){const c=!!s.approved;if((s.status||"").toString().toLowerCase()==="rejected")return ze.jsx(hh,{to:"/access-revoked",replace:!0});if(!c)return ze.jsx(hh,{to:"/",replace:!0})}return ze.jsx(ze.Fragment,{children:i})}const qL=$.lazy(()=>nn(()=>import("./page-C2YMXTVh.js"),__vite__mapDeps([0,1,2]))),FL=$.lazy(()=>nn(()=>import("./page-C6YDVofL.js"),__vite__mapDeps([3,1,2]))),HL=$.lazy(()=>nn(()=>import("./page-D12tzNbF.js"),__vite__mapDeps([4,1,2]))),GL=$.lazy(()=>nn(()=>import("./page-CeL9L42m.js"),__vite__mapDeps([5,1,2]))),$L=$.lazy(()=>nn(()=>import("./page-DKdaObWG.js"),__vite__mapDeps([6,1,2]))),KL=$.lazy(()=>nn(()=>import("./page-WoHDNzYT.js"),__vite__mapDeps([7,1,2]))),QL=$.lazy(()=>nn(()=>import("./page-Dh9y8-2O.js"),__vite__mapDeps([8,1,2,9,10]))),YL=$.lazy(()=>nn(()=>import("./page-DErFgPyP.js"),__vite__mapDeps([11,1,2,9,10]))),XL=$.lazy(()=>nn(()=>import("./page-DqZ5JREc.js"),__vite__mapDeps([12,1,2,9]))),JL=$.lazy(()=>nn(()=>import("./page-BNB2_9mm.js"),__vite__mapDeps([13,1,2,9]))),WL=$.lazy(()=>nn(()=>import("./page-DfwD-11L.js"),__vite__mapDeps([14,1,2,9]))),ZL=$.lazy(()=>nn(()=>import("./page-JSPdQ9j4.js"),__vite__mapDeps([15,1,2,9]))),eP=$.lazy(()=>nn(()=>import("./page-BSpxYVPJ.js"),__vite__mapDeps([16,1,2,9]))),tP=$.lazy(()=>nn(()=>import("./page-oy4ispwz.js"),__vite__mapDeps([17,1,2,9]))),nP=$.lazy(()=>nn(()=>import("./page-YlOaqrow.js"),__vite__mapDeps([18,1]))),iP=$.lazy(()=>nn(()=>import("./NotFound-BcixvJnW.js"),[])),rP=[{path:"/",element:ze.jsx(qL,{})},{path:"/about",element:ze.jsx(FL,{})},{path:"/auth",element:ze.jsx(HL,{})},{path:"/request",element:ze.jsx(GL,{})},{path:"/donate",element:ze.jsx($L,{})},{path:"/profile",element:ze.jsx(KL,{})},{path:"/blood-banks",element:ze.jsx(QL,{})},{path:"/blood-banks/:id",element:ze.jsx(YL,{})},{path:"/blood-banks/dashboard",element:ze.jsx(vh,{allowedRoles:["bloodbank"],requireApproved:!0,children:ze.jsx(XL,{})})},{path:"/donor/dashboard",element:ze.jsx(vh,{allowedRoles:["donor"],children:ze.jsx(JL,{})})},{path:"/facilities",element:ze.jsx(WL,{})},{path:"/facilities/:id",element:ze.jsx(ZL,{})},{path:"/facilities/dashboard",element:ze.jsx(vh,{allowedRoles:["bloodbank"],requireApproved:!0,children:ze.jsx(eP,{})})},{path:"/admin/dashboard",element:ze.jsx(vh,{allowedRoles:["superadmin"],children:ze.jsx(tP,{})})},{path:"/access-revoked",element:ze.jsx(nP,{})},{path:"*",element:ze.jsx(iP,{})}];let ob;new Promise(i=>{ob=i});function sP(){const i=fI(rP);if(!window.REACT_APP_NAVIGATE){const e=jm();$.useEffect(()=>{window.REACT_APP_NAVIGATE=e,ob(window.REACT_APP_NAVIGATE)})}return i}const lb=$.createContext(void 0),aP=({children:i})=>{const[e,t]=$.useState(null),s=o=>{t(o),setTimeout(()=>t(null),4e3)};return ze.jsxs(lb.Provider,{value:{notify:s},children:[i,e&&ze.jsx("div",{className:`fixed top-6 right-6 z-50 p-4 rounded-xl shadow-lg transition-all ${e.type==="success"?"bg-green-500 text-white":e.type==="error"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:e.message})]})},wP=()=>{const i=$.useContext(lb);if(!i)throw new Error("useNotification must be used inside NotificationProvider");return i};function oP(){return ze.jsx(QI,{children:ze.jsx(aP,{children:ze.jsx(sP,{})})})}const k0="G-QYBR5DYCWZ",lP=()=>{const i=document.createElement("script");i.async=!0,i.src=`https://www.googletagmanager.com/gtag/js?id=${k0}`,document.head.appendChild(i),window.dataLayer=window.dataLayer||[];function e(...t){window.dataLayer.push(t)}e("js",new Date),e("config",k0,{send_page_view:!0})};lP();PR.createRoot(document.getElementById("root")).render(ze.jsx($.StrictMode,{children:ze.jsx(BL,{children:ze.jsx(oP,{})})}));export{Es as A,AP as B,Vo as E,iS as L,Je as T,nn as _,jm as a,zL as b,kL as c,dP as d,Sr as e,yP as f,SP as g,vP as h,EP as i,ze as j,TP as k,Hi as l,Tu as m,jL as n,_P as o,uP as p,pP as q,$ as r,UL as s,gP as t,wP as u,cM as v,mP as w,Vw as x,cP as y,hP as z};
//# sourceMappingURL=index-C6PY5QRv.js.map
