import{u as k,r as i,j as e,q as B,d as x,e as m,w as q,f as b,h as C,i as S}from"./index-C6PY5QRv.js";import{H as A,B as R,F as T}from"./Footer-BepvwvVu.js";import{C as g}from"./Card-D3mEm6qj.js";function P(){const{notify:f}=k(),[c,N]=i.useState([]),[s,u]=i.useState({bloodType:"",urgency:"",location:"",patientName:"",totalAmount:"",contactNumber:"",unitsNeeded:"",medicalCondition:"",additionalNotes:""}),[o,j]=i.useState(null),p=i.useMemo(()=>{const t=Number(s.unitsNeeded||0);return o!=null?t*o:0},[s.unitsNeeded,o]);i.useEffect(()=>{(async()=>{try{const l=B(x(m,"blood_banks"),q("approved","==",!0)),r=(await b(l)).docs.map(n=>({id:n.id,...n.data()}));N(r),console.log("Fetched Blood Banks:",r)}catch(l){console.error("Error fetching blood banks:",l)}})()},[]),i.useEffect(()=>{if(!s.location||!s.bloodType)return;(async()=>{const l=c.find(n=>n.id===s.location);if(!l)return;const d=x(m,"blood_banks",l.id,"inventory");(await b(d)).forEach(n=>{if(n.id===s.bloodType){const h=n.data();h.price&&j(h.price)}})})()},[s.location,s.bloodType,c]);const y=["A+","A-","B+","B-","AB+","AB-","O+","O-"],v=[{value:"critical",label:"Critical (Within 2 hours)",color:"red"},{value:"urgent",label:"Urgent (Within 24 hours)",color:"orange"},{value:"routine",label:"Routine (Within 7 days)",color:"green"}],a=t=>{const{name:l,value:d}=t.target;u(r=>({...r,[l]:d}))},w=async t=>{t.preventDefault(),await C(x(m,"blood_requests"),{...s,totalAmount:p,status:"pending",createdAt:S()}),f({type:"success",message:"Blood request submitted successfully!"}),u({bloodType:"",urgency:"",location:"",patientName:"",totalAmount:"",contactNumber:"",unitsNeeded:"",medicalCondition:"",additionalNotes:""})};return e.jsxs("div",{className:"min-h-screen page-transition",children:[e.jsx(A,{}),e.jsxs("section",{className:"relative overflow-hidden pt-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-red-50/30 to-pink-50/30",children:e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"floating-element absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-red-400/30 to-pink-400/30 rounded-full blur-xl"}),e.jsx("div",{className:"floating-element absolute top-40 right-20 w-24 h-24 bg-gradient-to-r from-pink-400/30 to-purple-400/30 rounded-full blur-xl"}),e.jsx("div",{className:"floating-element absolute bottom-20 left-1/4 w-40 h-40 bg-gradient-to-r from-purple-400/30 to-red-400/30 rounded-full blur-xl"})]})}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center px-6 py-3 glass rounded-full text-red-700 text-sm font-medium mb-8 animate-pulse-slow",children:[e.jsx("i",{className:"ri-heart-pulse-line mr-2"}),"Emergency Blood Request System"]}),e.jsxs("h1",{className:"text-6xl lg:text-8xl font-black mb-8 leading-tight",children:[e.jsx("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:"Request Blood"}),e.jsx("br",{}),e.jsx("span",{className:"text-gray-900",children:"Save a Life"})]}),e.jsx("p",{className:"text-xl text-gray-600 mb-10 max-w-3xl mx-auto leading-relaxed",children:"Connect with verified blood banks across Nigeria instantly. Our emergency response system ensures you get the blood you need when every second counts."})]})})]}),e.jsx("section",{className:"py-20",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs(g,{variant:"glass",className:"shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-4xl font-black text-gray-900 mb-4",children:["Submit Blood",e.jsx("span",{className:"gradient-text",children:" Request"})]}),e.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below to connect with available blood banks in your area"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Blood Type Required *"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"bloodType",value:s.bloodType,onChange:a,required:!0,className:"w-full pl-14 pr-8 py-5 input-glass rounded-2xl text-base font-medium appearance-none",children:[e.jsx("option",{value:"",children:"Select blood type"}),y.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("i",{className:"ri-drop-line absolute left-5 top-5 text-red-500 text-xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Urgency Level *"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"urgency",value:s.urgency,onChange:a,required:!0,className:"w-full pl-14 pr-8 py-5 input-glass rounded-2xl text-base font-medium appearance-none",children:[e.jsx("option",{value:"",children:"Select urgency"}),v.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),e.jsx("i",{className:"ri-alarm-warning-line absolute left-5 top-5 text-red-500 text-xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Select Blood Bank *"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"location",value:s.location,onChange:a,required:!0,className:"w-full pl-14 pr-8 py-5 input-glass rounded-2xl text-base font-medium appearance-none",children:[e.jsx("option",{value:"",children:"Choose Blood Bank"}),c.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("i",{className:"ri-hospital-line absolute left-5 top-5 text-red-500 text-xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Pints Needed *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",name:"unitsNeeded",value:s.unitsNeeded,onChange:a,placeholder:"Number of pints",min:"1",required:!0,className:"w-full pl-14 pr-4 py-5 input-glass rounded-2xl text-base font-medium placeholder-gray-400"}),e.jsx("i",{className:"ri-medicine-bottle-line absolute left-5 top-5 text-red-500 text-xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Patient Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"patientName",value:s.patientName,onChange:a,placeholder:"Full name of patient",required:!0,className:"w-full pl-14 pr-4 py-5 input-glass rounded-2xl text-base font-medium placeholder-gray-400"}),e.jsx("i",{className:"ri-user-line absolute left-5 top-5 text-red-500 text-xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Total Amount (₦) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"totalAmount",value:o==null?"—":`₦${p.toLocaleString()}`,readOnly:!0,className:"w-full pl-14 pr-4 py-5 input-glass rounded-2xl text-base font-medium placeholder-gray-400"}),e.jsx("i",{className:"ri-cash-line absolute left-5 top-5 text-red-500 text-xl"})]}),o!=null&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["₦",o.toLocaleString()," per pint × ",s.unitsNeeded||0," pint(s)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Contact Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",name:"contactNumber",value:s.contactNumber,onChange:a,placeholder:"+234 xxx xxx xxxx",required:!0,className:"w-full pl-14 pr-4 py-5 input-glass rounded-2xl text-base font-medium placeholder-gray-400"}),e.jsx("i",{className:"ri-phone-line absolute left-5 top-5 text-red-500 text-xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Medical Condition"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"medicalCondition",value:s.medicalCondition,onChange:a,placeholder:"Brief description of medical condition",className:"w-full pl-14 pr-4 py-5 input-glass rounded-2xl text-base font-medium placeholder-gray-400"}),e.jsx("i",{className:"ri-stethoscope-line absolute left-5 top-5 text-red-500 text-xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-4",children:"Additional Notes"}),e.jsx("textarea",{name:"additionalNotes",value:s.additionalNotes,onChange:a,placeholder:"Any additional information that might help...",rows:4,className:"w-full p-5 input-glass rounded-2xl text-base font-medium placeholder-gray-400 resize-none"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-6",children:e.jsxs(R,{type:"submit",className:"flex-1 bg-gradient-to-r from-red-500 to-pink-500 shadow-2xl hover:shadow-red-500/30",size:"lg",children:[e.jsx("i",{className:"ri-send-plane-fill mr-3"}),"Submit Request"]})})]})]})})}),e.jsx("section",{className:"py-24 bg-gradient-to-r from-gray-50/50 to-red-50/30",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-20",children:[e.jsxs("h2",{className:"text-5xl font-black text-gray-900 mb-6",children:["How It",e.jsx("span",{className:"gradient-text",children:" Works"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our streamlined process ensures you get the blood you need as quickly as possible"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[{step:"01",title:"Submit Request",description:"Fill out our secure form with patient details, blood type needed, and urgency level.",icon:"ri-file-text-line",color:"from-red-500 to-pink-500"},{step:"02",title:"Instant Matching",description:"Our AI system instantly matches your request with available blood banks in your area.",icon:"ri-brain-line",color:"from-pink-500 to-purple-500"},{step:"03",title:"Get Connected",description:"Receive immediate contact details and coordinate directly with the blood bank.",icon:"ri-phone-line",color:"from-purple-500 to-blue-500"}].map((t,l)=>e.jsxs(g,{variant:"glass",className:"text-center hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-3",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:`w-20 h-20 bg-gradient-to-r ${t.color} rounded-3xl flex items-center justify-center mx-auto shadow-2xl animate-glow`,children:e.jsx("i",{className:`${t.icon} text-white text-3xl`})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-12 h-12 glass rounded-2xl flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-black text-gray-700",children:t.step})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},l))})]})}),e.jsx(T,{})]})}export{P as default};
//# sourceMappingURL=page-CeL9L42m.js.map
