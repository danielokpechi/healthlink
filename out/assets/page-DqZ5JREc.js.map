{"version":3,"file":"page-DqZ5JREc.js","sources":["../../src/pages/blood-banks/AddStockModal.tsx","../../src/hooks/useInventory.ts","../../src/pages/blood-banks/dashboard/page.tsx"],"sourcesContent":["import { useState } from 'react';\nimport Button from '../../components/base/Button';\nimport Card from '../../components/base/Card';\n\nconst BLOOD_TYPES = ['A+','A-','B+','B-','AB+','AB-','O+','O-'];\n\nexport default function AddStockModal({\n  open, onClose, onCreate\n}: {\n  open: boolean;\n  onClose: () => void;\n  onCreate: (payload: { type: string; quantity: number; price: number; available: boolean }) => Promise<void>;\n}) {\n  const [type, setType] = useState('');\n  const [quantity, setQuantity] = useState<number>(1);\n  const [price, setPrice] = useState<number>(15000);\n  const [available, setAvailable] = useState(true);\n  const [busy, setBusy] = useState(false);\n\n  if (!open) return null;\n\n  const submit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setBusy(true);\n    try {\n      await onCreate({ type, quantity, price, available });\n      onClose();\n    } finally { setBusy(false); }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <Card className=\"w-full max-w-lg p-6 text-black shadow-2xl\">\n        <h3 className=\"text-xl font-bold mb-4\">Add Stock</h3>\n        <form onSubmit={submit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Blood Type</label>\n            <select className=\"w-full input-glass p-3 rounded-xl\"\n                    value={type} onChange={(e)=>setType(e.target.value)} required>\n              <option value=\"\">Select blood type</option>\n              {BLOOD_TYPES.map(t => <option key={t} value={t}>{t}</option>)}\n            </select>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Quantity (pints)</label>\n              <input type=\"number\" min={0} value={quantity}\n                     onChange={(e)=>setQuantity(Number(e.target.value))}\n                     className=\"w-full input-glass p-3 rounded-xl\" required />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Price per Unit (₦)</label>\n              <input type=\"number\" min={0} step={500} value={price}\n                     onChange={(e)=>setPrice(Number(e.target.value))}\n                     className=\"w-full input-glass p-3 rounded-xl\" required />\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-sm font-medium\">Available</span>\n            <button type=\"button\"\n              onClick={()=>setAvailable(!available)}\n              className={`relative inline-flex h-6 w-11 items-center rounded-full ${available?'bg-pink-500':'bg-gray-300'}`}>\n              <span className={`inline-block h-4 w-4 transform rounded-full bg-white ${available?'translate-x-6':'translate-x-1'}`} />\n            </button>\n          </div>\n\n          <div className=\"flex justify-end gap-3 pt-2\">\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>Cancel</Button>\n            <Button type=\"submit\" disabled={busy}>\n              {busy ? 'Saving…' : 'Add'}\n            </Button>\n          </div>\n        </form>\n      </Card>\n    </div>\n  );\n}\n","import { useEffect, useMemo, useState } from 'react';\nimport { db } from \"../firebase\";\nimport {\n  collection, doc, onSnapshot, orderBy, query, setDoc, updateDoc, serverTimestamp\n} from 'firebase/firestore';\n\nexport type InventoryItem = { type: string; price: number; quantity: number; available: boolean };\n\nexport function useInventory(bloodBankId?: string) {\n  const [items, setItems] = useState<InventoryItem[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!bloodBankId) return;\n    const q = query(collection(db, 'blood_banks', bloodBankId, 'inventory'), orderBy('__name__'));\n    const unsub = onSnapshot(q, (snap) => {\n      const rows: InventoryItem[] = snap.docs.map((d) => ({ type: d.id, ...(d.data() as any) }));\n      setItems(rows);\n      setLoading(false);\n    });\n    return () => unsub();\n  }, [bloodBankId]);\n\n  // --- auto-update helpers (debounced where helpful) ---\n  const updateQuantity = async (type: string, quantity: number) => {\n    if (!bloodBankId) return;\n    const ref = doc(db, 'blood_banks', bloodBankId, 'inventory', type);\n    await updateDoc(ref, { quantity: Math.max(0, Math.floor(quantity)), updatedAt: serverTimestamp() });\n  };\n\n  const updatePrice = async (type: string, price: number) => {\n    if (!bloodBankId) return;\n    const ref = doc(db, 'blood_banks', bloodBankId, 'inventory', type);\n    await updateDoc(ref, { price: Math.max(0, Math.floor(price)), updatedAt: serverTimestamp() });\n  };\n\n  const toggleAvailability = async (type: string, available: boolean) => {\n    if (!bloodBankId) return;\n    const ref = doc(db, 'blood_banks', bloodBankId, 'inventory', type);\n    await updateDoc(ref, { available, updatedAt: serverTimestamp() });\n  };\n\n  const addStock = async (type: string, data: { price: number; quantity: number; available: boolean }) => {\n    if (!bloodBankId) return;\n    const ref = doc(db, 'blood_banks', bloodBankId, 'inventory', type);\n    await setDoc(ref, { ...data, updatedAt: serverTimestamp() }, { merge: true });\n  };\n\n  return { items, loading, updateQuantity, updatePrice, toggleAvailability, addStock };\n}\n\n// Stock-level helper (unchanged)\nexport function getStockLevel(quantity: number) {\n  if (quantity === 0) return { label: 'Out of Stock', color: 'danger' as const };\n  if (quantity < 5)  return { label: 'Critical',    color: 'danger' as const };\n  if (quantity < 10) return { label: 'Low Stock',   color: 'warning' as const };\n  return { label: 'Good Stock', color: 'success' as const };\n}\n","\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../../context/AuthContext';\nimport Header from '../../../components/feature/Header';\nimport Footer from '../../../components/feature/Footer';\nimport Button from '../../../components/base/Button';\nimport Card from '../../../components/base/Card';\nimport Badge from '../../../components/base/Badge';\nimport { db } from \"../../../firebase\"; \nimport { collection, query, where, getDoc, setDoc, addDoc, getDocs, updateDoc, doc } from \"firebase/firestore\";\nimport { useNotification } from '../../../context/NotificationContext';\nimport type { Donation } from '../../../firebase/types';\nimport { auth } from \"../../../firebase\";\nimport { updatePassword } from \"firebase/auth\";\nimport AddStockModal from '../AddStockModal';\nimport { useInventory } from '../../../hooks/useInventory';\nimport { EmailAuthProvider, reauthenticateWithCredential } from \"firebase/auth\";\n\n\nexport default function BloodBankDashboard() {\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [isLoading, setIsLoading] = useState(true);\n  const [donations, setDonations] = useState<any[]>([]);\n  const [selectedBloodBankId, setSelectedBloodBankId] = useState<string | null>(null);\n  const [showAdd, setShowAdd] = useState(false);\n  const [requests, setRequests] = useState<any[]>([]);\n  const [profile, setProfile] = useState<any>(null);\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const { user } = useAuth();\n  // const selectedBloodBankId = user?.bloodBankId;\n  const navigate = useNavigate();\n  const { notify } = useNotification(); \n  const bankId = (user?.uid || user?.bloodBankId);\n\n  const {\n    items: bloodInventory, \n    updateQuantity, updatePrice, toggleAvailability, addStock\n  } = useInventory(bankId);\n\n  const [revenueData, setRevenueData] = useState<any>(null);\n\n  const [transactions, setTransactions] = useState<any[]>([]);\n\n   useEffect(() => {\n    const fetchUserData = async () => {\n      const user = auth.currentUser;\n      if (!user) return;\n      const userRef = doc(db, \"users\", user.uid);\n      const userSnap = await getDoc(userRef);\n      if (userSnap.exists()) {\n        const userData = userSnap.data();\n        setSelectedBloodBankId(userData?.uid);\n        console.log(\"Fetched user data:\", userData);\n      }\n    };\n    fetchUserData();\n  }, []);\n\n  useEffect(() => {\n    if (!user) {\n      // If auth context isn't populated yet, wait briefly\n      setTimeout(() => {\n        const current = window.localStorage.getItem('bloodlink_user');\n        if (!current) navigate('/auth');\n      }, 50);\n      return;\n    }\n    if ((user.type || user.userType || '').toString().toLowerCase() !== 'bloodbank') {\n      navigate('/');\n      return;\n    }\n    setIsLoading(false);\n  }, [navigate]);\n\n  useEffect(() => {\n      const fetchDonations = async () => {\n          try {\n              if (!selectedBloodBankId) {\n                  return;\n              }\n\n              const q = query(\n                  collection(db, \"donations\"),\n                  where(\"location\", \"==\", selectedBloodBankId)\n              );\n              const querySnapshot = await getDocs(q);\n\n              const fetchedDonations: Donation[] = querySnapshot.docs.map((doc) => {\n                  const data = doc.data();\n                  return {\n                      id: doc.id,\n                      fullName: data.fullName || \"UNKNOWN\",\n                      bloodType: data.bloodType || \"UNKNOWN\",\n                      phone: data.phone || \"\",\n                      donorEmail: data.donorEmail || \"\",\n                      requestTime: data.createdAt\n                          ? data.createdAt.toDate().toLocaleString()\n                          : \"Unknown\",\n                      status: data.status || \"pending\",\n                      preferredDate: data.preferredDate || \"\",\n                      emergencyContact: data.emergencyContact || \"\",\n                      lastDonation: data.lastDonation || \"\",\n                      notes: data.medicalHistory || \"\",\n                      preferredTime: data.preferredTime || \"\",\n                  };\n              });\n\n              const sortedDonations = fetchedDonations.sort((a, b) => {\n                  if (a.status === 'pending' && b.status !== 'pending') {\n                      return -1;\n                  }\n                  if (a.status !== 'pending' && b.status === 'pending') {\n                      return 1;\n                  }\n                  return 0;\n              });\n\n              setDonations(sortedDonations);\n          } catch (error) {\n              console.error(\"Error fetching donations:\", error);\n          }\n      };\n\n      fetchDonations();\n  }, [selectedBloodBankId]);\n\n  useEffect(() => {\n    const fetchRequests = async () => {\n      try {\n        if (!selectedBloodBankId) return;\n\n        const q = query(\n          collection(db, \"blood_requests\"),\n          where(\"location\", \"==\", selectedBloodBankId)\n        );\n\n        const querySnapshot = await getDocs(q);\n\n        const fetchedRequests = querySnapshot.docs.map((doc) => {\n          const data = doc.data();\n          \n          return {\n            id: doc.id,\n            patientName: data.patientName || '',\n            bloodType: data.bloodType || '',\n            quantity: Number(data.unitsNeeded) || 0,          \n            urgency: data.urgency || '',\n            totalCost: Number(data.totalAmount) || 0,         \n            status: data.status || 'pending',\n            notes: data.additionalNotes || '',\n            contactPhone: data.contactNumber || '',\n            requestTime: data.createdAt ? data.createdAt.toDate().toLocaleString() : ''\n          }\n        });\n\n        setRequests(fetchedRequests);\n      } catch(err) {\n        console.log(\"Error fetching requests\", err)\n      }\n\n    }\n\n    fetchRequests();\n  }, [selectedBloodBankId]);\n\n  useEffect(() => {\n    if(!selectedBloodBankId) return;\n\n    const revRef = doc(db, \"revenue\", selectedBloodBankId);\n    getDoc(revRef).then(snap => {\n      if (snap.exists()) {\n        setRevenueData(snap.data());\n      }\n    });\n\n  }, [selectedBloodBankId, requests]);\n\n  useEffect(()=> {\n  if(!selectedBloodBankId) return;\n\n  const q = query(\n    collection(db, \"transactions\"),\n    where(\"bloodBankId\", \"==\", selectedBloodBankId)\n  );\n\n  getDocs(q).then(snapshot=>{\n      const t = snapshot.docs.map(doc=> {\n        const d = doc.data();\n        return {\n          id: doc.id,\n          patient: d.patientName,\n          bloodType: d.bloodType,\n          amount: Number(d.amount),\n          date: d.date?.toDate().toLocaleDateString(),\n          status: d.status\n        }\n      });\n      setTransactions(t);\n    })\n  }, [selectedBloodBankId, requests]);\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      if(!selectedBloodBankId) return;\n\n      const bankRef = doc(db, \"blood_banks\", selectedBloodBankId);\n      const snap = await getDoc(bankRef);\n\n      if(snap.exists()) {\n        setProfile(snap.data());\n      }\n    };\n\n    fetchProfile();\n  }, [selectedBloodBankId]);\n\n  const handleCompleteDonation = async (donationId: string) => {\n    try {\n      const donationRef = doc(db, \"donations\", donationId);\n\n      await updateDoc(donationRef, {\n        status: 'completed',\n        completedAt: new Date() \n      });\n\n      setDonations(prevDonations => \n        prevDonations.map(donation => \n          donation.id === donationId ? { ...donation, status: 'completed' } : donation\n        )\n      );\n\n      notify({ type: 'success', message: 'Donation request completed successfully!' });\n      \n    } catch (error) {\n      console.error(\"Error completing donation:\", error);\n      notify({ type: 'error', message: 'Failed to complete donation request. Please try again.' });\n    }\n  };\n\n  const handleCompleteRequest = async (requestId: string) => {\n    try {\n      const reqRef = doc(db, \"blood_requests\", requestId);\n      const reqSnap = await getDoc(reqRef);\n\n      if(!reqSnap.exists()) return;\n\n      const requestData = reqSnap.data();\n      const amount = Number(requestData.totalAmount) || 0;\n\n      // 1) Mark Request Completed\n      await updateDoc(reqRef, {\n        status: \"completed\",\n        completedAt: new Date()\n      });\n\n      // 2) Update revenue\n      const revRef = doc(db, \"revenue\", selectedBloodBankId!);\n      const revSnap = await getDoc(revRef);\n\n      if(revSnap.exists()) {\n        const revData = revSnap.data();\n        await updateDoc(revRef, {\n          totalRevenue: (revData.totalRevenue || 0) + amount,\n          monthlyRevenue: (revData.monthlyRevenue || 0) + amount,\n          weeklyRevenue: (revData.weeklyRevenue || 0) + amount,\n          completedTransactions: (revData.completedTransactions || 0) + 1\n        });\n      } else {\n        await setDoc(revRef, {\n          totalRevenue: amount,\n          monthlyRevenue: amount,\n          weeklyRevenue: amount,\n          completedTransactions: 1,\n          pendingPayments: 0\n        });\n      }\n\n      await addDoc(collection(db, \"transactions\"), {\n        bloodBankId: selectedBloodBankId,\n        facilityId: selectedBloodBankId,\n        amount,\n        patientName: requestData.patientName,\n        bloodType: requestData.bloodType,\n        date: new Date(),\n        status: \"completed\"\n      });\n\n      // Update UI state locally\n      setRequests(prev =>\n        prev.map(req =>\n          req.id === requestId ? { ...req, status: \"completed\" } : req\n        )\n      );\n\n      notify({ type: 'success', message: 'Blood request marked as completed & revenue updated!' });\n\n    } catch (error) {\n      console.error(\"Error completing request:\", error);\n      notify({ type: 'error', message: 'Failed to complete blood request.' });\n    }\n  };\n\n  const handleSaveProfile = async () => {\n    if(!selectedBloodBankId) return;\n\n    const ref = doc(db, \"blood_banks\", selectedBloodBankId);\n\n    await updateDoc(ref, {\n      name: profile.name || \"\",\n      licenseNumber: profile.licenseNumber,\n      address: profile.address || \"\",\n      contactEmail: profile.contactEmail || \"\",\n      contactPhone: profile.contactPhone || \"\"\n    });\n\n    notify({ type:'success', message:'Profile updated successfully!'});\n    console.log(\"clicked\")\n  };\n\n  const handlePasswordUpdate = async () => {\n    try {\n      if(newPassword !== confirmPassword) {\n        notify({ type:'error', message:'Passwords do not match' });\n        return;\n      }\n\n      const user = auth.currentUser!;\n      const cred = EmailAuthProvider.credential(user.email!, currentPassword);\n\n      await reauthenticateWithCredential(user, cred);\n\n      await updatePassword(user, newPassword);\n\n      notify({ type:'success', message:'Password updated successfully!' });\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmPassword(\"\");\n\n    } catch(e: any) {\n      console.log(e);\n      notify({ type:'error', message:e.message || 'Failed to update password.' });\n    }\n  };\n\n  const getStockLevel = (\n    quantity: number\n  ): { level: 'out' | 'critical' | 'low' | 'good'; color: 'danger' | 'warning' | 'success' | 'default' | 'pink' } => {\n    if (quantity === 0) return { level: 'out', color: 'danger' };\n    if (quantity < 5) return { level: 'critical', color: 'danger' };\n    if (quantity < 10) return { level: 'low', color: 'warning' };\n    return { level: 'good', color: 'success' };\n  };\n\n  const getUrgencyBadge = (urgency: string | undefined) => {\n    if (!urgency) {\n      return { variant: 'default' as const, text: 'UNKNOWN' };\n    }\n\n    switch (urgency) {\n      case 'emergency': return { variant: 'danger' as const, text: 'EMERGENCY' };\n      case 'urgent': return { variant: 'warning' as const, text: 'URGENT' };\n      case 'routine': return { variant: 'success' as const, text: 'ROUTINE' };\n      default: return { variant: 'default' as const, text: urgency.toUpperCase() };\n    }\n  };\n\n  const totalUnits = bloodInventory.reduce((sum, item) => sum + item.quantity, 0);\n  const lowStockItems = bloodInventory.filter(item => item.quantity < 5).length;\n  const pendingRequests = requests.filter(req => req.status === 'pending').length;\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-pink-50/30 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse\">\n            <i className=\"ri-heart-pulse-fill text-white text-2xl\"></i>\n          </div>\n          <p className=\"text-gray-600\">Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-pink-50/30\">\n      <Header />\n      \n      {/* Dashboard Header */}\n      <section className=\"bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 text-white pt-20\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-4xl font-bold mb-2\">\n                Blood Bank Dashboard\n              </h1>\n              <p className=\"text-pink-100 text-lg\">\n                Welcome back {user.fullName || user.firstName}! Manage your inventory, requests, and revenue.\n              </p>\n            </div>\n            <div className=\"flex space-x-3\">\n              <Button className=\"bg-white/20 border border-white/30 text-white hover:bg-white/30\" onClick={()=>setShowAdd(true)}>\n                <i className=\"ri-add-line mr-2\"></i>\n                Add Stock\n              </Button>\n\n              <AddStockModal\n                open={showAdd}\n                onClose={()=>setShowAdd(false)}\n                onCreate={async (p)=>{ await addStock(p.type, { price: p.price, quantity: p.quantity, available: p.available }); }}\n              />\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Navigation Tabs */}\n      <section className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-3 sm:grid-cols-3 md:flex md:space-x-8 gap-3 text-center\">\n            {[\n              { id: 'dashboard', label: 'Dashboard', icon: 'ri-dashboard-line' },\n              { id: 'inventory', label: 'Inventory', icon: 'ri-drop-line' },\n              { id: 'requests', label: 'Requests', icon: 'ri-file-list-line' },\n              { id: 'donations', label: 'Donations', icon: 'ri-heart-line' },\n              { id: 'payments', label: 'Payments', icon: 'ri-money-dollar-circle-line' },\n              { id: 'account', label: 'Account', icon: 'ri-settings-line' }\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`py-4 px-2 border-b-2 font-medium text-sm transition-colors duration-200 whitespace-nowrap ${\n                  activeTab === tab.id\n                    ? 'border-pink-500 text-pink-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                <i className={`${tab.icon} mr-2`}></i>\n                {tab.label}\n              </button>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Content */}\n      <section className=\"py-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          {activeTab === 'dashboard' && (\n            <div className=\"space-y-8\">\n              {/* Stats Overview */}\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <Card className=\"bg-gradient-to-r from-pink-500 to-rose-500 text-white border-0\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center mr-4\">\n                      <i className=\"ri-drop-line text-white text-xl\"></i>\n                    </div>\n                    <div>\n                      <p className=\"text-pink-100 text-sm\">Total Units</p>\n                      <p className=\"text-2xl font-bold\">{totalUnits}</p>\n                    </div>\n                  </div>\n                </Card>\n                \n                <Card className=\"bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center mr-4\">\n                      <i className=\"ri-alert-line text-white text-xl\"></i>\n                    </div>\n                    <div>\n                      <p className=\"text-yellow-100 text-sm\">Low Stock Items</p>\n                      <p className=\"text-2xl font-bold\">{lowStockItems}</p>\n                    </div>\n                  </div>\n                </Card>\n                \n                <Card className=\"bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center mr-4\">\n                      <i className=\"ri-file-list-line text-white text-xl\"></i>\n                    </div>\n                    <div>\n                      <p className=\"text-blue-100 text-sm\">Pending Requests</p>\n                      <p className=\"text-2xl font-bold\">{pendingRequests}</p>\n                    </div>\n                  </div>\n                </Card>\n                \n                <Card className=\"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center mr-4\">\n                      <i className=\"ri-money-dollar-circle-line text-white text-xl\"></i>\n                    </div>\n                    <div>\n                      <p className=\"text-green-100 text-sm\">Monthly Revenue</p>\n                      <p className=\"text-2xl font-bold\">₦{revenueData?.monthlyRevenue?.toLocaleString?.() || 0}</p>\n                    </div>\n                  </div>\n                </Card>\n              </div>\n\n              {/* Quick Actions */}\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                <Card>\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Recent Blood Requests</h3>\n                  <div className=\"space-y-4\">\n                    {requests.slice(0, 3).map((request) => {\n                      const urgencyBadge = getUrgencyBadge(request.urgency);\n                      return (\n                        <div key={request.id} className=\"flex justify-between items-center p-4 bg-gray-50 rounded-lg\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center space-x-3 mb-2\">\n                              <h4 className=\"font-semibold text-gray-900\">{request.patientName}</h4>\n                              <Badge variant={urgencyBadge.variant}>\n                                {urgencyBadge.text}\n                              </Badge>\n                            </div>\n                            <p className=\"text-sm text-gray-600\">\n                              {request.bloodType} • {request.quantity} pints • ₦{request.totalCost.toLocaleString()}\n                            </p>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"text-xs text-gray-500\">{request.requestTime}</p>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                  <div className=\"text-center mt-4\">\n                    <Button \n                      variant=\"outline\" \n                      onClick={() => setActiveTab('requests')}\n                      className=\"w-full\"\n                    >\n                      View All Requests\n                    </Button>\n                  </div>\n                </Card>\n\n                <Card>\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Revenue Overview</h3>\n                  <div className=\"space-y-6\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n                        <p className=\"text-2xl font-bold\">₦{revenueData?.totalRevenue?.toLocaleString?.() || 0}</p>\n                        <p className=\"text-sm text-green-700\">Total Revenue</p>\n                      </div>\n                      <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n                        <p className=\"text-2xl font-bold\">{revenueData?.completedTransactions || 0}</p>\n                        <p className=\"text-sm text-blue-700\">Completed Orders</p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-sm text-gray-600\">This Month</span>\n                        <span className=\"font-semibold text-gray-900\">₦{revenueData?.monthlyRevenue?.toLocaleString?.() || 0}</span>\n                      </div>\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-sm text-gray-600\">This Week</span>\n                        <span className=\"font-semibold text-gray-900\">₦{revenueData?.weeklyRevenue?.toLocaleString() || 0}</span>\n                      </div>\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-sm text-gray-600\">Pending Payments</span>\n                        <Badge variant=\"warning\">{pendingRequests}</Badge>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"text-center mt-4\">\n                    <Button \n                      variant=\"outline\" \n                      onClick={() => setActiveTab('payments')}\n                      className=\"w-full\"\n                    >\n                      View Payment Details\n                    </Button>\n                  </div>\n                </Card>\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'inventory' && (\n            <Card>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">\n                  Blood Inventory Management\n                </h2>\n              </div>\n              \n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"border-b border-gray-200\">\n                      <th className=\"text-left py-4 px-4 font-semibold text-gray-900\">Blood Type</th>\n                      <th className=\"text-left py-4 px-4 font-semibold text-gray-900\">Quantity</th>\n                      <th className=\"text-left py-4 px-4 font-semibold text-gray-900\">Price per Pint</th>\n                      <th className=\"text-left py-4 px-4 font-semibold text-gray-900\">Stock Level</th>\n                      <th className=\"text-left py-4 px-4 font-semibold text-gray-900\">Availability</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {bloodInventory.map((item) => {\n                      const stockLevel = getStockLevel(item.quantity);\n                      return (\n                        <tr key={item.type} className=\"border-b border-gray-100 hover:bg-gray-50\">\n                          <td className=\"py-4 px-4\">\n                            <div className=\"flex items-center\">\n                              <div className=\"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center mr-3\">\n                                <i className=\"ri-drop-line text-pink-500\"></i>\n                              </div>\n                              <span className=\"font-semibold text-gray-900\">{item.type}</span>\n                            </div>\n                          </td>\n                          <td className=\"py-4 px-4\">\n                            <div className=\"flex items-center space-x-2\">\n                              <button\n                                onClick={() => updateQuantity(item.type, item.quantity - 1)}\n                                className=\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center cursor-pointer\"\n                              >\n                                <i className=\"ri-subtract-line text-sm\"></i>\n                              </button>\n                              <span className=\"w-12 text-center font-medium\">{item.quantity}</span>\n                              <button\n                                onClick={() => updateQuantity(item.type, item.quantity + 1)}\n                                className=\"w-8 h-8 bg-pink-500 hover:bg-pink-600 text-white rounded-full flex items-center justify-center cursor-pointer\"\n                              >\n                                <i className=\"ri-add-line text-sm\"></i>\n                              </button>\n                            </div>\n                          </td>\n                          <td className=\"py-4 px-4\">\n                            <div className=\"flex items-center\">\n                              <span className=\"mr-2\">₦</span>\n                              <input\n                                type=\"number\"\n                                value={item.price}\n                                onChange={(e) => updatePrice(item.type, Number(e.target.value))}\n                                className=\"w-20 px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-sm\"\n                                min=\"0\"\n                                step=\"1000\"\n                              />\n                            </div>\n                          </td>\n                          <td className=\"py-4 px-4\">\n                            <Badge variant={stockLevel.color}>\n                              {stockLevel.level === 'out' ? 'Out of Stock' :\n                               stockLevel.level === 'critical' ? 'Critical' :\n                               stockLevel.level === 'low' ? 'Low Stock' : 'Good Stock'}\n                            </Badge>\n                          </td>\n                          <td className=\"py-4 px-4\">\n                            <button\n                              onClick={() => toggleAvailability(item.type, !item.available)}\n                              className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors cursor-pointer ${\n                                item.available ? 'bg-pink-500' : 'bg-gray-300'\n                              }`}\n                            >\n                              <span\n                                className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                                  item.available ? 'translate-x-6' : 'translate-x-1'\n                                }`}\n                              />\n                            </button>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            </Card>\n          )}\n\n          {activeTab === 'requests' && (\n            <Card>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">\n                  Blood Requests Management\n                </h2>\n              </div>\n              \n              <div className=\"space-y-4\">\n                {requests.map((request) => {\n                  const urgencyBadge = getUrgencyBadge(request.urgency);\n                  return (\n                    <Card key={request.id} className=\"border-l-4 border-l-pink-500\">\n                      <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-4\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-3 mb-3\">\n                            <h3 className=\"font-semibold text-gray-900 text-lg\">{request.patientName}</h3>\n                            <Badge variant={urgencyBadge.variant}>\n                              {urgencyBadge.text}\n                            </Badge>\n                            <Badge variant={request.status === 'pending' ? 'warning' : request.status === 'completed' ? 'success' : 'default'}>\n                              {request.status.toUpperCase()}\n                            </Badge>\n                          </div>\n                          \n                          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 mb-3\">\n                            <div>\n                              <span className=\"font-medium\">Blood Type:</span>\n                              <span className=\"ml-1 font-semibold text-pink-600\">{request.bloodType}</span>\n                            </div>\n                            <div>\n                              <span className=\"font-medium\">Quantity:</span>\n                              <span className=\"ml-1\">{request.quantity} pints</span>\n                            </div>\n                            <div>\n                              <span className=\"font-medium\">Total Cost:</span>\n                              <span className=\"ml-1 font-semibold text-green-600\">₦{request.totalCost.toLocaleString()}</span>\n                            </div>\n                            <div>\n                              <span className=\"font-medium\">Requested:</span>\n                              <span className=\"ml-1\">{request.requestTime}</span>\n                            </div>\n                          </div>\n\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 mb-3\">\n                            <div>\n                              <span className=\"font-medium\">Phone:</span>\n                              <span className=\"ml-1\">{request.contactPhone}</span>\n                            </div>\n                          </div>\n\n                          {request.notes && (\n                            <div className=\"text-sm text-gray-600\">\n                              <span className=\"font-medium\">Notes:</span>\n                              <span className=\"ml-1\">{request.notes}</span>\n                            </div>\n                          )}\n                        </div>\n                        \n                        {request.status === 'pending' && (\n                          <div className=\"flex space-x-2 ml-4\">\n                            {/* <Button size=\"sm\" variant=\"outline\">\n                              <i className=\"ri-close-line mr-2\"></i>\n                              Reject\n                            </Button> */}\n                            <Button size=\"sm\" className=\"bg-green-500 hover:bg-green-600 text-white\" onClick={() => handleCompleteRequest(request.id)}>\n                              <i className=\"ri-check-line mr-2\"></i>\n                              Complete\n                            </Button>\n                          </div>\n                        )}\n                      </div>\n                    </Card>\n                  );\n                })}\n              </div>\n            </Card>\n          )}\n\n          {activeTab === 'donations' && (\n            <Card>\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Donation Requests</h3>\n              <div className=\"space-y-4\">\n                {donations.map((donation) => {\n                  // const urgencyBadge = getUrgencyBadge(donation.urgency);\n                  return (\n                    <Card key={donation.id} className=\"border-l-4 border-l-pink-500\">\n                      <div className=\"flex justify-between items-start\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-3 mb-3\">\n                            <h3 className=\"font-semibold text-gray-900 text-lg\">{donation.fullName}</h3>\n                            {/* <Badge variant={urgencyBadge.variant}>{urgencyBadge.text}</Badge> */}\n                            <Badge variant={donation.status === 'pending' ? 'warning' : 'success'}>{donation.status.toUpperCase()}</Badge>\n                          </div>\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 mb-3\">\n                            <div><span className=\"font-medium\">Blood Type:</span> {donation.bloodType}</div>\n                            <div><span className=\"font-medium\">Emergency Contact: <br /> </span> {donation.emergencyContact} </div>\n                            <div><span className=\"font-medium\">Preferred Date: <br /> </span> {donation.preferredDate}</div>\n                            <div><span className=\"font-medium\">Requested: <br /> </span> {donation.requestTime}</div>\n                          </div>\n                          \n                          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 mb-3\">\n                            <div><span className=\"font-medium\">Phone:</span> {donation.phone}</div>\n                            <div><span className=\"font-medium\">Email:</span> {donation.donorEmail}</div>\n                            <div><span className=\"font-medium\">Last Donation:</span> {donation.lastDonation}</div>\n                            <div><span className=\"font-medium\">Preferred Time:</span> {donation.preferredTime}</div>\n                          </div>\n\n                          {donation.notes && (\n                            <div className=\"text-sm text-gray-600\"><span className=\"font-medium\">Notes:</span> {donation.notes}</div>\n                          )}\n                        </div>\n                        \n                        {donation.status === 'pending' && (\n                          <div className=\"flex space-x-2 ml-4\">\n                            {/* <Button size=\"sm\" variant=\"outline\">\n                              <i className=\"ri-close-line mr-2\"></i> Reject\n                            </Button> */}\n                            <Button size=\"sm\" className=\"bg-green-500 hover:bg-green-600 text-white\" onClick={() => handleCompleteDonation(donation.id)}>\n                              <i className=\"ri-check-line mr-2\"></i> Complete\n                            </Button>\n                          </div>\n                        )}\n                      </div>\n                    </Card>\n                  );\n                })}\n              </div>\n            </Card>\n          )}\n\n          {activeTab === 'payments' && (\n            <div className=\"space-y-8\">\n              {/* Revenue Cards */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <Card className=\"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0\">\n                  <div className=\"text-center\">\n                    <p className=\"text-green-100 text-sm mb-2\">Total Revenue</p>\n                    <p className=\"text-3xl font-bold\">₦{revenueData?.totalRevenue?.toLocaleString() || 0}</p>\n                    <p className=\"text-green-100 text-xs mt-1\">All time</p>\n                  </div>\n                </Card>\n\n                <Card className=\"bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0\">\n                  <div className=\"text-center\">\n                    <p className=\"text-blue-100 text-sm mb-2\">Monthly Revenue</p>\n                    <p className=\"text-3xl font-bold\">₦{revenueData?.monthlyRevenue?.toLocaleString() || 0}</p>\n                    <p className=\"text-blue-100 text-xs mt-1\">This month</p>\n                  </div>\n                </Card>\n\n                <Card className=\"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0\">\n                  <div className=\"text-center\">\n                    <p className=\"text-purple-100 text-sm mb-2\">Weekly Revenue</p>\n                    <p className=\"text-3xl font-bold\">₦{revenueData?.weeklyRevenue?.toLocaleString() || 0}</p>\n                    <p className=\"text-purple-100 text-xs mt-1\">This week</p>\n                  </div>\n                </Card>\n              </div>\n\n              {/* Recent Transactions */}\n              <Card>\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h3 className=\"text-xl font-semibold text-gray-900\">Recent Transactions</h3>\n                </div>\n\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead>\n                      <tr className=\"border-b border-gray-200\">\n                        <th className=\"text-left py-3 px-4 font-semibold text-gray-900\">Patient</th>\n                        <th className=\"text-left py-3 px-4 font-semibold text-gray-900\">Blood Type</th>\n                        <th className=\"text-left py-3 px-4 font-semibold text-gray-900\">Amount</th>\n                        <th className=\"text-left py-3 px-4 font-semibold text-gray-900\">Date</th>\n                        <th className=\"text-left py-3 px-4 font-semibold text-gray-900\">Status</th>\n                        {/* <th className=\"text-left py-3 px-4 font-semibold text-gray-900\">Actions</th> */}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {transactions.map((transaction) => (\n                        <tr key={transaction.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\n                          <td className=\"py-3 px-4 font-medium text-gray-900\">{transaction.patient}</td>\n                          <td className=\"py-3 px-4\">\n                            <span className=\"inline-flex items-center px-2 py-1 bg-pink-100 text-pink-700 rounded-full text-sm\">\n                              {transaction.bloodType}\n                            </span>\n                          </td>\n                          <td className=\"py-3 px-4 font-semibold text-green-600\">₦{transaction.amount.toLocaleString()}</td>\n                          <td className=\"py-3 px-4 text-gray-600\">{transaction.date}</td>\n                          <td className=\"py-3 px-4\">\n                            <Badge variant={transaction.status === 'completed' ? 'success' : 'warning'}>\n                              {transaction.status.toUpperCase()}\n                            </Badge>\n                          </td>\n                          <td className=\"py-3 px-4\">\n                            {/* <Button size=\"sm\" variant=\"outline\">\n                              <i className=\"ri-eye-line mr-2\"></i>\n                              View\n                            </Button> */}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </Card>\n            </div>\n          )}\n\n          {activeTab === 'account' && (\n            <div className=\"space-y-8\">\n              <Card>\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Blood Bank Profile</h3>\n                <form className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Blood Bank Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={profile?.name || \"\"}  \n                        onChange={(e)=> setProfile({...profile, name: e.target.value})}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        License Number\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={profile?.licenseNumber ?? \"\"}\n                        onChange={(e)=> setProfile({...profile, licenseNumber: e.target.value})}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Address\n                    </label>\n                    <textarea\n                      rows={3}\n                      value={profile?.address || \"\"}  \n                      onChange={(e)=> setProfile({...profile, address: e.target.value})}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Contact Email\n                      </label>\n                      <input\n                        type=\"email\"\n                        value={profile?.contactEmail || \"\"}  \n                        onChange={(e)=> setProfile({...profile, contactEmail: e.target.value})}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Contact Phone\n                      </label>\n                      <input\n                        type=\"tel\"\n                        value={profile?.contactPhone || \"\"}  \n                        onChange={(e)=> setProfile({...profile, contactPhone: e.target.value})}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-end space-x-4\">\n                    {/* <Button type=\"button\" onClick={() => setProfile(profile)} variant=\"outline\">\n                      Cancel\n                    </Button> */}\n                    <Button type=\"button\" className=\"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600\" onClick={handleSaveProfile}>\n                      Save Changes\n                    </Button>\n                  </div>\n                </form>\n              </Card>\n\n              <Card>\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-6\">Security Settings</h3>\n                <form className=\"space-y-6\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Current Password\n                    </label>\n                    <input\n                      type=\"password\"\n                      value={currentPassword}\n                      onChange={(e)=>setCurrentPassword(e.target.value)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        New Password\n                      </label>\n                      <input\n                        type=\"password\"\n                        value={newPassword}\n                        onChange={(e)=>setNewPassword(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Confirm New Password\n                      </label>\n                      <input\n                        type=\"password\"\n                        value={confirmPassword}\n                        onChange={(e)=>setConfirmPassword(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-end\">\n                    <Button type='button' className=\"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600\" onClick={handlePasswordUpdate}>\n                      Update Password\n                    </Button>\n                  </div>\n                </form>\n              </Card>\n            </div>\n          )}\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n}\n"],"names":["BLOOD_TYPES","AddStockModal","open","onClose","onCreate","type","setType","useState","quantity","setQuantity","price","setPrice","available","setAvailable","busy","setBusy","submit","e","jsxs","Card","jsx","t","Button","useInventory","bloodBankId","items","setItems","loading","setLoading","useEffect","q","query","collection","db","orderBy","unsub","onSnapshot","snap","rows","d","ref","doc","updateDoc","serverTimestamp","data","setDoc","BloodBankDashboard","activeTab","setActiveTab","isLoading","setIsLoading","donations","setDonations","selectedBloodBankId","setSelectedBloodBankId","showAdd","setShowAdd","requests","setRequests","profile","setProfile","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","user","useAuth","navigate","useNavigate","notify","useNotification","bankId","bloodInventory","updateQuantity","updatePrice","toggleAvailability","addStock","revenueData","setRevenueData","transactions","setTransactions","auth","userRef","userSnap","getDoc","userData","where","sortedDonations","getDocs","a","b","error","fetchedRequests","err","revRef","snapshot","bankRef","handleCompleteDonation","donationId","donationRef","prevDonations","donation","handleCompleteRequest","requestId","reqRef","reqSnap","requestData","amount","revSnap","revData","addDoc","prev","req","handleSaveProfile","handlePasswordUpdate","cred","EmailAuthProvider","reauthenticateWithCredential","updatePassword","getStockLevel","getUrgencyBadge","urgency","totalUnits","sum","item","lowStockItems","pendingRequests","Header","p","tab","request","urgencyBadge","Badge","stockLevel","transaction","Footer"],"mappings":"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"}